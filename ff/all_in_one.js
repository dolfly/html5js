var o=o||{};!function(a,b){a={'coin-bg':{img:'pack-1',x:300,y:278,w:68,h:82,ox:0,oy:0,sw:68,sh:82},coin:{img:'pack-1',x:300,y:360,w:68,h:82,ox:0,oy:0,sw:68,sh:82},'face-0':{img:'pack-1',x:866,y:0,w:150,h:190,ox:0,oy:0,sw:150,sh:190},'face-12':{img:'pack-1',x:416,y:0,w:150,h:190,ox:0,oy:0,sw:150,sh:190},'face-15':{img:'pack-1',x:566,y:0,w:150,h:190,ox:0,oy:0,sw:150,sh:190},'face-16':{img:'pack-1',x:0,y:468,w:150,h:190,ox:0,oy:0,sw:150,sh:190},'face-17':{img:'pack-1',x:150,y:88,w:150,h:190,ox:0,oy:0,sw:150,sh:190},'face-2':{img:'pack-1',x:0,y:278,w:150,h:190,ox:0,oy:0,sw:150,sh:190},'face-21':{img:'pack-1',x:150,y:278,w:150,h:190,ox:0,oy:0,sw:150,sh:190},'face-22':{img:'pack-1',x:0,y:88,w:150,h:190,ox:0,oy:0,sw:150,sh:190},'face-25':{img:'pack-1',x:416,y:190,w:150,h:190,ox:0,oy:0,sw:150,sh:190},'face-31':{img:'pack-1',x:150,y:468,w:150,h:190,ox:0,oy:0,sw:150,sh:190},'face-5':{img:'pack-1',x:566,y:190,w:150,h:190,ox:0,oy:0,sw:150,sh:190},'face-6':{img:'pack-1',x:716,y:0,w:150,h:190,ox:0,oy:0,sw:150,sh:190},'face-8':{img:'pack-1',x:716,y:190,w:150,h:190,ox:0,oy:0,sw:150,sh:190},'face-9':{img:'pack-1',x:866,y:190,w:150,h:190,ox:0,oy:0,sw:150,sh:190},icon_ad:{img:'pack-1',x:360,y:468,w:60,h:60,ox:0,oy:0,sw:60,sh:60},icon_auto:{img:'pack-1',x:716,y:380,w:80,h:80,ox:0,oy:0,sw:80,sh:80},icon_close:{img:'pack-1',x:796,y:380,w:64,h:64,ox:0,oy:0,sw:64,sh:64},icon_coin:{img:'pack-1',x:600,y:468,w:50,h:50,ox:0,oy:0,sw:50,sh:50},icon_exit:{img:'pack-1',x:300,y:88,w:80,h:80,ox:0,oy:0,sw:80,sh:80},icon_freeze:{img:'pack-1',x:300,y:168,w:80,h:80,ox:0,oy:0,sw:80,sh:80},icon_help:{img:'pack-1',x:480,y:468,w:60,h:60,ox:0,oy:0,sw:60,sh:60},'icon_leader-big':{img:'pack-1',x:416,y:380,w:80,h:80,ox:0,oy:0,sw:80,sh:80},icon_leader:{img:'pack-1',x:496,y:380,w:60,h:60,ox:0,oy:0,sw:60,sh:60},icon_new:{img:'pack-1',x:380,y:88,w:30,h:30,ox:0,oy:0,sw:30,sh:30},icon_pause:{img:'pack-1',x:946,y:380,w:64,h:64,ox:0,oy:0,sw:64,sh:64},icon_quit:{img:'pack-1',x:566,y:380,w:80,h:80,ox:0,oy:0,sw:80,sh:80},icon_rate:{img:'pack-1',x:646,y:380,w:60,h:60,ox:0,oy:0,sw:60,sh:60},icon_restart:{img:'pack-1',x:866,y:380,w:80,h:80,ox:0,oy:0,sw:80,sh:80},icon_share:{img:'pack-1',x:420,y:468,w:60,h:60,ox:0,oy:0,sw:60,sh:60},'icon_sound-off':{img:'pack-1',x:300,y:468,w:60,h:60,ox:0,oy:0,sw:60,sh:60},'icon_sound-on':{img:'pack-1',x:540,y:468,w:60,h:60,ox:0,oy:0,sw:60,sh:60},'timebar-value-freeze':{img:'pack-1',x:0,y:44,w:416,h:44,ox:0,oy:0,sw:416,sh:44},'timebar-value':{img:'pack-1',x:0,y:0,w:416,h:44,ox:0,oy:0,sw:416,sh:44}};for(b in a)o[b]=a[b];}();var o=o||{};!function(a,b){a={'face-1':{img:'pack-2',x:0,y:88,w:150,h:190,ox:0,oy:0,sw:150,sh:190},'face-10':{img:'pack-2',x:600,y:468,w:150,h:190,ox:0,oy:0,sw:150,sh:190},'face-11':{img:'pack-2',x:750,y:468,w:150,h:190,ox:0,oy:0,sw:150,sh:190},'face-13':{img:'pack-2',x:150,y:88,w:150,h:190,ox:0,oy:0,sw:150,sh:190},'face-14':{img:'pack-2',x:300,y:88,w:150,h:190,ox:0,oy:0,sw:150,sh:190},'face-18':{img:'pack-2',x:0,y:278,w:150,h:190,ox:0,oy:0,sw:150,sh:190},'face-19':{img:'pack-2',x:150,y:278,w:150,h:190,ox:0,oy:0,sw:150,sh:190},'face-20':{img:'pack-2',x:300,y:278,w:150,h:190,ox:0,oy:0,sw:150,sh:190},'face-23':{img:'pack-2',x:454,y:0,w:150,h:190,ox:0,oy:0,sw:150,sh:190},'face-24':{img:'pack-2',x:454,y:190,w:150,h:190,ox:0,oy:0,sw:150,sh:190},'face-26':{img:'pack-2',x:604,y:0,w:150,h:190,ox:0,oy:0,sw:150,sh:190},'face-27':{img:'pack-2',x:604,y:190,w:150,h:190,ox:0,oy:0,sw:150,sh:190},'face-28':{img:'pack-2',x:754,y:0,w:150,h:190,ox:0,oy:0,sw:150,sh:190},'face-29':{img:'pack-2',x:754,y:190,w:150,h:190,ox:0,oy:0,sw:150,sh:190},'face-3':{img:'pack-2',x:0,y:468,w:150,h:190,ox:0,oy:0,sw:150,sh:190},'face-30':{img:'pack-2',x:150,y:468,w:150,h:190,ox:0,oy:0,sw:150,sh:190},'face-4':{img:'pack-2',x:300,y:468,w:150,h:190,ox:0,oy:0,sw:150,sh:190},'face-7':{img:'pack-2',x:450,y:468,w:150,h:190,ox:0,oy:0,sw:150,sh:190},icon_newrecord:{img:'pack-2',x:604,y:380,w:72,h:32,ox:0,oy:0,sw:72,sh:32},'icon_noad-big':{img:'pack-2',x:454,y:380,w:60,h:60,ox:0,oy:0,sw:60,sh:60},icon_noad:{img:'pack-2',x:604,y:412,w:50,h:50,ox:0,oy:0,sw:50,sh:50},icon_play:{img:'pack-2',x:754,y:380,w:80,h:80,ox:0,oy:0,sw:80,sh:80},icon_plus:{img:'pack-2',x:514,y:380,w:40,h:40,ox:0,oy:0,sw:40,sh:40},icon_score:{img:'pack-2',x:654,y:412,w:44,h:44,ox:0,oy:0,sw:44,sh:44},icon_shop:{img:'pack-2',x:834,y:380,w:60,h:60,ox:0,oy:0,sw:60,sh:60},icon_time:{img:'pack-2',x:698,y:412,w:44,h:44,ox:0,oy:0,sw:44,sh:44},'timebar-bg-freeze':{img:'pack-2',x:0,y:44,w:454,h:44,ox:0,oy:0,sw:454,sh:44},'timebar-bg':{img:'pack-2',x:0,y:0,w:454,h:44,ox:0,oy:0,sw:454,sh:44}};for(b in a)o[b]=a[b];}();var Config={FPS:30,g:!0,devicePixelRatio:window.devicePixelRatio||1,C:2,cardCount:32,width:640,height:1020,u:0.5,Z:0.6667666666666666,loadingOptions:window.loadingOptions},AppVersion=AppVersion||'0.0.1',AppVerNum;!function(a,b){a=AppVersion.split('.'),AppVerNum=0,b=a.length,a.forEach(function(c){b--;var a=Math.pow(100,b);AppVerNum+=c*a;}),console.log('AppVerNum',AppVerNum);}();var v=v||!1,GameName=v?'FatFallUnlimited':'FatFall',GameAppUrl=v?'https://itunes.apple.com/app/fat-fall-unlimited/id1063628276?mt=8':'https://itunes.apple.com/app/fat-fall/id1054336310?mt=8',DefaultShareMessage='#'+GameName+' is so hard. Do you dare to challenge? '+GameAppUrl,i=v?12345:0,DefaultLanguage=DefaultLanguage||'en',DefaultFont=DefaultFont||'font-8bitoperatorRegular',SmallFont=SmallFont||'PixelOperator',m=m||'Arial';!function(b,a){b=window.location.href,!('ontouchstart'in window)&&b.indexOf('file')===0&&(a=1,b.indexOf('d=1')>0?a=1:b.indexOf('d=2')>0?a=2:b.indexOf('d=3')>0&&(a=3),a===1&&(Config.a=320,Config.f=480),a===2&&(Config.a=320,Config.f=568),a===3&&(Config.a=384,Config.f=512));}(),Config.timeStep=1000/Config.FPS>>0,window.devicePixelRatio||(window.devicePixelRatio=1),window.debug=!0,window.log=function(a){window.debug&&console.log.apply(console,arguments);};var TextPool={};TextPool.en={FontSize:{NoticeBar:26,U:24,StartMenuButton:24,PanelTitle:26,PanelLabel:30},OK:'OK',j:'CANCEL',CLOSE:'CLOSE',YES:'YES',NO:'NO',BUY:'BUY',PLAY:'Play',GALLERY:'Gallery',SHOP:'Shop',GET_FREE_COINS:'Get Free Coins',RESTORE_PURCHASED:'Restore Purchased',NEED_MORE_COINS:'Need More Coins.',GAMEPLAY_TIP:'Tap The Same 2 Pictures'},TextPool.cn={FontSize:{NoticeBar:30,U:28,StartMenuButton:32,PanelTitle:32,PanelLabel:34},OK:'\u786E \u5B9A',j:'\u53D6 \u6D88',CLOSE:'\u5173\u95ED',YES:'\u662F',NO:'\u5426',BUY:'\u8D2D\u4E70',PLAY:'\u5F00\u59CB\u6E38\u620F',GALLERY:'\u56FE \u9274',SHOP:'\u5546\u5E97',GET_FREE_COINS:'\u83B7\u5F97\u514D\u8D39\u91D1\u5E01',RESTORE_PURCHASED:'\u6062\u590D\u300C\u4E00\u6B21\u6027\u5185\u8D2D\u300D',NEED_MORE_COINS:'\u91D1\u5E01\u4E0D\u8DB3\uFF0C\u9700\u8981\u66F4\u591A\u3002',GAMEPLAY_TIP:'\u70B9\u51FB\u300C\u4E24\u5F20\u300D\u76F8\u540C\u7684\u56FE\u7247\u8FDB\u884C\u300C\u6D88\u9664\u300D'};var TEXT=TextPool.cn;var r=[{id:'pack-1',src:window.resPath+'pack-1.png'},{id:'pack-2',src:window.resPath+'pack-2.png'}];!function(b,a){r.push({id:'signIn',type:'fn',fn:function(a,b){this._=!0;},update:function(){},V:function(){return this._;}}),r.push({id:'createUIImages',type:'fn',fn:function(a,b){u.create(),this._=!0;},update:function(){},V:function(){return this._;}}),b='res/sound/',a=[],r.unshift({id:'loadSound',type:'fn',fn:function(b,c){this._=!1,x.s.c(a,!1);},V:function(){var c=a.length,b=0;if(a.forEach(function(c){var a=x.s.get(c.id);a&&(a.loaded||a.error)&&b++;}),b>=c){var d=this;setTimeout(function(){d._=!0;},100);}return this._;}});}();var StageConfig={groundCount:200,groundSize:24,global:{}};!function(a,c,d,b){for(a={removeRequire:2,finishRequire:7,cardCount:15,threeCount:2,doubleCount:1,timeCount:16000,X:0,rotate:0,cardStart:0,cardEnd:12,freezeToolRate:0,eraserToolRate:0},c=function(a,b,c){return Math.max(b,Math.min(c,a));},d=0;d<StageConfig.groundCount;d++)b=JSON.parse(JSON.stringify(a)),StageConfig[d]=b,b.groundIndex=d,b.finishRequire=Math.floor(b.finishRequire),b.cardCount=Math.floor(b.cardCount),b.threeCount=Math.ceil(b.threeCount),b.doubleCount=Math.floor(b.doubleCount),b.cardStart=Math.floor(b.cardStart),b.cardEnd=Math.floor(b.cardEnd),b.timeCount=Math.ceil(b.timeCount),a.cardCount=c(a.cardCount+0.25,0,24),a.doubleCount=c(a.doubleCount+0.1,0,3),a.threeCount=c(a.threeCount-0.2,0,3),a.cardStart=c(a.cardStart+0.07,0,5),a.cardEnd=c(a.cardEnd+0.23,0,30),a.timeCount=c(a.timeCount-Math.pow(a.timeCount,0.51),7000,25000),a.X=c(a.X+0.004,0,0.3),a.rotate=c(a.rotate+0.003,0,0.2);}();var IAPConfig={NoAD:{id:'FatFaces.NoAD',icon:'icon_noad',label:' No ADs',productName:'noAD',value:!0,once:!0},ManyCoins1:{id:'FatFaces.ManyCoins1',icon:'icon_coin',label:' x 200',productName:'coin',value:200,add:!0},ManyCoins2:{id:'FatFaces.ManyCoins2',icon:'icon_coin',label:' x 500',productName:'coin',value:500,add:!0},ManyCoins3:{id:'FatFaces.ManyCoins3',icon:'icon_coin',label:' x 2000',productName:'coin',value:2000,add:!0}};var X={reportCount:function(c,a){if(!window.navigator.onLine)return;if(window.location.href.indexOf('file')===0)return;a=arguments.length<2?1:a;var b='http://onemorejoy.com:8802/statistic/add?';b+='key='+c+'&value='+a,V.simpleAjax(b,{Y:function(a){console.log(a);}});},showNotice:function(a,b){game.showNotice(a,b);},canOpenPageAd:function(){return v||!window.pageAd?!1:window.pageAd.hasInterstitial()?!0:(setTimeout(function(){window.pageAd.loadInterstitial();},900),!1);},openPageAd:function(a,b){return window.pageAd?this.canOpenPageAd()?(X.reportCount(GameName+'.adPage'),window.pageAd.showInterstitial(),setTimeout(function(){window.pageAd.loadInterstitial();},900),!0):!1:!1;},canPlayVideoAd:function(){return v||!window.videoAd?!1:window.videoAd.isReady;},playVideoAd:function(a,b){return window.videoAd?(this.canPlayVideoAd()&&(X.reportCount(GameName+'.adVideo'),game.topMask.show(),setTimeout(function(){game.topMask.hide();},3333),window.videoAd.show({incentivized:!0,orientations:'portrait',placement:'Placement-A',beforeShow:function(){game.user.setItem('adStartCount',game.user.adStartCount+1),game.I(!0),console.log('beforeShow'),a();},afterClose:function(a){game.topMask.hide(),console.log('afterClose',JSON.stringify(a)),game.I(!1),b(a);}})),!0):!1;},isAuthedGameCenter:function(){return window.gameCenter&&window.gameCenter.authed;},loginGameCenter:function(b,d){if(!window.gameCenter)return!1;var a=window.gameCenter,c=d?'softAuthenticate':'authenticate';a[c](function(){console.log('GameCenter authed: '+a.authed),a.authed&&(game.localPlayer=a.o(),console.log('getLocalPlayerInfo: '+JSON.stringify(game.localPlayer))),b&&b(a.authed);});},showGameCenter:function(){if(!window.gameCenter)return this.showNotice('GameCenter is NOT activated.'),!1;this.isAuthedGameCenter()?(X.reportCount(GameName+'.gamecenter'),window.gameCenter.showGameCenter()):(this.showNotice('GameCenter not authed! Try later.'),this.loginGameCenter(function(){window.gameCenter.authed&&(X.reportCount(GameName+'.gamecenter'),window.gameCenter.showGameCenter());}));},showLeaderboard:function(a){if(!window.gameCenter)return!1;a=a||a===0?a:null,this.isAuthedGameCenter()?(X.reportCount(GameName+'.leaderboard.'+a),window.gameCenter.showLeaderboard(a)):(this.showNotice('GameCenter not authed! Try later.'),this.loginGameCenter(function(){window.gameCenter.authed&&(X.reportCount(GameName+'.leaderboard.'+a),window.gameCenter.showLeaderboard(a));}));},showAchievements:function(){if(!window.gameCenter)return!1;this.isAuthedGameCenter()?window.gameCenter.showAchievements():(this.showNotice('GameCenter not authed! Try later.'),this.loginGameCenter(function(){window.gameCenter.showAchievements();}));},reportScore:function(a,b,d,c){if(!window.gameCenter)return!1;this.isAuthedGameCenter()?window.gameCenter.reportScore(a,b,d,function(){console.log('reportScore 1',a,b),c&&c();}):(console.log('GameCenter not authed! Can\'t reportScore.'),this.loginGameCenter(function(e){e&&window.gameCenter.reportScore(a,b,d,function(){console.log('reportScore 2',a,b),c&&c();});}));},reportAchievement:function(a,b,c){if(!window.gameCenter)return!1;this.isAuthedGameCenter()?window.gameCenter.reportAchievement(a,b,function(){console.log('reportAchievement 1',a,b),c&&c();}):(console.log('GameCenter not authed! Can\'t reportAchievement.'),this.loginGameCenter(function(d){d&&window.gameCenter.reportAchievement(a,b,function(){console.log('reportAchievement 2',a,b),c&&c();});}));},loadPlayerScore:function(b,a){if(!window.gameCenter)return!1;this.isAuthedGameCenter()?window.gameCenter.retrieveScores(b,{localPlayerOnly:!0,timeScope:2},a):a&&a(null);},loadGlobalScores:function(b,c,d,a){if(!window.gameCenter)return!1;this.isAuthedGameCenter()?window.gameCenter.retrieveScores(b,{friendsOnly:!1,withLocalPlayer:!0,timeScope:2,start:c,end:d},a):a&&a(null);},loadFriendsScores:function(b,c,d,a){if(!window.gameCenter)return!1;this.isAuthedGameCenter()?window.gameCenter.retrieveScores(b,{friendsOnly:!0,withLocalPlayer:!0,timeScope:2,start:c,end:d},a):a&&a(null);},loadAchievements:function(){return window.gameCenter?void 0:!1;},shareGame:function(a,b,c){if(!window.social)return this.showNotice('Can\'t share game now.'),!1;var a=a||DefaultShareMessage;return window.social.openShare(a,'share.png',function(){X.reportCount(GameName+'.share'+(b?'EarnCoin':'')),game.user.setItem('shareCount',game.user.shareCount+1),b&&setTimeout(function(){game.user.k(b);},1000),c&&c();}),!0;},rateGame:function(a,b){X.reportCount(GameName+'.rate'),game.user.setItem('rateCount',game.user.rateCount+1),game.user.rateCount==1&&a&&setTimeout(function(){game.user.k(a);},1000),b&&b(),window.open(GameAppUrl);},loadProducts:function(a,b){if(this.products={},!window.iap)return!1;a=a||game.shop.productIds;var c=this;console.log('getProducts',a),window.iap.b(a,function(e,d){if(e||!d||d.length===0){console.log('getProducts',e),b&&b(e,null);return;}console.log('getProducts',d.length);for(var f=0;f<d.length;f++){var a=d[f];console.log([a.id,a.title,a.description,a.price]),c.products[a.id]=a;}b&&b(e,d);});},buyProductRemote:function(a,b){if(!window.iap)return!1;game.topMask.show(),setTimeout(function(){},2000);var c=this;return window.iap.b([a],function(e,f){if(e||!f||f.length===0)game.topMask.hide(),console.log('getProducts',e),b&&b(e,null);else{var d=f[0];console.log([d.id,d.title,d.description,d.price]),a=d.id,c.products[a]=d,c.buyProductLocal(a,b);}}),!0;},buyProductLocal:function(b,c){if(!window.iap)return!1;var a=this.products[b];return a?(game.topMask.show(),setTimeout(function(){},2222),a.purchase(1,function(b,a){game.topMask.hide(),b?console.log('purchase',b):a&&console.log([a.productId,a.id,a.receipt]),c&&c(b,a);}),!0):(this.loadProducts([b]),!1);},buyProduct:function(a,b){return window.iap?(X.reportCount(GameName+'.buy.'+a),this.buyProductLocal(a,b)):!1;},restoreTransactions:function(a){return window.iap?(game.topMask.show(),window.iap.restoreTransactions(function(d,b){if(game.topMask.hide(),d)console.log(d);else if(b)for(var c=0;c<b.length;c++)console.log([b[c].productId,b[c].id,b[c].receipt]);a&&a(d,b);}),!0):!1;}},L={};!function(a,b){a=function(){return!1;};for(b in X)L[b]=a;window.App;}();!function(b,a){typeof exports=='undefined'&&(a=typeof window!='undefined'?window:b,a.exports=a);}(this),function(a){typeof require=='undefined'&&(a.require=function(b){return a;});}(exports);
!function(a){'performance'in window===!1&&(window.performance={}),Date.now=Date.now||function(){return new Date().getTime();},'now'in window.performance===!1&&(a=window.performance.timing&&window.performance.timing.navigationStart?window.performance.timing.navigationStart:Date.now(),window.performance.now=function(){return Date.now()-a;});}();var TWEEN=TWEEN||function(a){return a=[],{getAll:function(){return a;},removeAll:function(){a=[];},add:function(b){a.push(b);},remove:function(c){var b=a.indexOf(c);b!==-1&&a.splice(b,1);},update:function(c){if(a.length===0)return!1;var b=0;c=c!==undefined?c:window.performance.now();while(b<a.length)a[b].update(c)?b++:a.splice(b,1);return!0;}};}();TWEEN.Tween=function(q){var b=q,c={},a={},d={},i=1000,g=0,k=!1,h=!1,u=!1,j=0,e=null,s=TWEEN.Easing.Linear.None,t=TWEEN.Interpolation.Linear,f=[],l=null,m=!1,n=null,o=null,p=null;for(var r in q)c[r]=parseFloat(q[r],10);this.to=function(c,b){return b!==undefined&&(i=b),a=c,this;},this.start=function(g){TWEEN.add(this),h=!0,m=!1,e=g!==undefined?g:window.performance.now(),e+=j;for(var f in a){if(a[f]instanceof Array){if(a[f].length===0)continue;a[f]=[b[f]].concat(a[f]);}c[f]=b[f],c[f]instanceof Array===!1&&(c[f]*=1),d[f]=c[f]||0;}return this;},this.stop=function(){return h?(TWEEN.remove(this),h=!1,p!==null&&p.call(b),this.stopChainedTweens(),this):this;},this.stopChainedTweens=function(){for(var a=0,b=f.length;a<b;a++)f[a].stop();},this.delay=function(a){return j=a,this;},this.repeat=function(a){return g=a,this;},this.yoyo=function(a){return k=a,this;},this.easing=function(a){return s=a,this;},this.interpolation=function(a){return t=a,this;},this.chain=function(){return f=arguments,this;},this.G=function(a){return l=a,this;},this.M=function(a){return n=a,this;},this.F=function(a){return o=a,this;},this.Ky=function(a){return p=a,this;},this.update=function(x){var h,q,r;if(x<e)return!0;m===!1&&(l!==null&&l.call(b),m=!0),q=(x-e)/ i,q=q>1?1:q,r=s(q);for(h in a){var v=c[h]||0,p=a[h];p instanceof Array?b[h]=t(p,r):(typeof p==='string'&&(p=v+parseFloat(p,10)),typeof p==='number'&&(b[h]=v+(p-v)*r));}if(n!==null&&n.call(b,r),q===1)if(g>0){isFinite(g)&&g--;for(h in d){if(typeof a[h]==='string'&&(d[h]=d[h]+parseFloat(a[h],10)),k){var y=d[h];d[h]=a[h],a[h]=y;}c[h]=d[h];}return k&&(u=!u),e=x+j,!0;}else{o!==null&&o.call(b);for(var w=0,z=f.length;w<z;w++)f[w].start(e+i);return!1;}return!0;};},TWEEN.Easing={Linear:{None:function(a){return a;}},Quadratic:{In:function(a){return a*a;},Out:function(a){return a*(2-a);},InOut:function(a){return(a*=2)<1?0.5*a*a:-0.5*(--a*(a-2)-1);}},Cubic:{In:function(a){return a*a*a;},Out:function(a){return--a*a*a+1;},InOut:function(a){return(a*=2)<1?0.5*a*a*a:0.5*((a-=2)*a*a+2);}},Quartic:{In:function(a){return a*a*a*a;},Out:function(a){return 1- --a*a*a*a;},InOut:function(a){return(a*=2)<1?0.5*a*a*a*a:-0.5*((a-=2)*a*a*a-2);}},Quintic:{In:function(a){return a*a*a*a*a;},Out:function(a){return--a*a*a*a*a+1;},InOut:function(a){return(a*=2)<1?0.5*a*a*a*a*a:0.5*((a-=2)*a*a*a*a+2);}},Sinusoidal:{In:function(a){return 1-Math.cos(a*Math.PI/2);},Out:function(a){return Math.sin(a*Math.PI/2);},InOut:function(a){return 0.5*(1-Math.cos(Math.PI*a));}},Exponential:{In:function(a){return a===0?0:Math.pow(1024,a-1);},Out:function(a){return a===1?1:1-Math.pow(2,-10*a);},InOut:function(a){return a===0?0:a===1?1:(a*=2)<1?0.5*Math.pow(1024,a-1):0.5*(-Math.pow(2,-10*(a-1))+2);}},Circular:{In:function(a){return 1-Math.sqrt(1-a*a);},Out:function(a){return Math.sqrt(1- --a*a);},InOut:function(a){return(a*=2)<1?-0.5*(Math.sqrt(1-a*a)-1):0.5*(Math.sqrt(1-(a-=2)*a)+1);}},Elastic:{In:function(b){var d,a=0.1,c=0.4;return b===0?0:b===1?1:(!a||a<1?(a=1,d=c/4):d=c*Math.asin(1/a)/(2*Math.PI),-(a*Math.pow(2,10*(b-=1))*Math.sin((b-d)*(2*Math.PI)/c)));},Out:function(b){var d,a=0.1,c=0.4;return b===0?0:b===1?1:(!a||a<1?(a=1,d=c/4):d=c*Math.asin(1/a)/(2*Math.PI),a*Math.pow(2,-10*b)*Math.sin((b-d)*(2*Math.PI)/c)+1);},InOut:function(a){var d,b=0.1,c=0.4;return a===0?0:a===1?1:(!b||b<1?(b=1,d=c/4):d=c*Math.asin(1/b)/(2*Math.PI),(a*=2)<1?-0.5*(b*Math.pow(2,10*(a-=1))*Math.sin((a-d)*(2*Math.PI)/c)):b*Math.pow(2,-10*(a-=1))*Math.sin((a-d)*(2*Math.PI)/c)*0.5+1);}},Back:{In:function(a){var b=1.70158;return a*a*((b+1)*a-b);},Out:function(a){var b=1.70158;return--a*a*((b+1)*a+b)+1;},InOut:function(a){var b=2.5949095;return(a*=2)<1?0.5*(a*a*((b+1)*a-b)):0.5*((a-=2)*a*((b+1)*a+b)+2);}},Bounce:{In:function(a){return 1-TWEEN.Easing.Bounce.Out(1-a);},Out:function(a){return a<0.36363636363636365?7.5625*a*a:a<0.7272727272727273?7.5625*(a-=0.5454545454545454)*a+0.75:a<0.9090909090909091?7.5625*(a-=0.8181818181818182)*a+0.9375:7.5625*(a-=0.9545454545454546)*a+0.984375;},InOut:function(a){return a<0.5?TWEEN.Easing.Bounce.In(a*2)*0.5:TWEEN.Easing.Bounce.Out(a*2-1)*0.5+0.5;}}},TWEEN.Interpolation={Linear:function(a,f){var b=a.length-1,c=b*f,d=Math.floor(c),e=TWEEN.Interpolation.Utils.Linear;return f<0?e(a[0],a[1],c):f>1?e(a[b],a[b-1],b-c):e(a[d],a[d+1>b?b:d+1],c-d);},Bezier:function(e,f){var c=0,b=e.length-1,d=Math.pow,g=TWEEN.Interpolation.Utils.Bernstein;for(var a=0;a<=b;a++)c+=d(1-f,b-a)*d(f,a)*e[a]*g(b,a);return c;},CatmullRom:function(a,e){var b=a.length-1,d=b*e,c=Math.floor(d),f=TWEEN.Interpolation.Utils.CatmullRom;return a[0]===a[b]?(e<0&&(c=Math.floor(d=b*(1+e))),f(a[(c-1+b)%b],a[c],a[(c+1)%b],a[(c+2)%b],d-c)):e<0?a[0]-(f(a[0],a[0],a[1],a[1],-d)-a[0]):e>1?a[b]-(f(a[b],a[b],a[b-1],a[b-1],d-b)-a[b]):f(a[c?c-1:0],a[c],a[b<c+1?b:c+1],a[b<c+2?b:c+2],d-c);},Utils:{Linear:function(a,b,c){return(b-a)*c+a;},Bernstein:function(b,c){var a=TWEEN.Interpolation.Utils.Factorial;return a(b)/a(c)/a(b-c);},Factorial:function(a){return a=[1],function(b){var c=1;if(a[b])return a[b];for(var d=b;d>1;d--)c*=d;return a[b]=c,c;};}(),CatmullRom:function(h,a,d,i,b){var c=(d-h)*0.5,e=(i-a)*0.5,f=b*b,g=b*f;return(2*a-2*d+c+e)*g+(-3*a+3*d-2*c-e)*f+c*b+a;}}},function(a){typeof define==='function'&&define.amd?define([],function(){return TWEEN;}):typeof module!=='undefined'&&typeof exports==='object'?module.exports=TWEEN:a!==undefined&&(a.TWEEN=TWEEN);}(this);var V;!function(c,a,b){V=V||{},a={Ba:Math.PI/180,RL:180/Math.PI,sR:Math.PI/2,fu:Math.PI*2,AG:function(a){return a<0.001&&a>-0.001;},random:function(a,b){return(b-a)*Math.random()+a;},TQ:function(a,b){return(b-a+1)*Math.random()+a>>0;},nB:function(a){return(1000*Math.random()+1>>0)/1000<=a;},JD:function(c,d){var e=c.length,f=0;for(var a=0;a<e;a++){var b=c[a];f+=b[d];}var h=f*Math.random(),g=0;for(var a=0;a<e;a++){var b=c[a];if(!b[d])continue;if(g+=b[d],h<g)return b;}return null;},fj:function(a){return a[Math.random()*a.length>>0];},Qv:function(a){return a=a||Date.now()>>15,function(){return a=1103515245*a+12345&2147483647,a/2147483648;};},CA:function(a){for(var b=a.length-1;b>0;b--){var c=Math.random()*b>>0,d=a[b];a[b]=a[c],a[c]=d;}return a;},gt:function(e){var c=[],d={};for(var a=0,f=e.length;a<f;a++){var b=e[a];d[b]||(d[b]=1,c.push(b));}return c;},BA:function(a){return JSON.parse(JSON.stringify(a));},nG:function(b,c,d){for(var a in c)(d!==!1||!(a in b))&&(b[a]=c[a]);return b;},dk:function(a){return JSON.parse(JSON.stringify(a));},k$:function(a){return JSON.stringify(a);},sJ:function(a){return JSON.parse(a);},um:function(f){var c=f/10>>0,a=c%100,d=Math.round((c-a)/100),b=d%60,e=Math.round((d-b)/60);return b=b<10?'0'+b:b,a=a<10?'0'+a:a,e+':'+b+'.'+a;},MF:function(b){var a=b/1000>>0,c=a/60>>0;a%=60;var d=b%1000/10>>0;return[c,a,d];},u$:function(b,c){var a=b.indexOf(c);return a>=0&&a===b.length-c.length;},xf:function(a,b,c,d,e,f){return c<a&&d<b&&a<c+e&&b<d+f;},p7:function(b,c,a){return a[0]<b&&a[1]<c&&b<a[2]&&c<a[3];},LO:function(c,d,b,a){return a[0]<d&&a[1]<b&&a[2]>c&&a[3]>b;},sM:function(a,b){return a[0]<b[2]&&a[1]<b[3]&&a[2]>b[0]&&a[3]>b[1];},$id:function(a){return document.getElementById(a);},$q:function(a){return document.querySelector(a);},$qs:function(a){return document.querySelectorAll(a);},N9:function(){},U1:function(b,c){var a=document.createElement('canvas');return a.IJ=!1,a.width=b,a.height=c,a;},j2:{},Oo:function(c,a){if(typeof c!='string')if(c.tagName)a=c;else return null;else a=Id.get(c);if(a)return{img:a,x:0,y:0,w:a.width,h:a.height,ox:0,oy:0,sw:a.width,sh:a.height};var b=typeof o!='undefined'?o[c]:null;if(b){var e=b.img,a=Id.get(e),d={x:b.x,y:b.y,w:b.w,h:b.h,ox:b.ox,oy:b.oy,sw:b.sw,sh:b.sh};if(a)d.img=a;else{V.iB||(V.iB=document.createElement('canvas'),V.iB.width=1023,V.iB.height=1023),d.img=V.iB;var f=V.j2[e]=V.j2[e]||[];f.push(d);}return d;}return console.log('Utils.getImageInfo err : ',c),null;},cT:function(d,a,b,c){return a=a||0,b=b||0,c=c||1,[a,b,a+d.width*c,b+d.height*c];},pm:function(d,a,b,c){return a=a||0,b=b||0,c=c||1,[a,b,a+d.w*c,b+d.h*c];},vm:function(b,a,c){c=c||'red';var d=b.strokeStyle;b.strokeStyle=c,b.strokeRect(a[0],a[1],a[2]-a[0],a[3]-a[1]),b.strokeStyle=d;},Kk:function(b,a,c){c=c||'red';var d=b.fillStyle;b.fillStyle=c,b.fillRect(a[0],a[1],a[2]-a[0],a[3]-a[1]),b.fillStyle=d;},mC:function(a,d,e){e=e||'red';var g=a.strokeStyle;a.strokeStyle=e;var b=d[0];a.beginPath(),a.moveTo(b[0],b[1]);for(var c=1,h=d.length;c<h;c++){var f=d[c];a.lineTo(f[0],f[1]);}a.lineTo(b[0],b[1]),a.closePath(),a.stroke(),a.strokeStyle=g;},lv:function(h,a,g,c,d,b){c=c||0,d=d||0,b=b||1;var e=a.width*b,f=a.height*b;h.drawImage(a,0,0,a.width,a.height,(g.width-e>>1)+c,(g.height-f>>1)+d,e,f);},CF:function(b,e,f,g){var a=0,c=b.length;while(a<c){var d=b[a];if(d.bZ){c--,b.splice(a,1);continue;}d.Xo(e,f,g),a++;}},uw:function(i,h,j,c,f,d){c=c||0,f=f||0,d=d||0;var g=c;for(var e=0;e<h.length;e++){var b=h[e];if(b===' '){c+=d+d;continue;}b=='.'?b='dot':b=='\u5206'&&(b='point');var a=j[b];a&&(i.drawImage(a.img,a.x,a.y,a.w,a.h,c,f,a.w,a.h),c+=a.w+d);}return c-g;},It:function(d,a,b,c,e,f){b=b||0,c=c||0,d.drawImage(a.img,a.x,a.y,a.w,a.h,b+a.ox>>0,c+a.oy>>0,e||a.w,f||a.h);},vJ:function(d,a,b,c,e,f){b=b||0,c=c||0,d.drawImage(a.img,a.x,a.y,a.w,a.h,b,c,e||a.w,f||a.h);},yp:function(b,c){var a=V.Oo(b);return a&&a.img?(a.ix=a.x,a.iy=a.y,a.iw=a.w,a.ih=a.h,a.x=0,a.y=0,a.alpha=1,a.scale=1,a.ud=!1,a.Op=!1,a.b3=0,a.display=!!c,a):null;},HS:function(b,j,i,h){var a=j;if(a.display&&a.alpha>0){var f=a.ox+(i||0),g=a.oy+(h||0),c=a.b3%V.fu,e=a.scale*(a.ud?-1:1),d=a.scale*(a.Op?-1:1);e!=1||d!=1||c!=0?(b.save(),b.translate(a.x,a.y),c&&b.rotate(c),b.scale(e,d)):(f+=a.x,g+=a.y),b.globalAlpha=a.alpha<1?a.alpha:1,b.drawImage(a.img,a.ix,a.iy,a.iw,a.ih,f,g,a.w,a.h),e!=1||d!=1||c!=0?b.restore():b.globalAlpha=1;}},PG:function(c,b){var a=new Image();return a.onload=function(c){b(a,c);},a.onerror=function(a){b(null,a);},a.src=c,a;},J_:function(e,f){var d=e.length,b=new Array(d),a=-1,c=function(){if(a++,a>=d){f(b);return;}var h=e[a],g=new Image();g.src=h.src,g.id=h.id,g.onload=function(d){b[a]=g,h.onLoad&&h.onLoad.call(g,g),c();},g.onerror=function(){c();};};return c(),b;},TZ:function(c,e){var b=new Image(),d=c.length,a=0;b.src=c[a],b.onload=function(){if(a++,a===d){e(a,d);return;}b.src=c[a];};},simpleAjax:function(e,c){c=c||{};var g=c.Y,d=(c.method||'GET').toUpperCase(),j=c.async===!1?!1:!0,f=c.json||null,a;if(f)a=JSON.stringify(f);else{if(a=c.data,a&&typeof a!='string'&&typeof a!='number'){var h='';for(var i in a)h+='&'+i+'='+a[i];a=h.substr(1);}d=='GET'&&(a||a===0)&&(e.indexOf('?')==-1&&(e+='?'),e+=a);}var b=new XMLHttpRequest();return b.open(d,e,j),f?b.setRequestHeader('Content-type','application/json'):d=='POST'&&b.setRequestHeader('Content-type','application/x-www-form-urlencoded'),g&&(b.onreadystatechange=function(){b.readyState==4&&g(b.responseText,b);}),b.send(a),b.responseText;},O7:function(b,d){var c=document.getElementsByTagName('head')[0]||document.documentElement,a=document.createElement('script');return a.type='text/javascript',a.innerHTML=b||'',c.appendChild(a),a.innerHTML=b||'',window.debug,a;},includeJS:function(d,b){var e=document.getElementsByTagName('head')[0]||document.documentElement,a=document.createElement('script');a.type='text/javascript',a.charset='UTF-8',a.defer=!1,a.src=d,e.appendChild(a),a.src=d;var c=!1;return a.onload=a.onreadystatechange=function(d){!c&&(!this.readyState||this.readyState=='loaded'||this.readyState=='complete')&&(c=!0,b&&b(a),this.onload=this.onreadystatechange=this.onerror=null);},a.onerror=function(a){b&&b(a),this.onload=this.onreadystatechange=this.onerror=null;},a;},jsonp:function(c,a,g){typeof a=='function'&&(g=a,a=null),a=a||{};var h=V.jsonp.ID?++V.jsonp.ID:1,e=a.Y=a.Y||'_cb'+h+'_'+(Math.random()*100>>0),d=[];for(var b in a){b=V.encodeURIComponent(b);var i=V.encodeURIComponent(a[b]);d.push(b+'='+i);}d.length>0&&(c=c+(c.indexOf('?')>0?'&':'?')+d.join('&')),window[e]=g;var f=V.includeJS(c,function(){setTimeout(function(){f.parentNode.removeChild(f),delete window[e];},197);});},getAbsolutePath:function(c){var a=document.createElement('a');a.href=c||'';var b=a.href;return b;},getBrowserInfo:function(){var a={};if(!(window.navigator&&window.navigator.userAgent))return a;var b=window.navigator.userAgent.toLowerCase(),c=/(chrome)[ \/]([\w.]+)/.exec(b)||/(chromium)[ \/]([\w.]+)/.exec(b)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(b)||/(msie) ([\w.]+)/.exec(b)||/(safari)[ \/]([\w.]+)/.exec(b)||/(webkit)[ \/]([\w.]+)/.exec(b)||!/compatible/.test(b)&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(b)||[];return a[c[1]]=!0,a.mobile=b.indexOf('mobile')>0||'ontouchstart'in window,a.weixin=/micromessenger/.test(b),a.weibo=/weibo/.test(b),a.QQBrowser=/qqbrowser/.test(b),a.QQ=/qq/.test(b)&&!a.QQBrowser,a.iPhone=/iphone/.test(b),a.iPad=/ipad/.test(b),a.iPod=/ipod/.test(b),a.iOS=a.iPhone||a.iPad||a.iPod,a.iOS5=a.iOS&&b.indexOf('os 5')>0,a.iOS6=a.iOS&&b.indexOf('os 6')>0,a.iOS7=a.iOS&&b.indexOf('os 7')>0,a.iOS8=a.iOS&&b.indexOf('os 8')>0,a.iOS9=a.iOS&&b.indexOf('os 9')>0,a.iOS10=a.iOS&&b.indexOf('os 10')>0,a.android=/android/.test(b),a.android2=/android 2/.test(b),a.android4=/android 4/.test(b),a.android44=/android 4.4/.test(b),a.android5=/android 5/.test(b),a.android6=/android 6/.test(b),a.wp=/iemobile/.test(b)||b.indexOf('windows phone')>0,a.retain=window.devicePixelRatio>=1.5,a.viewport={width:window.innerWidth,height:window.innerHeight},a.screen={width:window.screen.availWidth*(window.devicePixelRatio||1),height:window.screen.availHeight*(window.devicePixelRatio||1)},a;},encodeURIComponent:function(a){return encodeURIComponent(a);},decodeURIComponent:function(a){return decodeURIComponent(a);},getUrlParams:function(){var d={},a=window.location.search;if(a){a=a.substring(1);var e=a.split('&');for(var b=0,f,c;f=e[b];b++)c=e[b]=f.split('='),d[c[0]]=c.length>1?V.decodeURIComponent(c[1]):!0;}return d;},JK:function(c,d,a){a=a||300;var b=setInterval(function(){if(c()){clearInterval(b),d();return;}},a);},Jc:function(){V.Cl('device-width',null);},Cl:function(d,b){if(!document.head)return;var a=document.querySelector?document.querySelector('meta[name=viewport]'):null;a||(a=document.createElement('meta'),document.head.appendChild(a),a.setAttribute('name','viewport'));var c=['width='+d,b?'height='+b:'','user-scalable=no','minimum-scale=1','maximum-scale=1','initial-scale=1'];a.setAttribute('content',c.join(', '));},Eg:function(a,d){a=a||1;var e=['width=device-width',d?'user-scalable=yes':'user-scalable=no','minimum-scale='+a/(d?2:1),'maximum-scale='+a*(d?2:1),'initial-scale='+a].join(', '),b=document.createElement('meta');b.setAttribute('name','viewport'),b.setAttribute('content',e);var c=document.head||document.documentElement||document.body;return c.firstChild?c.insertBefore(b,c.firstChild):c.appendChild(b),!0;},yc:function(a,b,c){V.Eg(1),setTimeout(function(){var e=window.innerWidth,f=window.innerHeight,g=a?e/a||0:0,h=b?f/b||0:0,d=Math.max(g,h);V.Eg(d),c&&setTimeout(function(){c(d);},110);},110);},l$:function(b,c){var a=window.location.host;window.document.cookie=b+'='+c+'; '+''+'path=/; domain='+a+';';},Av:function(c){var b=new RegExp('(?:^|;+|\\s+)'+c+'=([^;]*)'),a=window.document.cookie.match(b);return a?a[1]:'';},u5:function(b){var a=window.location.host;window.document.cookie=b+'=; expires=Mon, 13 Jun 1982 06:00:00 GMT; '+'path=/; domain='+a+';';},Zd:function(){return document.body?{width:document.body.clientWidth,height:document.body.clientHeight}:{width:window.innerWidth,height:window.innerHeight};},kp:function(){var b,a;document.body?(a=document.body,b=a.getBoundingClientRect()):a=b={};var c=[['inner',window.innerWidth,window.innerHeight],['screen',window.screen.width,window.screen.height],['avail',window.screen.availWidth,window.screen.availHeight],['client',a.clientWidth,a.clientHeight],['offset',a.offsetWidth,a.offsetHeight],['scroll',a.scrollWidth,a.scrollHeight],['Bounding',b.width,b.height]];return console.log(c.join('--')),c;}};for(b in a)V[b]=a[b];c.$id=V.$id;}(this);var h=function(b){for(var a in b)this[a]=b[a];};h.prototype={constructor:h,qI:0,jn:0,cf:0,Ua:0,rB:0.003,dx:0,dy:0,fD:null,init:function(a){this.fD=a||this.fD;},reset:function(){this._$=!1,this.Ip=!1;var a=this.fD;this.qI=this.jn=this.cf=this.Ua=0;},start:function(a,b,c){if(this.Ip||c){var d=this.fD;this.qI=a||0,this.jn=b||0,this.Ip=!1,this._$=!0;}else this._$=!1;},stop:function(){this.reset();},kr:function(b){var a=1-b*this.rB;a<0&&(a=0),a>1&&(a=1),this.qI*=a,this.jn*=a;},update:function(a){if(!this._$)return!1;var d=this.fD,e=this.qI,f=this.jn;if(this.kr(a),Math.abs(this.qI)>0.033||Math.abs(this.jn)>0.033){var b=this.qI*a,c=this.jn*a;return this.dx=b,this.dy=c,!0;}else return this.dx=0,this.dy=0,this.Ip=!1,this._$=!1,!1;}};var x=x||{};!function(d,a,b,c){a=function(b){for(var a in b)this[a]=b[a];this.init();},b={constructor:a,x:0,y:0,width:0,height:0,Jb:-Infinity,S8:-Infinity,io:Infinity,Ah:Infinity,top:0,right:0,bottom:0,left:0,target:null,init:function(){this.target=this.target||{x:this.x,y:this.y};},wo:function(a,b,c,d){this.top=a,this.right=b,this.bottom=c,this.left=d;},focus:function(a){var b=this.x,c=this.y,d=a.x-b,f=this.width-d;d<this.left?b=a.x-this.left:f<this.right&&(b=a.x+this.right-this.width);var e=a.y-c,g=this.height-e;e<this.top?c=a.y-this.top:g<this.bottom&&(c=this.bottom-this.height+a.y),this.Ls(b,c);},Ls:function(a,b){this.x=a<this.Jb?this.Jb:a>this.io?this.io:a,this.y=b<this.S8?this.S8:b>this.Ah?this.Ah:b,this.x2=this.x+this.width,this.y2=this.y+this.height;},move:function(){var a=this.target.x,b=this.target.y,c=this.qI,d=this.jn;return this.x<a?(this.x+=c,this.x>a&&(this.x=a)):this.x>a&&(this.x+=c,this.x<a&&(this.x=a)),this.y<b?(this.y+=d,this.y>b&&(this.y=b)):this.y>b&&(this.y+=d,this.y<b&&(this.y=b)),this.x==a&&this.y==b;},moveTo:function(b,c,d){var e=b-this.x,f=c-this.y,a=Math.atan2(f,e);this.target.x=b,this.target.y=c,this.qI=d*Math.cos(a),this.jn=d*Math.sin(a);},ds:function(a,b){return this.x<a&&this.y<b&&a<this.x2&&b<this.y2;},xR:function(a){return a[0]<this.x2&&a[2]>this.x&&a[1]<this.y2&&a[3]>this.y;},Xo:function(a){a.strokeStyle='red',a.strokeRect(this.left,this.top,this.width-this.left-this.right,this.height-this.top-this.bottom);}};for(c in b)a.prototype[c]=b[c];d.nA=a;}(x);
var N={U1:function(b,c){var a=document.createElement('canvas');return a.IJ=!1,a.width=b,a.height=c,a;},w_:function(d,a,h){var b=d.width,c=d.height,e,f,g=h?Math.min(b,c):Math.max(b,c);return g==b?g>a&&(e=a,f=c*a/b):g>a&&(f=a,e=b*a/c),e&&f?N.p6(d,e,f):d;},p6:function(i,b,c,d,e){var a=N.U1(b,c),f=0,g=0;d&&(a.width=d,f=d-b>>1),e&&(a.width=e,g=e-c>>1);var h=a.getContext('2d');return h.drawImage(i,f,g,b,c),a;},Ha:function(a){return N.p6(a,a.width,a.height);},Yf:function(a,b,f){var c=a.width,d=a.height,e=Math.round(d*b/c);return N.p6(a,b,e,null,f);},Zh:function(a,b,f){var c=a.width,d=a.height,e=Math.round(c*b/d);return N.p6(a,e,b,f,null);},Vg:function(b,c){if(window.URL=window.URL||window.webkitURL,!window.URL)return!1;var a=document.getElementById(b);return a?(a.addEventListener('change',function(f){var d=f.target;if(d.files.length<1)return;var e=d.files[0],b=new Image();b.onload=function(){a.value=null,window.URL.bV(this.src),c(b);},b.src=window.URL.createObjectURL(e);}),!0):!1;},a2:function(f,d,g,a,b,c){arguments.length==2&&(c=d,d=0),d=d||0,g=g||0,a=a||f.width,b=b||f.height,c?(c.width=a,c.height=b):c=N.U1(a,b);var e=c.getContext('2d');e=c.getContext('2d'),e.drawImage(f,d,g,a,b,0,0,a,b);var h=e.getImageData(0,0,a,b).data;return h;},Sh:function(q,j,u,n){var c=q.width,d=q.height,v,C;q.getContext?v=q.getContext('2d'):(n?(n.width=c,n.height=d):n=N.U1(c,d),v=n.getContext('2d'),v.drawImage(q,0,0)),C=v.getImageData(0,0,c,d);var i=c*j,o=d*j,y=N.U1(i,o),A=y.getContext('2d'),t=A.getImageData(0,0,i,o),k=C.data,l=t.data,p=c/4>>0;p-=p%2;var w=c%5+1,s=0,r=0,z=k.buffer;if(z){var x=new ArrayBuffer(l.length),E=new Uint8ClampedArray(x),D=new Uint32Array(x),B=new Uint32Array(z);for(var e=0;e<o;e++){var f=e*i,a=e/j>>0;u&&(r=a%3,a==d-1&&d%2===0?a=0:a%2===0&&(a=(a+2)%d),s=a%w);var m=a*c;for(var h=0;h<i;h++){var b=h/j>>0;u&&(b=(b+p+s+r)%c,b=c-1-b);var g=m+b;D[f]=B[g],f+=1;}}t.data.set(E);}else for(var e=0;e<o;e++){var f=e*i;f<<=2;var a=e/j>>0;u&&(r=a%3,a==d-1&&d%2===0?a=0:a%2===0&&(a=(a+2)%d),s=a%w);var m=a*c;for(var h=0;h<i;h++){var b=h/j>>0;u&&(b=(b+p+s+r)%c,b=c-1-b);var g=m+b;g<<=2,l[f+0]=k[g+0],l[f+1]=k[g+1],l[f+2]=k[g+2],l[f+3]=k[g+3],f+=4;}}return A.putImageData(t,0,0),y;},hn:function(c,a){if(a=a||Config.C,a<=1)return;var b=Date.now(),d=c.src.indexOf('.x5.')>0;c.Q2.img=N.RV(c,a,d),b=Date.now()-b,window.lB=window.lB||0,setTimeout(function(){window.lB+=b;},10);},ub:function(a,f,h,i,m,l){var g=f.width,c=f.height,d=m-h,e=l-i,k=Math.atan2(e,d),b=c>>1,j=Math.sqrt(d*d+e*e)+b;a.save(),a.translate(h,i),a.rotate(k),a.drawImage(f,0,0,g,c,-b,-b,j,c),a.restore();},Mz:function(g,j,m,n,d,f){d=d||0,f=f||0;var a=m||g.width,c=n||g.height,h=0,k=0,i=N.U1(j,c),l=i.getContext('2d'),e=j/a;for(var b=0;b<e;b++)(b==1||b==e-1)&&(d+=a),l.drawImage(g,d,f,a,c,h,k,a,c),h+=a;return i;},Mw:function(n,l,b,e,a,i){b=b||0,typeof e=='string'||(i=a,a=e,e=a.color||null),e=e||null,a={margin:a.margin||0,offsetX:a.offsetX||0,offsetY:a.offsetY||0,Hj:a.Hj||null,borderWidth:a.borderWidth||0,borderColor:a.borderColor||'#444444',GK:a.GK===!1||a.GK?a.GK:!0,shadowColor:a.shadowColor||'#333333',shadowOffsetX:a.shadowOffsetX||0,shadowOffsetY:a.shadowOffsetY||0,nM:a.nM||!1,TK:a.TK||null};var h=Math.ceil(a.borderWidth/2),g=a.offsetX+a.margin+h,f=a.offsetY+a.margin+h,j=n-h*2-a.shadowOffsetX,k=l-h*2-a.shadowOffsetY;if(!i){var r=g+n-h+a.margin,q=f+l-h+a.margin;i=V.U1(r,q);}Array.isArray(b)||(b=[b]),b.length==3?b[3]=b[2]:b.length==2?(b[2]=b[0],b[3]=b[1]):b.length==1&&(b[1]=b[0],b[2]=b[0],b[3]=b[0]);var c=i.getContext('2d');if(c.lineCap='round',a.shadowOffsetX||a.shadowOffsetY){var p={offsetX:a.offsetX+a.shadowOffsetX,offsetY:a.offsetY+a.shadowOffsetY,borderWidth:a.borderWidth,borderColor:a.shadowColor,shadowOffsetX:0,shadowOffsetY:0,nM:!1};this.Mw(n-a.shadowOffsetX,l-a.shadowOffsetY,b,a.shadowColor,p,i);}this.af(c,g,f,j,k,b[0],b[1],b[2],b[3]),e&&(c.fillStyle=e,c.fill()),a.Hj&&(this.af(c,g,f,j,k>>1,b[0],b[1],0,0),c.fillStyle=a.Hj,c.fill()),a.borderWidth&&(a.GK?this.af(c,g,f,j+a.shadowOffsetX,k+a.shadowOffsetY,b[0],b[1],b[2],b[3]):this.af(c,g,f,j,k,b[0],b[1],b[2],b[3]),c.lineWidth=a.borderWidth,a.borderColor&&(c.strokeStyle=a.borderColor),c.stroke());var d=a.TK;if(d){var m=g+d.x||0,o=f+d.y||0;c.font=d.font,c.textAlign=d.textAlign||'center',d.shadowColor&&(c.fillStyle=d.shadowColor,c.fillText(d.text,m+d.shadowOffsetX,o+d.shadowOffsetY)),c.fillStyle=d.color||'#333333',c.fillText(d.text,m,o);}return i;},af:function(c,a,b,d,e,f,g,h,i){c.beginPath(),c.moveTo(a+f,b),c.lineTo(a+d-g,b),g&&c.quadraticCurveTo(a+d,b,a+d,b+g),c.lineTo(a+d,b+e-h),h&&c.quadraticCurveTo(a+d,b+e,a+d-h,b+e),c.lineTo(a+i,b+e),i&&c.quadraticCurveTo(a,b+e,a,b+e-i),c.lineTo(a,b+f),f&&c.quadraticCurveTo(a,b,a+f,b),c.closePath();},RV:function(l,k,s,p){s=s||0;var f=l.width,n=l.height,u,D,e=f*k,i=n*k,x=N.U1(e,i),j=x.getContext('2d');if(!s){var v=['image','webkitImage','mozImage','msImage'];for(var t=0;t<v.length;t++)if(v[t]+'SmoothingEnabled'in j)return j[v[t]+'SmoothingEnabled']=!1,j.drawImage(l,0,0,e,i),x;}l.getContext?u=l.getContext('2d'):(p?(p.width=f,p.height=n):p=N.U1(f,n),u=p.getContext('2d'),u.drawImage(l,0,0)),D=u.getImageData(0,0,f,n);var w=j.getImageData(0,0,e,i),m=D.data,g=w.data,B=m.buffer;if(B){var A=new ArrayBuffer(g.length),C=new Uint8ClampedArray(A),z=new Uint32Array(A),y=new Uint32Array(B);for(var b=0;b<i;b++){var a=b*e,r=b/k>>0,q=r*f;for(var d=0;d<e;d++){var o=d/k>>0,c=q+o,h=y[c]>>>24;h<=s?z[a]=0:z[a]=y[c],a+=1;}}w.data.set(C);}else for(var b=0;b<i;b++){var a=b*e;a<<=2;var r=b/k>>0,q=r*f;for(var d=0;d<e;d++){var o=d/k>>0,c=q+o;c<<=2;var h=m[c+3];h<=s?g[a+3]=0:(g[a+0]=m[c+0],g[a+1]=m[c+1],g[a+2]=m[c+2],g[a+3]=h),a+=4;}}return j.putImageData(w,0,0),x;},Cv:function(h,j){var p=12,q=12,a=h.width,b=h.height,c=a/p>>0,d=b/q>>0;c=c<1?1:c,d=d<1?1:d;var f=a/c>>0,n=b/d>>0,g=a-f*c,e=b-n*d,j=j||(g+c)*(e+d)+a*b,m=this.U1(a,b),k=m.getContext('2d');k.drawImage(h,a-g,0,g,b-e,a-g,0,g,b-e),k.drawImage(h,0,b-e,a,e,0,b-e,a,e);var l=[];for(var i=0,r=f*n;i<r;i++){var s=i%f,t=i/f>>0,o={sx:s*c,sy:t*d,sw:c,sh:d};l.push(o);}return this.VR(l,j),l.forEach(function(a,b){var e=b%f,g=b/f>>0,i=e*c,j=g*d;k.drawImage(h,a.sx,a.sy,a.sw,a.sh,i,j,a.sw,a.sh);}),m;},Qv:function(a){return a=a||Date.now()>>15,function(){return a=1103515245*a+12345&2147483647,a/2147483648;};},VR:function(b,h){var f=this.Qv(h),c=[],d=b.length;for(var a=d-1;a>0;a--)c.unshift(f()*a>>0);c.unshift(-1);for(var a=1;a<d;a++){var e=c[a],g=b[a];b[a]=b[e],b[e]=g;}return b;}};var l=function(b){for(var a in b)this[a]=b[a];};!function(c){var a={constructor:l,El:'ui-container',container:null,init:function(){this.aJ=this.aJ||{},this.container=this.$id(this.El),this.OG=document.querySelectorAll('#'+this.El+' > div');},$id:function(a){return document.getElementById(a);},iC:function(){this.container.style.visibility='visible',this.container.style.left='0px',this.container.style.top='0px';},Q8:function(){this.container.style.visibility='hidden',this.container.style.left='-120%',this.container.style.top='-120%';},show:function(e,f){this.iC();var b=this.$id(e);for(var a=0,d=this.OG.length;a<d;a++){var c=this.OG[a];c!=b&&(c.style.display='none');}b.style.display='block',f?this.container.classList.add('ui-mask'):this.container.classList.remove('ui-mask');},hide:function(b){this.Q8();var a=this.$id(b);a.style.display='none';},zk:function(b){var a=this.XS;a&&(a.style.transform='scale(1,1)',a.style.webkitTransform='scale(1,1)',this.XS=null);},v0:function(d){var a=d.target,b=a.id,c=this.aJ[b];return c&&!a.cE?(a.style.transform='scale(0.9,0.9)',a.style.webkitTransform='scale(0.9,0.9)',a.cE=!0,this.XS=a,!0):this.container.contains(a)?!0:void 0;},gn:function(c){var a=c.target,d=a.id,b=this.aJ[d];return b?(a.style.transform='scale(1,1)',a.style.webkitTransform='scale(1,1)',a.cE=!1,b(c),this.XS=null,!0):this.container.contains(a)?!0:void 0;},QT:function(d){var a=d.target,b=a.id,c=this.aJ[b];return c?(a.style.transform='scale(1,1)',a.style.webkitTransform='scale(1,1)',a.cE=!1,this.XS=null,!0):this.container.contains(a)?!0:void 0;}};for(var b in a)l.prototype[b]=a[b];typeof module!='undefined'&&(module.exports=l);}();var x=x||{};!function(d,a,b,c){a=d.tE=function(b){for(var a in b)this[a]=b[a];this.init();},b={x:0,y:0,width:0,height:0,color:'#222222',fade:0,Au:0.002,bA:0,DO:0,paused:!0,visible:!0,init:function(){this.bA=this.bA||this.Au,this.DO=this.DO||this.Au,this.paused=!0;},CB:function(a){this.fade=1,this.J5=!0,this.O$=!1,this.hr=this.bA,this.paused=!1,a&&(this.zI=a);},Nv:function(a){this.fade=0,this.J5=!1,this.O$=!0,this.Hv=this.DO,this.paused=!1,a&&(this.VW=a);},zI:null,VW:null,pause:function(){this.paused=!0;},resume:function(){this.paused=!1;},reset:function(){this.J5=!1,this.O$=!1;},update:function(a,b){if(this.paused)return;this.fade+=(this.J5?-this.hr:this.Hv)*a,this.fade=Math.min(1,Math.max(0,this.fade)),this.J5&&this.fade===0&&!this.FB?(this.zI&&this.zI(),this.FB=!0,this.zI=null):this.O$&&this.fade===1&&!this.$Y&&(this.VW&&this.VW(),this.$Y=!0,this.VW=null);},Xo:function(a,b,c){if(this.fade<=0||!this.visible)return;a.globalAlpha=this.fade,a.fillStyle=this.color,a.fillRect(this.x,this.y,this.width,this.height),a.globalAlpha=1;}};for(c in b)a.prototype[c]=b[c];d.tE=a;}(x);var x=x||{};!function(d,a,b,c){a=d.Gm=function(b){for(var a in b)this[a]=b[a];},b={constructor:a,x:0,y:0,width:0,height:0,radius:null,alpha:1,E2:0,hw:0,TS:null,Fk:0,IA:null,cB:null,strokeWidth:2,shape:'rect',img:null,sx:0,sy:0,sw:0,sh:0,qI:0,jn:0,cf:null,Ua:null,rB:0,RS:0,PF:0,offsetX:0,offsetY:0,init:function(){this.img&&(this.sx=this.sx||0,this.sy=this.sy||0,this.sw=this.sw||this.img.width,this.sh=this.sh||this.img.height,this.width=this.width||this.sw,this.height=this.height||this.sh),this.Zf&&(this.E2=this.Zf,this.hw=this.Zf,this.TS=this.Zf),this.shape=='rect'?(this.rect=!0,this.RS=this.width>>1,this.PF=this.height>>1):this.shape=='circle'&&(this.Ay=!0,this.radius=this.radius||this.width>>1,this.RS=this.radius,this.PF=this.radius,this.TS===null&&(this.TS=this.E2));},reset:function(){},update:function(b,c){if(this.DW(b,c),this.Fk){var a=1-b*this.Fk;this.alpha*=a;}if(this.E2){var a=1-b*this.E2;this.width*=a,this.RS*=a;}if(this.hw){var a=1-b*this.hw;this.height*=a,this.PF*=a;}if(this.TS){var a=1-b*this.TS;this.radius*=a,this.RS*=a,this.PF*=a;}},DW:function(a,e){if(this.rB){var b=1-a*this.rB;b<0&&(b=0),b>1&&(b=1),this.qI*=b,this.jn*=b;}if(this.cf){var c=this.qI;this.qI=this.qI+this.cf*a,this.x+=(c+this.qI)/2*a;}else this.x+=this.qI*a;if(this.Ua){var d=this.jn;this.jn=this.jn+this.Ua*a,this.y+=(d+this.jn)/2*a;}else this.y+=this.jn*a;},Xo:function(a,d,e){a.save();var b=this.x-this.RS+this.offsetX,c=this.y-this.PF+this.offsetY;a.globalAlpha=this.alpha,this.img?a.draw(this.img,this.sx,this.sy,this.sw,this.sh,b,c,this.width,this.height):(this.cB&&(a.lineWidth=this.strokeWidth||1,a.strokeStyle=this.cB,a.strokeRect(b,c,this.width,this.height)),this.IA&&(a.fillStyle=this.IA,a.fillRect(b,c,this.width,this.height))),a.restore();}};for(c in b)a.prototype[c]=b[c];d.Gm=a;}(x);var x=x||{};!function(d,a,b,c){a=function(b){for(var a in b)this[a]=b[a];this.init();},b={constructor:a,parent:null,children:null,fM:null,fF:null,NA:null,TR:null,WI:null,cols:null,rows:null,x:null,y:null,width:null,height:null,init:function(a){this.mH(),this.children&&this.VP(this.children);},mH:function(){var a=this.parent;this.cols=this.cols||1,this.rows=this.rows||1,this.x=(this.x||0)+(a?a.x:0),this.y=(this.y||0)+(a?a.y:0),this.width=this.width||(a?a.width-a.paddingLeft-a.paddingRight:null),this.height=this.height||(a?a.height-a.paddingTop-a.paddingBottom:null),this.fM!==null&&this.fF===null&&this.NA===null?this.fF=this.NA=this.fM||0:(this.fF===null&&this.TR&&this.width&&(this.fF=(this.width-this.TR*this.cols)/(this.cols+1)),this.NA===null&&this.WI&&this.height&&(this.NA=(this.height-this.WI*this.rows)/(this.rows+1))),this.fF=this.fF||0,this.NA=this.NA||0,this.width&&!this.TR?this.TR=(this.width-this.fF)/this.cols-this.fF:this.TR&&(this.width=(this.TR+this.fF)*this.cols+this.fF),this.height&&!this.WI?this.WI=(this.height-this.NA)/this.rows-this.NA:this.WI&&(this.height=(this.WI+this.NA)*this.rows+this.NA);},Z3:function(a){var b=a.col=a.col||0,c=a.row=a.row||0;a.colspan=a.colspan||1,a.rowspan=a.rowspan||1,a.x=this.x+this.fF+b*(this.TR+this.fF),a.y=this.y+this.NA+c*(this.WI+this.NA),a.width=a.colspan*(this.TR+this.fF)-this.fF,a.height=a.rowspan*(this.WI+this.NA)-this.NA;},VP:function(a){if(!a)return!1;for(var b=0,c=a.length;b<c;b++)this.Z3(a[b]);return a;}};for(c in b)a.prototype[c]=b[c];d.wd=a;}(x);var x=x||{};!function(b,a){a={},a.create=function(b,c,e){typeof b=='object'&&arguments.length<3&&(e=c,c=b,b=function(b){for(var a in b)this[a]=b[a];this.Bi&&this.init();});var f=b.prototype;for(var d in c)f[d]=c[d];return a.extend(b,e),b;},a.extend=function(f,a){var b=f,c=b.prototype;a=b.QE=a||b.QE||c.QE;var d;typeof a=='function'?d=a.prototype:d=a;for(var e in d)e in c||(c[e]=d[e]);return b.DF=d,b.QE=a,c.DF=d,c.QE=a,c.constructor=b,f;},b.Class=a;}(x);var x=x||{};!function(a,b,c,d){b=a.Class,c=b.create({id:null,width:600,height:400,a:0,f:0,FPS:60,zT:'',context:null,g:!1,frame:0,hq:0,init:function(){this.cX=this.width,this.o4=this.height,this.offsetX=0,this.offsetY=0,this.mP&&this.mP.apply(this,arguments);var a=this;this.Tq=function(){a.run();},this.ZZ={now:0,last:0,step:Math.floor(1000/this.FPS)},this.Up=this.ZZ.step,this.$l(),this.dC&&this.dC.apply(this,arguments);},$l:function(){},start:function(){this.ZZ.now=Date.now(),this.ZZ.last=this.ZZ.now,this.paused=!1,this.Ee=!0,this.frame=0,this.G&&this.G(),this.run();},stop:function(){this.Ee=!1,this.Ky&&this.Ky();},NV:function(){cancelAnimationFrame(this.$u),this.Ee=!1,this.Ky&&this.Ky();},pause:function(){this.paused=!0,this.Gj&&this.Gj();},resume:function(){this.paused=!1,this.W1&&this.W1();},l3:function(){this.Ee=!1,this.$u&&cancelAnimationFrame(this.$u);},r9:function(){this.ZZ.last=Date.now(),this.run();},run:function(){var e=16,a=this.ZZ.now=Date.now(),c=a-this.ZZ.last,d;this.$u=requestAnimationFrame(this.Tq,this.Up);var b=c-this.Up;b>=0&&(this.g?(b=b>e?e:b,d=this.Up):d=c,this.ZZ.last=a-b,this.U3(c,a),!this.paused&&c>1&&(this.frame++,this.update(d,a),this.Xo(d,a)),!this.Ee&&this.$u&&(clearTimeout(this.$u),cancelAnimationFrame(this.dL)));},re:function(a){this.d8&&this.d8.K_&&this.d8.K_(),this.frame=0,this.Dq(a),this.d8=a,a.gW();},Dq:function(a){},update:function(a,b){this.d8&&this.d8.update(a,b);},Xo:function(a,b){this.d8&&this.d8.Xo(this.context,a,b);},U3:function(a,b){this.d8&&this.d8.U3(a,b);},dC:null,G:null,Gj:null,W1:null,Ky:null}),a.Game=c,d=b.create({id:null,frame:0,init:function(a){},gW:function(){},K_:function(a){},f$:function(b){var a=new b();return a.init(this.game),this.game.re(a),a;},update:function(a,b){},Xo:function(a,b,c){},U3:function(a,b){}}),a.II=d,function(c,a,b){for(c=['ms','moz','webkit'],a=0;!window.requestAnimationFrame&&a<c.length;++a)b=c[a],window.requestAnimationFrame=window[b+'RequestAnimationFrame'],window.cancelAnimationFrame=window[b+'CancelAnimationFrame']||window[b+'CancelRequestAnimationFrame'];window.requestAnimationFrame||(window.requestAnimationFrame=function(a,b){return window.setTimeout(a,16);},window.requestAnimationFrame.Em=!0),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){return window.clearTimeout(a);});}();}(x);var x=x||{};!function(b,a){a={HQ:function(a){var b=a[0]+a[1],c=a[2]+a[3],d=a[4]+a[5];return[parseInt(b,16),parseInt(c,16),parseInt(d,16)];},ss:function(c){var b=a.HQ(c);return a.fE(b[0],b[1],b[2]);},uf:function(c,d,e){var a=function(a){return a.length==1?'0'+a:''+a;},b=[a(Math.round(c).toString(16)),a(Math.round(d).toString(16)),a(Math.round(e).toString(16))];return b.join('');},fE:function(d,a,b){d/=255,a/=255,b/=255;var c=Math.max(d,a,b),e=Math.min(d,a,b),f,h,i=(c+e)/2;if(c==e)f=h=0;else{var g=c-e;h=i>0.5?g/(2-c-e):g/(c+e);switch(c){case d:f=(a-b)/g+(a<b?6:0);break;case a:f=(b-d)/g+2;break;case b:f=(d-a)/g+4;break;}f/=6;}return[f*360,h*100,i*100];},ku:function(g,c,b){var h,i,j;if(String(c).lastIndexOf('%')>0&&(c=parseFloat(c)/100),String(b).lastIndexOf('%')>0&&(b=parseFloat(b)/100),c===0)h=i=j=b;else{var d=b<0.5?b*(1+c):b+c-b*c,e=2*b-d,f=a.Wi;h=f(e,d,g+0.3333333333333333),i=f(e,d,g),j=f(e,d,g-0.3333333333333333);}return[h*255,i*255,j*255];},Wi:function(b,c,a){return a<0&&(a+=1),a>1&&(a-=1),a<0.16666666666666666?b+(c-b)*6*a:a<0.5?c:a<0.6666666666666666?b+(c-b)*(0.6666666666666666-a)*6:b;},Gl:function(c,d,e){var b=a.ku(c,d,e);return a.uf(b[0],b[1],b[2]);}},b.Hi=a;}(x);var x=x||{};!function(d,a,b,c){a=function(b){for(var a in b)this[a]=b[a];this.reset();},b={constructor:a,oi:null,reset:function(){for(var a in this.oi)this.oi[a]=null;this.oi={};},addEventListener:function(b,c){var a=this.oi;a[b]===undefined&&(a[b]=[]),a[b].indexOf(c)===-1&&a[b].push(c);},hasEventListener:function(b,c){var a=this.oi;return a[b]!==undefined&&a[b].indexOf(c)!==-1?!0:!1;},removeEventListener:function(d,c){var a=this.oi[d];if(a!==undefined){var b=a.indexOf(c);if(b!==-1)return a.splice(b,1),c;}return null;},dispatch:function(f,d){var a=this.oi[f],c=!1;if(a){d=Array.prototype.slice.call(arguments,1);for(var b=0,e=a.length;b<e;b++)a[b].apply(this,d),c=!0;}return c;},Yu:function(a){return a?this.oi[a]:this.oi;},MW:function(b){if(!b){var a=this.oi;return this.oi={},a;}var a=this.oi[b]||null;return a&&(this.oi[b]=[]),a;}},a.apply=function(b,c){var d=a.prototype;return c=c!==!1,(c||!b.oi)&&(b.oi={}),(c||!b.addEventListener)&&(b.addEventListener=d.addEventListener),(c||!b.hasEventListener)&&(b.hasEventListener=d.hasEventListener),(c||!b.removeEventListener)&&(b.removeEventListener=d.removeEventListener),(c||!b.dispatch)&&(b.dispatch=d.dispatch),(c||!b.Yu)&&(b.Yu=d.Yu),(c||!b.MW)&&(b.MW=d.MW),b;};for(c in b)a.prototype[c]=b[c];d.Ix=a,typeof module!='undefined'&&(module.exports=a);}(x);
var x=x||{};!function(e,b,c,d,a){b=function(b){for(var a in b)this[a]=b[a];var c=this;this.R6=function(){c.run();},this.ZZ={};},b.types={},b.prototype={constructor:b,interval:20,FA:!0,delay:0,Ez:'fn',pv:!1,gj:!1,rootPath:null,Uv:function(){return!0;},init:function(){this.WS={};var b=this.items||[];this.items=[],this.cR=0,this._u=0;for(var a=0,c=b.length;a<c;a++){var d=b[a];this.Jv(d);}this.dC!=null&&this.dC();},dC:null,i3:function(){var a=this.ZZ;a.current=Date.now(),a.start=a.last=a.current,a.LM=0,a.duration=0;},FQ:function(){var a=this.ZZ;a.last=a.current,a.current=Date.now(),a.LM=a.current-a.last,a.duration+=a.LM;},Jv:function(a){var c=a;a={};for(var d in c)a[d]=c[d];a.options=c,a.src=a.src||a.url,a.id=a.id||a.src||'id_'+(this.items.length+1);var e=a.type||this.Ez;e&&(a=new b.types[e](a)),this.rootPath?this.rootPath[this.rootPath.length-1]!='/'&&(this.rootPath+='/'):this.rootPath='',a.src&&(a.src[0]=='/'&&(a.src=a.src.substring(1)),a.src=this.rootPath+a.src),a.delay=isNaN(a.delay)?this.delay:Number(a.delay),a.weight=isNaN(a.weight)||a.weight===0?1:Number(a.weight),a.V=a.V||this.Uv,this._u+=a.weight,this.items.push(a),this.cR=this.items.length;},start:function(){this.paused=!1,this.XM=0,this.cR=this.items.length,this.jv={},this.I6=0,this.Q9=0;var a=this;setTimeout(function(){a.i3(),a.ao(0),a.run();},20);},run:function(){function i(){var j=a.items.length;if(a.I6>=j)a.finish();else{if(a.paused){a.k6(b);return;}if(!a.ZW)for(var l=0;l<e;l++){if(c>=j)break;var d=a.items[c];if(d.start(a),e--,c++,d.Yr){a.ZW=d;break;}}for(var g=0;g<c;g++){if(g>=j)break;var k=!1,d=a.items[g];!f[g]&&d.V(a)?(k=!0,a.Hu(d,a)):d.lS&&d.lS(a)&&(a.kd(d,a),a.FA&&(f[g]=-1,k=!0,a.I6+=1,a.Q9+=d.weight)),k?(e++,f[g]=1,a.ZW===d&&(a.ZW=null)):d.update&&d.update(b,a);}var m=a.Q9;m!==h&&(a.Lj(b,a),h=m),setTimeout(i,b);}}var a=this,g=this.cR,b=this.delay||10,d=this.pv?typeof this.pv=='number'?this.pv:g>>2:1;d=Math.min(g,d||1);var c=0,e=d,f=this.jv,h=null;a.ZW=null,i();},finish:function(){clearTimeout(this.tA),this.L5!=null&&this.L5(this);},L5:null,getItem:function(a){return this.items[a];},ao:function(a){this.XM=a,this.T3=this.getItem(a),this.T3&&(this.T3.gM=this.T3.delay,this.T3.gM==0&&(this.T3.start(this),this.T3.Or=!0));},Hu:function(a,c){a.L5&&a.L5(c);var b;a.tF&&(b=a.tF(),this.WS[a.id]=b),this.I6+=1,this.Q9+=a.weight,this.Bf(a,b,c);},Bf:function(a,b,c){},kd:function(a,c){var b=a.L3;a.Y0&&a.Y0(b,c),a.L3=null,this.fL(a,b,c);},fL:function(a,b,c){},Lj:function(a,b){},Ct:function(){var a=[],b=this;return this.items.forEach(function(c){c.V(b)||a.push(c);}),a;}},c=function(b){for(var a in b)this[a]=b[a];},b.types.fn=c,c.prototype={constructor:c,id:null,async:!1,Yr:!1,L3:null,fn:function(a){},start:function(a){this._=this.async,this.result=this.fn(a);},update:null,L5:function(a){},tF:function(){return this.result;},V:function(a){return this._;},lS:function(a){return this.L3;}},d=function(b){for(var a in b)this[a]=b[a];},b.types.img=d,d.prototype={constructor:d,id:null,src:null,_:!1,async:!1,Yr:!1,lazy:!1,L3:null,start:function(b){if(this.lazy){this._=!0;return;}var a=this.img=new Image();this._=this.async,a.Q2=this,a.addEventListener('load',this.Aa),a.addEventListener('error',this.WP),a.src=this.src,this.SW=!0;},Aa:function(b){var a=this;a.removeEventListener('load',a.Q2.Aa),a.loaded=!0,a.Q2._=!0,a.Q2.SW=!1,a.Q2.onLoad(a,b),delete a.Q2;},onLoad:function(a,b){},WP:function(b){var a=this;a.removeEventListener('error',a.Q2.WP),a.loaded=!1,a.Q2._=!1,a.Q2.L3=b,a.Q2.Y0(a,b),delete a.Q2;},Y0:function(a,b){},tF:function(){return this.lazy?this:this.img;},L5:function(a){},V:function(a){return this._;},lS:function(a){return this.L3;}},a=function(b){for(var a in b)this[a]=b[a];},a.pk={mp3:'audio/mpeg',ogg:'audio/ogg; codecs=vorbis'},b.types.audio=a,function(c,b){c=new Audio();for(b in a.pk)if(c.canPlayType(a.pk[b])){a.uu=b;break;}}(),a.prototype={constructor:a,id:null,src:null,_:!1,async:!1,Yr:!1,lazy:!1,L3:null,wrap:null,mI:!0,yf:function(){if(typeof window!='undefined'&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.toLowerCase){var a=window.navigator.userAgent.toLowerCase(),c=/iphone/.test(a),d=/ipad/.test(a),e=/ipod/.test(a),f=c||d||e,b=window.location,g=b&&b.replace&&b.reload;return f&&g;}return!1;},start:function(c){if(this.lazy){this._=!0;return;}if(this.wrap=this.wrap===null?c.gj:this.wrap,this._=this.async,this.mI&&this.yf()){this._=!0,this.wrap=!1,this.audio=null;return;}var b;this.src.indexOf('.'+a.uu)==-1?b=this.src+'.'+a.uu:b=this.src,this._4(b),this.SW=!0;},_4:function(b){var a=this.audio=new Audio();return a.src=b,a.loop=this.loop||!1,this.volume&&(a.volume=this.volume),a.preload='auto',a.autobuffer=!0,a.autoplay=!1,a.Q2=this,a.addEventListener('canplaythrough',this.Aa),a.addEventListener('error',this.WP),a.load(),a;},Aa:function(a){this.removeEventListener('canplaythrough',this.Q2.Aa),this.loaded=!0,this.Q2._=!0,this.Q2.SW=!1,this.Q2.onLoad(this,a),delete this.Q2;},onLoad:function(a,b){},WP:function(a){this.removeEventListener('error',this.Q2.WP),this.loaded=!1,this.Q2._=!1,this.Q2.L3=a,this.Q2.Y0(this,a),delete this.Q2;},Y0:function(a,b){},tF:function(){return this.lazy?this:this.audio;},V:function(a){return this._;},lS:function(a){return this.L3;}},e.kL=b;}(x);var x=x||{};!function(a,b){b=function(b){for(var a in b)this[a]=b[a];this.cache=this.cache||{};var c=Object.keys(this.cache);this.wK=c.length;},b.prototype={wK:0,cache:null,a_:function(c,d){var a=this.get(c);if(!a.lazy)return a;var b=a;return b.onLoad=function(){a.lazy=!1;var e=b.tF();this.cache[c]=e,d&&d(e);},b.start(),this.get('blank');},get:function(b,c){var a=this.cache[b]||null;return c&&a!=null&&(a=a.cloneNode(!0)),a;},set:function(a,b){this.cache[a]=b;},add:function(a,b){this.cache[a]||this.wK++,this.cache[a]=b;},remove:function(c){var b=this.cache[c];delete this.cache[c],a.cj(b)&&a.lc(b),this.wK--;},clear:function(){for(var a in this.cache)this.remove(a);this.cache={},this.wK=0;},size:function(){return this.wK;},getAll:function(){return this.cache;}},a.Tw=b;}(x);var x=x||{};!function(b,a){a=function(b){for(var a in b)this[a]=b[a];this.init();},a.I9=1,a.Yw=2,a.vq=3,a.gQ=4,a.Ug=5,a.Th=6,a.prototype={constructor:a,width:null,height:null,W3:0,nw:0,Mu:null,Ce:null,G5:0,hL:0,offsetX:null,offsetY:null,fK:'center',hc:'center',Jj:a.I9,MA:0.02,scale:null,iW:null,mD:null,eq:0,HE:Infinity,Hn:0,CP:Infinity,init:function(){this.qL(this.width,this.height),this.HN(this.W3,this.nw);},qL:function(a,b){this.width=a,this.height=b,this.al=a/b;},HN:function(a,b){this.W3=a||this.width,this.nw=b||this.height,this.ft=this.W3/this.nw,this.NJ();},NJ:function(){this.ft<this.Hn?(this.MV=this.W3,this.ff=this.MV/this.Hn):this.ft>this.CP?(this.ff=this.nw,this.MV=this.ff*this.CP):(this.MV=this.W3,this.ff=this.nw),this.FV=this.MV/this.ff;},k4:function(a){this.Jj=a,this.update();},update:function(){switch(this.Jj){case a.Yw:this.XJ();break;case a.vq:this.kZ();break;case a.gQ:this.Br();break;case a.Ug:this.L7();break;case a.Th:this.Vy();break;case a.I9:default:this.uW();break;}},kx:function(a){a=Math.min(this.HE,Math.max(this.eq,a)),Math.abs(a-1)<=this.MA&&(a=1),this.YB(a),this.CR(a),this.scale=a;},YB:function(a){this.scale=null,this.iW=a,this.Mu=this.width*this.iW,this.G5=Math.ceil(this.W3/this.iW),this.h3=this.G5-this.width,this.Yg=this.h3<0?this.G5:this.width,this.fK=='center'?(this.offsetX=this.h3>>1,this.Am=this.W3-this.Mu>>1):this.fK=='right'?(this.offsetX=this.h3,this.Am=this.W3-this.Mu):(this.offsetX=0,this.Am=0);},CR:function(a){this.scale=null,this.mD=a,this.Ce=this.height*this.mD,this.hL=Math.ceil(this.nw/this.mD),this.b1=this.hL-this.height,this.BX=this.b1<0?this.hL:this.height,this.hc=='center'?(this.offsetY=this.b1>>1,this.uK=this.nw-this.Ce>>1):this.hc=='bottom'?(this.offsetY=this.b1,this.uK=this.nw-this.Ce):(this.offsetY=0,this.uK=0);},uW:function(){this.iW=this.mD=this.scale=1,this.ic();},Br:function(){var a=this.MV/this.width;a=Math.min(this.HE,Math.max(this.eq,a)),Math.abs(a-1)<=this.MA&&(a=1),this.iW=this.mD=this.scale=a,this.ic();},L7:function(){var a=this.ff/this.height;a=Math.min(this.HE,Math.max(this.eq,a)),Math.abs(a-1)<=this.MA&&(a=1),this.iW=this.mD=this.scale=a,this.ic();},Vy:function(){this.iW=Math.min(this.HE,Math.max(this.eq,this.MV/this.width)),this.mD=Math.min(this.HE,Math.max(this.eq,this.ff/this.height)),this.scale=null,this.ic();},XJ:function(){this.al>=this.FV?this.L7():this.Br();},kZ:function(){this.al>=this.FV?this.Br():this.L7();},ic:function(){this.Mu=this.width*this.iW,this.Ce=this.height*this.mD,this.G5=Math.ceil(this.W3/this.iW),this.hL=Math.ceil(this.nw/this.mD),this.h3=this.G5-this.width,this.b1=this.hL-this.height,this.Yg=this.h3<0?this.G5:this.width,this.BX=this.b1<0?this.hL:this.height,this.fK=='center'?(this.offsetX=this.h3>>1,this.Am=this.W3-this.Mu>>1):this.fK=='right'?(this.offsetX=this.h3,this.Am=this.W3-this.Mu):(this.offsetX=0,this.Am=0),this.hc=='center'?(this.offsetY=this.b1>>1,this.uK=this.nw-this.Ce>>1):this.hc=='bottom'?(this.offsetY=this.b1,this.uK=this.nw-this.Ce):(this.offsetY=0,this.uK=0);}},a.prototype._w=function(a,b){a.width=this.G5,a.height=this.hL,b?this.gA(a):(a.style.width=this.W3+'px',a.style.height=this.nw+'px');},a.prototype.gA=function(a){a.style.width=this.G5+'px',a.style.height=this.hL+'px','transform'in a.style?(a.style.transformOrigin='0 0',a.style.transform='scale('+this.iW+','+this.mD+')'):'webkitTransform'in a.style&&(a.style.webkitTransformOrigin='0 0',a.style.webkitTransform='scale('+this.iW+','+this.mD+')');},b.s9=a;}(x);var x=x||{};!function(h,i,a,c,d,b,g,e,f){window.AudioContext=window.AudioContext||window.webkitAudioContext,function(a){window.AudioContext&&(a=window.AudioContext.prototype,a.createGain=a.createGain||a.createGainNode,a.createDelay=a.createDelay||a.createDelayNode);}(),i=function(){},a=function(e){var a;e.bK&&window.AudioContext?a=c:a=d;for(var b in a.prototype)this[b]=a.prototype[b];a.call(this,e),this.init();},a.prototype={constructor:a,id:1,tag:null,channel:1,bK:!0},c=function(b){for(var a in b)this[a]=b[a];},c.prototype={constructor:c,context:null,gain:null,source:null,audio:null,buffer:null,src:null,loaded:!1,error:!1,c4:!1,currentTime:0,loop:!1,volume:1,muted:!1,X4:0,endTime:0,U6:0,onended:null,init:function(){this.context=this.context||a.context,this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.currentTime=0,a.set(this.id,this),this.audio&&this.KP();},KP:function(){var a=this.context;this.buffer?this.L8=this.buffer.duration:this.audio&&(this.L8=this.audio.duration),this.Pl();},Pl:function(){this.X4=Math.min(this.X4,this.L8),this.endTime?(this.endTime=Math.min(this.endTime,this.L8),this.duration=this.endTime-this.X4,this.iX=!0):this.duration?(this.endTime=Math.min(this.X4+this.duration,this.L8),this.duration=this.endTime-this.X4,this.iX=!0):(this.iX=!1,this.duration=this.duration||this.L8);},load:function(){if(this.loaded===!0)return!1;var a=this;a.loaded=!1,a.error=!1;var d=function(d){a.context.decodeAudioData(b.response,function(c){a.loaded=!0,a.error=!1,a.buffer=c,a.KP(),a.onLoad(a.source),b.onload=null,b.onerror=null;},c);},c=function(c){a.loaded=!1,a.error=!0,a.fl(c),b.onload=null,b.onerror=null;},b=new XMLHttpRequest();b.open('GET',this.src,!0),b.responseType='arraybuffer',b.onload=d,b.onerror=c,b.send(null);},onLoad:function(a){},fl:function(a){console.log('Load '+this.src+' ... Failed');},play:function(a){if(a&&this.c4)return;this.channel<=1&&this.source&&this.c4&&this.source.stop(0),this.currentTime=0,this.resume();},pause:function(){this.currentTime+=this.context.currentTime-this.U6,this.source.stop(0),this.c4=!1;},resume:function(){this.U6=this.context.currentTime;var a;this.audio?a=this.context.createMediaElementSource(this.audio):(a=this.context.createBufferSource(),a.buffer=this.buffer),this.source=a,a.connect(this.gain),a.loop=!!this.loop,this.onended&&(a.onended=this.onended),this.Y5(this.volume),this.HB(this.muted),this.endTime&&(a.loopStart=this.X4,a.loopEnd=this.endTime);var b=this.X4+this.currentTime;if(this.loop)this.endTime&&b>=this.endTime&&(b=this.X4),this.source.start(0,b);else{var c;if(this.endTime){if(b>=this.endTime)return;c=this.endTime-b;}else c=this.L8;this.source.start(0,b,c);}this.c4=!0;},stop:function(){this.c4&&this.source.stop(0),this.currentTime=0,this.U6=0,this.c4=!1;},gB:function(){return this.currentTime;},tL:function(a){this.pause(),this.currentTime=a,this.resume();},cV:function(){return this.duration;},KS:function(){return this.loop;},Pe:function(a){this.loop=a,this.source.loop=a;},Y4:function(a){return this.volume;},Y5:function(a){this.volume=a,this.gain.gain.value=this.volume;},u3:function(){return this.muted;},HB:function(a){a=this.muted=!!a,a?this.gain.gain.value=0:this.gain.gain.value=this.volume;}},d=function(b){for(var a in b)this[a]=b[a];},d.prototype={constructor:d,audio:null,channel:1,xp:!1,src:null,loaded:!1,error:!1,c4:!1,currentTime:0,loop:!1,volume:1,muted:!1,duration:0,X4:0,endTime:0,init:function(){this.audio||(this.audio=new Audio(),this.audio.volume=this.volume,this.audio.muted=this.muted,this.audio.loop=this.loop,this.audio.preload='auto',this.audio.autoplay=!1,this.audio.autobuffer=!0,this.audio.src=this.src),this.channel<=1?this.play=this.play||this.m_:(this.pool=[],this.pool.push(this.audio),this.audio.wX=this.pool.length,this.play=this.play||this.yg),this.index=0,a.set(this.id,this);},KP:function(){if(this.L8=this.audio.duration,this.Pl(),this.iX){var b=this;this.oS=function(a){b.Gh(a);},this.audio.addEventListener('timeupdate',this.oS,!1);}if(this.channel>1&&!this.xp)for(var a=1;a<this.channel;a++)this.tz();},Pl:function(){this.X4=Math.min(this.X4,this.L8),this.endTime?(this.endTime=Math.min(this.endTime,this.L8),this.duration=this.endTime-this.X4,this.iX=!0):this.duration?(this.endTime=Math.min(this.X4+this.duration,this.L8),this.duration=this.endTime-this.X4,this.iX=!0):(this.iX=!1,this.duration=this.duration||this.L8);},Gh:function(b){var a=b.target;if(a.currentTime>=this.endTime&&!a.paused){if(a.pause(),!this.loop)return!0;a.currentTime=this.X4,a.play();}return!1;},load:function(){if(this.loaded===!0)return!1;var a=this;a.loaded=!1,a.error=!1;var b=function(){a.loaded=!0,a.error=!1,a.KP(),a.onLoad(a.audio),a.audio.removeEventListener('canplaythrough',b),a.audio.removeEventListener('error',c);},c=function(d){a.loaded=!1,a.error=!0,a.fl(d),a.audio.removeEventListener('canplaythrough',b),a.audio.removeEventListener('error',c);};this.audio.addEventListener('canplaythrough',b),this.audio.addEventListener('error',c),this.audio.load();},onLoad:function(){},fl:function(a){console.log('Load '+this.src+' ... Failed');},play:null,pause:function(){this.loaded&&(this.currentTime=this.audio.currentTime-this.X4,this.audio.pause()),this.c4=!1;},resume:function(){this.loaded&&(this.audio.currentTime=this.X4+this.currentTime,this.audio.play()),this.c4=!0;},stop:function(){this.loaded&&(this.audio.pause(),this.audio.currentTime=0),this.currentTime=0,this.c4=!1;},gB:function(){return this.audio.currentTime-this.X4;},tL:function(a){this.currentTime=a,this.audio.currentTime=this.X4+a;},cV:function(){return this.duration;},KS:function(){return this.loop;},Pe:function(a){this.loop=a,this.pool?this.pool.forEach(function(b){b.loop=a;}):this.audio.loop=a;},Y4:function(a){return this.volume;},Y5:function(a){this.volume=a,this.pool?this.pool.forEach(function(b){b.volume=a;}):this.audio.volume=a;},u3:function(){return this.muted;},HB:function(a){a=this.muted=!!a,this.pool?this.pool.forEach(function(b){b.muted=a;}):this.audio.muted=a;},m_:function(a){if(a&&this.c4)return;this.channel<=1&&this.audio.pause(),this.currentTime=0,this.resume();},yg:function(a){if(a&&this.c4)return;this.pool.length<=this.index&&this.tz(),this.audio=this.pool[this.index],this.index=++this.index%this.channel,this.currentTime=0,this.resume();},tz:function(){var a=this.audio.cloneNode();return a.loop=this.loop,a.volume=this.volume,a.muted=!!this.muted,this.iX&&a.addEventListener('timeupdate',this.oS,!1),this.pool.push(a),a.wX=this.pool.length,a;}},a.$Z=function(){var a=new AudioContext();return a.gain=a.createGain(),a.gain.gain.value=1,a.gain.connect(a.destination),a;},window.AudioContext&&(a.context=a.$Z(),a.w8=!0),a.UB=function(b){if(b=b||a.context,!b||b&&b.currentTime>0)return!1;var c=b.createBufferSource();c.buffer=b.createBuffer(2,22050,22050);var d=b.createGain();return d.gain.value=0,d.connect(b.destination),c.connect(d),c.start(0),a.UB.played=!0,c;},b={},a.get=function(a){return b[a];},a.set=function(c,a){return b[c]=a,a;},a.clear=function(){b={};},a.remove=function(a){var c=b[a];return delete b[a],c;},a.size=function(){var a=Object.keys(b);return a.length;},a.getAll=function(){return b;},g=['play','stop','pause','resume','setMute','isMuted','setVolume','getVolume'],g.forEach(function(b){a[b]=function(d,e){var c=a.get(d);return c&&c[b]?c[b](e):void 0;};}),a.muted=!1,a.eX=function(c,f,g){c=!!c;for(var e in b){if(g!==!0&&e===f)continue;var d=b[e];if(g===!0&&'tag'in d&&d.tag===f)continue;d.HB(c);}a.muted=c;},a.Cs=function(e,c){c=!!c;for(var f in b){var d=b[f];d.tag===e&&d.HB(c);}a[e+'Muted']=c;},a.bj=function(d,c){var b=a.get(d);if(!b||b.loaded!==!0)return!1;c=c||c===0?c:30;var e=a.bj.ZZ[d],f=Date.now();if(!e||f-e>c){a.bj.ZZ[d]=f;try{b.play();}catch(a){console.log('Sound.smartPlay ERROR:',b.id,a);}return!0;}return!1;},a.bj.ZZ={},e=[],f=function(b){var a=b.target;a.loaded=!0,a.error=!1,a.removeEventListener('canplaythrough',f);},a.PS=function(d,f){for(var b=0;b<d.length;b++){var c=d[b];c.bK=f!==!1&&a.w8;var e=new a(c);e.load();}},a.c=function(f,g){for(var b=0;b<f.length;b++){var c=f[b];c.bK=g!==!1&&a.w8;var d=new a(c);d.load(),e.push(d);}},a.jR=function(){if(e.length<1)return;var a=e.shift();if(a.loaded)return;a.tagName==='AUDIO'&&a.addEventListener('canplaythrough',f),a.load();},h.s=a;}(x);var x=x||{};!function(d,a,b,c){a=function(b){for(var a in b)this[a]=b[a];this.py=this.py||[];},b={constructor:a,reset:function(){this.py.length=0,this.fs=0;},size:function(){return this.py.length;},xE:function(c,d,e,f){var a=++this.fs,b={id:a,tag:f,fn:c,timeout:d,interval:e};return b;},Ta:function(b,c,d,e){var a;return typeof b=='function'?a=this.xE(b,c,d,e):a=b,a.bZ=!1,a.Xb=a.timeout,this.py.push(a),a;},nO:function(d){for(var a=0,c=this.py.length;a<c;a++){var b=this.py[a];if(b.fn===d)return b;}return null;},PQ:function(b,c){var a=this.nO(b);return this.pN(a,c);},pN:function(a,b){var c=b-a.timeout;return a.bZ=!1,a.Xb=Math.max(0,a.Xb+c),a.timeout=b,a;},vi:function(a){return this.py[a];},pS:function(d,e){for(var a=0,b=this.py.length;a<b;a++){var c=this.py[a];c.tag===d&&(e?(this.py.splice(a,1),b--,a--):c.bZ=!0);}return this.py.length;},WG:function(a,b){b?this.py.splice(a,1):this.py[a].bZ=!0;},px:function(d,e,f){for(var a=0,b=this.py.length;a<b;a++){var c=this.py[a];if(c.fn===d&&(f?(this.py.splice(a,1),b--,a--):c.bZ=!0,!e))break;}return this.py.length;},jj:function(b,d){for(var a=0,c=this.py.length;a<c;a++)if(b==this.py[a]){d?this.py.splice(a,1):b.bZ=!0;break;}},update:function(d,f){for(var b=0,c=this.py.length;b<c;b++){var a=this.py[b];if(a.bZ){a.bZ=!1,this.py.splice(b,1),c--,b--;continue;}if((a.Xb-=d)<=0){var e=a.fn;e(d,f,a),a.interval?a.Xb=a.timeout:a.bZ=!0;}}}};for(c in b)a.prototype[c]=b[c];d.cU=a,typeof module!=='undefined'&&module.exports&&(module.exports=a);}(x);
var x=x||{};!function(d,a,b,c){a=function(b){for(var a in b)this[a]=b[a];},b={constructor:a,Ba:Math.PI/180,RL:180/Math.PI,sR:Math.PI/2,fu:Math.PI*2,img:null,sx:null,sy:null,sw:null,sh:null,x:0,y:0,width:null,height:null,RS:0,PF:0,offsetX:0,offsetY:0,Zc:0,xm:0,scale:1,iW:1,mD:1,ud:!1,Op:!1,b3:0,visible:!0,lZ:0,l2:0,JF:0,init:function(){this.children=[],this.LG={},this.GH(this.img),this.tr(this.sx,this.sy,this.sw,this.sh),this.Zx();},GH:function(a){this.img=a;},tr:function(a,b,c,d){(a===null||a===undefined)&&(a=0),(b===null||b===undefined)&&(b=0),(c===null||c===undefined)&&(c=this.img.width),(d===null||d===undefined)&&(d=this.img.height),this.sx=a,this.sy=b,this.sw=c,this.sh=d,(this.width===null||this.width===undefined)&&(this.width=this.sw),(this.height===null||this.height===undefined)&&(this.height=this.sh);},kx:function(a){this.scale=a,this.iW=a,this.mD=a;},uR:function(b,c){var a=this.Da;return a[0]<b&&b<a[2]&&a[1]<c&&c<a[3];},update:function(a,b){},g8:function(){var a=this.Gq-this.RS,b=this.r2-this.PF;this.Da[0]=a,this.Da[1]=b,this.Da[2]=a+this.width,this.Da[3]=b+this.height;},k3:function(e,f,g){if(!this.img)return;var a=this.x-this.RS+this.offsetX,b=this.y-this.PF+this.offsetY,c=this.width+this.Zc,d=this.height+this.xm;e.drawImage(this.img,this.sx,this.sy,this.sw,this.sh,a,b,c,d);},gb:function(a,b,c){a.drawImage(this.img,this.sx,this.sy,this.sw,this.sh,this.lZ,this.l2,this.H1,this.r8);},Ui:function(a,b,c){this.children.forEach(function(d){d.Xo(a,b,c);});},Xo:function(a,g,h){if(!this.visible)return!1;if(this.parent?this.JF=this.alpha*(this.parent.JF||1):this.JF=this.alpha,this.JF=this.JF>1?1:this.JF,this.JF<=0)return!1;var e=-this.RS,f=-this.PF,c=this.iW*(this.ud?-1:1),d=this.mD*(this.Op?-1:1),b=this.b3%this.fu;c!=1||d!=1||b!=0?(a.save(),a.translate(this.x,this.y),b&&a.rotate(b),a.scale(c,d)):(e+=this.x,f+=this.y),this.lZ=e+this.offsetX,this.l2=f+this.offsetY,this.H1=this.width+this.Zc,this.r8=this.height+this.xm,a.globalAlpha=this.JF,this.gb(a,g,h),this.children&&this.Ui(a,g,h),c!=1||d!=1||b!=0?a.restore():a.globalAlpha=1,this.JF=1;},Zx:function(a){if(a=a||this.parent,this.absolute||!a){this.JF=this.alpha,this.Gq=this.x,this.r2=this.y,this.iT=this.b3,this.TM=this.scale,this.P7=this.iW,this.GT=this.mD,this.at=this.ud,this.q$=this.Op;return;}this.JF=this.alpha*a.JF,this.Gq=this.x+a.Gq,this.r2=this.y+a.r2,this.iT=this.b3+a.iT,this.TM=this.scale*a.TM,this.P7=this.iW*a.P7,this.GT=this.mD*a.GT,this.at=this.ud^a.at,this.q$=this.Op^a.q$;},addChild:function(b){b.id=b.id||b.id===0?b.id:a.qc(),this.LG[b.id]=b,this.children.push(b),b.parent=this;},bz:function(a){return this.LG[a];},qS:function(a){return this.children[a];},removeChild:function(a){var b=this.indexOf(a);return b>=0?(delete this.LG[a.id],this.children.splice(b,1),a.parent=null,a):!1;},JP:function(b){var a=this.LG[b];return a?this.removeChild(a):!1;},cz:function(b){var a=this.children[b];return a?(delete this.LG[a.id],this.children.splice(b,1),a.parent=null,a):!1;},indexOf:function(c){for(var a=0,b=this.children.length;a<b;a++)if(this.children[a]===c)return a;return-1;},Gs:function(a){return!!this.children[a.id];},Ic:function(b){a.vL(this.children,b);}},a.fw=0,a.qc=function(){a.fw++;var b='do_'+a.fw;return b;},a.vL=function(b,e){var d,f,g=b.length;for(var c=1;c<g;c++){d=b[c];var h=d[e];for(var a=c;a>0&&(f=b[a-1])[e]>h;a--)b[a]=f;b[a]=d;}};for(c in b)a.prototype[c]=b[c];d.Wd=a;}(x);var x=x||{};!function(d,a,b,c){a=function(b){for(var a in b)this[a]=b[a];},a.H8=1,b={constructor:a,a1:null,id:null,FK:!1,Fp:!1,bG:'>>S<<',init:function(){this.id=this.id||'DS_'+a.H8++,this.FK?this.gs=this.id+'@':this.gs='',this.Fp?this.cL():this.data?this.a1=this.data:this.a1={},this.valueListeners=this.valueListeners||{};},setValueListener:function(a,b){this.valueListeners[a]=b;},dispatchValueListener:function(b,c){var a=this.valueListeners[b];a&&a(c);},get:function(a){return this.a1[a];},set:function(a,b){this.a1[a]=b;},update:function(a,c){var b=this.a1[a]||{};for(var a in c)b[a]=c[a];return this.a1[a]=b,b;},remove:function(a){var b=this.a1[a];return delete this.a1[a],b;},mi:function(){return this.a1;},Sy:function(a){this.a1=a;},getData:function(){var a={};for(var b in this.a1)a[b]=this.a1[b];return a;},setData:function(b,c){c&&(this.a1={});for(var a in b)this.a1[a]=b[a];return this.a1;},clearData:function(){this.a1={};},save:function(a,b){arguments.length==1&&(b=this.get(a)),this.set(a,b),window.localStorage.setItem(this.gs+a,JSON.stringify(b)),this.dispatchValueListener(a,b);},load:function(b,c){var a=window.localStorage.getItem(this.gs+b);return a!==null&&(a=JSON.parse(a),c&&(a=this.z1(a))),this.set(b,a),a;},delete:function(a){var b=window.localStorage.getItem(this.gs+a);return window.localStorage.removeItem(this.gs+a),this.remove(a),b;},clear:function(){for(var a in this.a1)window.localStorage.removeItem(this.gs+a);window.localStorage.removeItem(this.bG+'@'+this.id),this.a1={};},k$:function(){return JSON.stringify(this.a1);},sJ:function(c,d){var a=c?JSON.parse(c):{};if(d)this.a1=a;else for(var b in a)this.set(b,a[b]);return a;},LE:function(){var a=this.k$();return window.localStorage.setItem(this.bG+'@'+this.id,a),a;},cL:function(){var a=window.localStorage.getItem(this.bG+'@'+this.id);return this.sJ(a,!0);},z1:function(a){return a===null||a===undefined?a:(a==='true'?a=!0:a==='false'?a=!1:a==='null'?a=null:a==='undefined'?a=undefined:isNaN(Number(a))||(a=Number(a)),a);},dk:function(a){return JSON.parse(JSON.stringify(a));},l$:function(b,c){var a=window.location.host;window.document.cookie=b+'='+c+'; '+''+'path=/; domain='+a+';';},Av:function(c){var b=new RegExp('(?:^|;+|\\s+)'+c+'=([^;]*)'),a=window.document.cookie.match(b);return a?a[1]:'';},u5:function(b){var a=window.location.host;window.document.cookie=b+'=; expires=Mon, 13 Jun 1982 06:00:00 GMT; '+'path=/; domain='+a+';';}};for(c in b)a.prototype[c]=b[c];d.hE=a;}(x);var x=x||{};!function(b,a){a=function(b){for(var a in b)this[a]=b[a];},a.prototype={constructor:a,name:null,gW:function(a,b,c){},execute:function(a,b,c){},exit:function(a,b,c){},suspend:function(a,b,c){},resume:function(a,b,c){},reset:function(a,b,c){}};}(x);var x=x||{};!function(b,a){a=function(){},a.apply=function(d){var c=a.prototype;for(var b in c)b in d||(d[b]=c[b]);},a.prototype={th:null,WT:null,state:null,bJ:null,a4:function(a){this.state=a,this.bJ=a.name;},CU:function(a,b,c){this.state&&this.state.exit(this,b,c),this.th=this.state,this.WT=this.bJ,this.state=a,this.bJ=a.name,a.gW(this,b,c),console.log(this.WT+' ---> '+this.bJ);},Qf:function(a,b,c){this.state&&this.state.suspend(this,b,c),this.th=this.state,this.WT=this.bJ,this.state=a,this.bJ=a.name,a.gW(this,b,c);},_2:function(a,b,c){a=a||this.th,this.state&&this.state.exit(this,b,c),this.th=this.state,this.WT=this.bJ,this.state=a,this.bJ=a.name,a.resume(this,b,c);},zl:function(a,b){this.state&&this.state.execute(this,a,b);},GS:function(a,b){this.state&&this.state.reset(this,a,b);}},b.el=a;}(x);var d=d||{};!function(c,a,b,d,e){a={},a.dK=['touches','changedTouches','targetTouches'],a.touches='touches',a.changedTouches='changedTouches',a.targetTouches='targetTouches',a.bL=1,b=function(b){for(var a in b)this[a]=b[a];this.BK=this.BK||c.Nx;},d={constructor:b,BK:null,host:window,dom:document,ho:1,offsetX:0,offsetY:0,offsetLeft:0,offsetTop:0,r_:!1,KU:!1,Gw:!0,preventDefault:!1,LP:!0,oc:!1,rc:!1,_o:!1,Od:!1,Zv:30,ar:5,xG:null,kz:null,Og:null,Mi:0,dv:0,mP:function(){},init:function(){this.nE=[],this.reset(),this.mP();var c=this.dom;this.wr(),this.r_='ontouchstart'in this.dom,this.r_||(this.KU=!0),this.KU?(a.Lf='mousedown',a.Lk='mousemove',a.END='mouseup',a.j=null):(a.Lf='touchstart',a.Lk='touchmove',a.END='touchend',a.j='touchcancel');var b=this;c.addEventListener(a.Lf,function(a){var c=Date.now();if(b.KU&&b.reset(),b.Es!==null&&b.Es(a,c)===!1)return;b.G(a,c),(b.oc||b.preventDefault)&&a.preventDefault();},this.Gw),c.addEventListener(a.Lk,function(c){var a=Date.now();if(a-b.Mi<b.dv||b.a3!==null&&b.a3(c,a)===!1)return;b.Mi=a,b.W_(c,a),(b.rc||b.preventDefault)&&c.preventDefault();},this.Gw);var d=function(a){var c=Date.now();if(b.Ot!==null&&b.Ot(a,c)===!1)return;b.YP(a,c),(b._o||b.preventDefault)&&a.preventDefault();};c.addEventListener(a.END,d,this.Gw),this.KU?window.addEventListener('mouseout',function(a){var b=a.relatedTarget||a.toElement;(!b||b.nodeName=='HTML')&&d(a),a.preventDefault();},!1):c.addEventListener(a.j,function(a){var c=Date.now();if(b.W9!==null&&b.W9(a)===!1)return;b.reset(),b.jT(a,c),(b.Od||b.preventDefault)&&a.preventDefault();},this.Gw),!this.KU&&this.LP&&'ongesturestart'in window&&(window.addEventListener('gesturestart',function(a){a.preventDefault();},!1),window.addEventListener('gesturechange',function(a){a.preventDefault();},!1),window.addEventListener('gestureend',function(a){a.preventDefault();},!1)),this.dC();},dC:function(){},reset:function(){this.xG=[],this.kz=[],this.Og=[],this.xG.sg=this.kz.sg=this.Og.sg=0,this.cE={},this.ti=0;},wr:function(){var a=this.dom;if(a===window||a===document){this.offsetLeft=0,this.offsetTop=0;return;}if(a.getBoundingClientRect!==undefined){var b=window.pageXOffset,c=0;b||b===0?c=window.pageYOffset:(b=document.body.scrollLeft,c=document.body.scrollTop);var d=a.getBoundingClientRect();this.offsetLeft=d.left+b,this.offsetTop=d.top+c;return;}var e=a.offsetLeft,f=a.offsetTop;while((a=a.parentNode)&&a!==document.body&&a!==document)e+=a.offsetLeft,f+=a.offsetTop;this.offsetLeft=e,this.offsetTop=f;},Es:null,G:function(a,c){var b=this.Oa(a,c);this.dispatch('start',b,a);},a3:null,W_:function(a,c){var b=this.o3(a,c);this.dispatch('move',b,a);},Ot:null,YP:function(a,c){var b=this.dd(a,c);this.dispatch('end',b,a);},W9:null,jT:function(d,e){for(var a=0,c=this.nE.length;a<c;a++){var b=this.nE[a];if(b.cancel!=null&&b.cancel(null,d,this)===!1)break;}},SF:function(a,b){a.length>=this.ar&&a.shift(),a.push(b);},x1:function(a,b){a.length>=this.ar&&a.shift(),a.push(b);},Oa:function(i,l){var g=i[a.changedTouches]||[i],h=[];for(var d=0,k=g.length;d<k;d++){var j=g[d],e=j.identifier,f=e||e===0?e:a.bL,b=this.cE[f];b=new this.BK(f),b.ho=this.ho,b.offsetX=this.offsetX,b.offsetY=this.offsetY,this.cE[f]=b,this.ti++,b.start(j,i),h.push(b);var c=this.xG;l-c.sg>this.Zv&&(c.length=0),c.sg=l,c.push(b);}return h;},o3:function(h,j){var f=h[a.changedTouches]||[h],g=[];for(var d=0,l=f.length;d<l;d++){var i=f[d],e=i.identifier,k=e||e===0?e:a.bL,b=this.cE[k];if(b){if(!b.G3){var c=this.kz;j-c.sg>this.Zv&&(c.length=0),c.sg=j,c.push(b);}b.move(i,h),g.push(b);}}return g;},dd:function(f,p){var i=f[a.changedTouches]||[f],j={};if(!this.KU){var k=f[a.touches];for(var e=k.length-1;e>=0;e--){var o=k[e];j[o.identifier]=!0;}}var l=[];for(var g=0,n=i.length;g<n;g++){var m=i[g],h=m.identifier,b=h||h===0?h:a.bL;if(!j[b]){var d=this.cE[b];if(d){d.end(m,f),delete this.cE[b],this.ti--,l.push(d);var c=this.Og;p-c.sg>this.Zv&&(c.length=0),c.sg=p,c.push(d),this.Tk(this.xG,b),this.Tk(this.kz,b);}}}return l;},Tk:function(b,c){for(var a=b.length-1;a>=0;a--)if(b[a].identifier==c)return b.splice(a,1),c;return!1;},dispatch:function(d,e,f){for(var b=0,g=this.nE.length;b<g;b++){var c=this.nE[b];if(c[d]!=null){var a=c.Gp(d,e,f,this);if(a===!0&&(a=e),a&&a.length>0&&c[d](a,f,this)===!1)break;}}},addListener:function(a){a.controller=this,a.offsetLeft=this.offsetLeft,a.offsetTop=this.offsetTop,a.init(),this.nE.push(a),a.order=a.order||0;},removeListener:function(b){for(var a=this.nE.length-1;a>=0;a--)if(this.nE[a]==b)return this.nE.splice(a,1),b.controller=null,b;return null;},gc:function(){for(var a=this.nE.length-1;a>=0;a--){var b=this.nE[a];b.controller=null;}this.nE.length=0;}};for(e in d)b.prototype[e]=d[e];c.xZ=b,c.Cp=a;}(d);var d=d||{};!function(e,a,b,c,d){a=e.Cp,b=function(a){this.identifier=a,this.id=a;},c={constructor:b,ho:1,offsetX:0,offsetY:0,start:function(b,c){this.type=a.Lf,this.update(b,c),this.KA=this.Ub=this.pageX,this.sd=this.ZA=this.pageY,this.Hf=this.i1=this.target,this.deltaX=0,this.deltaY=0,this.Uo=0,this.Ld=0,this.YT=!0,this.startTime=this.endTime=this.G3=Date.now();},move:function(b,c){this.type=a.Lk,this.$Q=this.G3,this.update(b,c),this.G3=Date.now();},end:function(d,e){this.type=a.END;var b=this.deltaX,c=this.deltaY;this.update(d,e),this.deltaX=b,this.deltaY=c,this.tg=this.pageX,this.kP=this.pageY,this.au=this.target,this.YT=!1,this.endTime=Date.now();},update:function(a,b){this.lV=b,this.ZH=a,this.i1=this.target,this.Ub=this.pageX,this.ZA=this.pageY,this.target=a.target,this.pageX=a.pageX*this.ho+this.offsetX,this.pageY=a.pageY*this.ho+this.offsetY,this.deltaX=this.pageX-this.Ub,this.deltaY=this.pageY-this.ZA,this.Uo=this.pageX-this.KA,this.Ld=this.pageY-this.sd;}};for(d in c)b.prototype[d]=c[d];e.Nx=b;}(d);var d=d||{};!function(d,e,a,b,c){e=d.Cp,a=function(b){for(var a in b)this[a]=b[a];},a.extend=function(e){var a=function(b){for(var a in b)this[a]=b[a];},c=a.prototype,d=this.prototype;for(var b in d)c[b]=d[b];for(var b in e)c[b]=e[b];return c.constructor=a,a.extend=this.extend,a.DF=d,a.QE=this,a;},b={constructor:a,id:null,type:null,offsetLeft:0,offsetTop:0,order:1,Hw:1,mP:function(){},init:function(){this.mP(),this.dC();},dC:function(){},Gp:function(f,d,g,h){var b=[];for(var a=0,e=d.length;a<e;a++){var c=d[a];this.uv(f,c,g,h)&&b.push(c);}return b;},uv:function(a,b,c,d){return!1;},start:null,v0:null,move:null,zk:null,end:null,QT:null,cancel:null,Oh:null};for(c in b)a.prototype[c]=b[c];d.W8=a;}(d);d.nk=d.W8.extend({uv:function(a,b,c,d){return!0;},start:function(a,b,c){},move:function(a,b,c){},end:function(a,b,c){},cancel:function(a,b,c){}});d.Tap=d.W8.extend({ib:800,lx:15,uv:function(a,b,c,d){return!0;},xy:function(a,b,c,d,e){},v0:null,QT:null,AW:function(a){var b=Math.abs(a.Uo),c=Math.abs(a.Ld);return b<=this.lx&&c<=this.lx;},Ws:function(a){return a.endTime-a.startTime<this.ib;},start:function(c,g,h){if(!this.v0)return;var d=Math.min(c.length,this.Hw);for(var a=0;a<d;a++){var b=c[a],e=b.pageX,f=b.pageY;this.v0(e,f,b,g,h);}},end:function(e,f,g){var h=0,i=Math.min(e.length,this.Hw);for(var b=0;b<i;b++){var a=e[b],c=a.tg,d=a.kP;this.AW(a)&&this.Ws(a)&&(a.index=h++,this.xy(c,d,a,f,g)),this.QT!=null&&this.QT(c,d,a,f,g);}}});d.xP=d.W8.extend({valid:!1,uv:function(a,b,c,d){return!0;},Zp:function(a,b,c,d,e,f,g){},move:function(g,k,j){var e=0,f=Math.min(g.length,this.Hw);for(var b=0;b<f;b++){var a=g[b],i=a.deltaX,d=a.deltaY,c=a.pageX,h=a.pageY;a.index=e++,this.Zp(i,d,c,h,a,k,j);}}});d.vU=d.W8.extend({Ho:50,Pa:1000,uv:function(a,b,c,d){return!0;},Eh:function(a,b,c,d,e){},QT:null,end:function(h,i,j){var k=0,l=Math.min(h.length,this.Hw);for(var b=0;b<l;b++){var a=h[b],d=a.tg,e=a.kP,c=a.endTime-a.startTime;if(c<=this.Pa){var f=d-a.KA,g=e-a.sd;if(Math.abs(f)>=this.Ho||Math.abs(g)>=this.Ho){var n=f/c,m=g/c;a.index=k++,this.Eh(n,m,a,i,j);}}this.QT!=null&&this.QT(d,e,a,i,j);}}});d.t6=d.W8.extend({gP:null,fR:null,TH:null,uv:function(a,b,c,d){return!0;},kb:function(a,b,c,d,e,f,g){},OU:null,start:function(e,f,g){for(var a=0;a<e.length;a++){var b=e[a];if(!this.gP)this.gP=b;else if(!this.fR)this.fR=b;else break;}if(this.gP&&this.fR){var c=this.fR.KA-this.gP.KA,d=this.fR.sd-this.gP.sd;this.TH=Math.sqrt(c*c+d*d),this.IU=this.gP.KA+this.fR.KA>>1,this.Fs=this.gP.sd+this.fR.sd>>1;}},move:function(i,g,h){var a=this.gP,b=this.fR;if(!(a&&b))return;var c=b.Ub-a.Ub,d=b.ZA-a.ZA,e=Math.sqrt(c*c+d*d),c=b.pageX-a.pageX,d=b.pageY-a.pageY,f=Math.sqrt(c*c+d*d);this.kb(f,e,this.TH,[this.IU,this.Fs],[a,b],g,h);},end:function(b,d,e){for(var a=0;a<b.length;a++){var c=b[a];if(this.gP&&this.gP.id==c.id)this.gP=null;else if(this.fR&&this.fR.id==c.id)this.fR=null;else break;}this.gP&&this.fR||(this.TH=null,this.OU!=null&&this.OU(b,d,e));},cancel:function(a,b,c){this.gP=null,this.fR=null,this.TH=null;}});d.bd=d.W8.extend({gP:null,fR:null,TH:-1,uv:function(a,b,c,d){return!0;},Kq:function(a,b,c,d,e){},start:function(c,f,g){for(var a=0;a<c.length;a++){var b=c[a];if(!this.gP)this.gP=b;else if(!this.fR)this.fR=b;else break;}if(this.gP&&this.fR){var d=this.fR.KA-this.gP.KA,e=this.fR.sd-this.gP.sd;this.BC=Math.atan2(e,d);}},move:function(h,f,g){var a=this.gP,b=this.fR;if(!(a&&b))return;var c=b.pageX-a.pageX,d=b.pageY-a.pageY,e=Math.atan2(d,c);this.Kq(e,this.BC,[a,b],f,g);},end:function(c,d,e){for(var a=0;a<c.length;a++){var b=c[a];if(this.gP&&this.gP.id==b.id)this.gP=null;else if(this.fR&&this.fR.id==b.id)this.fR=null;else break;}this.gP&&this.fR||(this.BC=null);},cancel:function(a,b,c){this.gP=null,this.fR=null,this.BC=null;}});d.tH=d.W8.extend({D8:null,disabled:!1,u4:null,oh:!1,x:0,y:0,width:0,height:0,uL:!0,pK:!0,Ii:0,Y$:!0,qG:!0,T4:'last',Q$:null,mv:null,init:function(){this.mP(),this.RS=this.width>>1,this.PF=this.height>>1,this.g8(),this.u4=this.u4||this.Da,this.Y$&&(this.L4(),this.$U()),this.dC();},L4:function(){var a=this;this.ongamepadconnected=function(b){a.hC(b);},this.ongamepaddisconnected=function(b){a.OB(b);},'ongamepadconnected'in window&&(window.addEventListener('gamepadconnected',this.ongamepadconnected,!1),window.addEventListener('gamepaddisconnected',this.ongamepaddisconnected,!1));},$U:function(){if(navigator.getGamepads=navigator.getGamepads||navigator.webkitGetGamepads||navigator.webkitGamepads,this.BU=!!navigator.getGamepads,!this.BU)return;var a=navigator.getGamepads();if(!a)return;this.mv!==null&&(this.sK=this.mv*2,this.Oy=this.mv*2+1,this.Q$=this.mv+10),console.log(this.Q$);},Ai:function(){var b=navigator.getGamepads(),a=this.T4==='last'?b[1]||b[0]:b[this.T4];if(!a)return;a.qG=this.qG,this.mv!==null&&this.Xk(a),this.Q$!==null&&this.tI(a);},tI:function(b){var a=b.buttons[this.Q$];console.log(a.pressed,this.Q$),!this.pressed&&a.pressed?this.down():this.pressed&&!a.pressed&&this.up();},Xk:function(a){},hC:function(a){this.$U();},OB:function(a){this.BU=!1;},g8:function(){this.Da=[this.x-this.RS,this.y-this.PF,this.x+this.RS,this.y+this.PF];},kx:function(a){a=this.scale=a||1,this.width*=a,this.height*=a,this.RS=this.width>>1,this.PF=this.height>>1,this.g8();},uv:function(a,b,c,d){return!this.disabled;},enable:function(){this.disabled=!1,this.D8=null,this.cE=!1;},disable:function(){this.disabled=!0,this.D8=null,this.cE=!1;},reset:function(){this.disabled=!1,this.D8=null,this.cE=!1;},ML:function(b,c){var a=this.u4;return a?a[0]<b&&b<a[2]&&a[1]<c&&c<a[3]:!0;},p7:function(b,c){var a=this.Da;return a[0]<b&&a[1]<c&&b<a[2]&&c<a[3];},down:function(a,b,c){this.pressed=!0,this.JW=1,this.Vj=0,this.cE=!0,this.Ii=0,this.qM();},qM:function(){},up:function(a,b,c,d){this.pressed=!1,this.JW=0,this.Vj=1,this.D8=null,this.cE=!1,this.Fh();},Fh:function(a){},start:function(c,d,e){if(this.disabled)return;for(var b=0;b<c.length;b++){var a=c[b];if(this.D8===null&&this.p7(a.pageX,a.pageY)){this.D8=a.id,this.down(a,d,e);break;}}},move:function(c,d,e){if(this.disabled)return;if(this.D8)for(var b=0;b<c.length;b++){var a=c[b];if(this.D8===a.id){var f=this.p7(a.pageX,a.pageY);!this.cE&&this.uL&&f?this.down(a,d,e):this.cE&&this.pK&&!f&&this.up(a,d,e,!0);break;}}else for(var b=0;b<c.length;b++){var a=c[b];if(this.uL&&this.p7(a.pageX,a.pageY)){this.D8=a.id,this.down(a,d,e);break;}}},end:function(c,d,e){if(this.disabled)return;for(var b=0;b<c.length;b++){var a=c[b];if(this.D8===a.id){this.up(a,d,e,!this.p7(a.pageX,a.pageY));break;}}},update:function(a,b){if(this.disabled)return;this.BU&&this.Ai(),this.cE&&(this.Ii+=a),this.JW>1?this.JW=0:this.JW==1?this.JW++:this.Vj>1?(this.Vj=0,this.Ii=0):this.Vj==1&&this.Vj++;},Xo:function(b,c,d){var a=this.u4;this.cE?b.fillStyle='rgba(0,0,0,0.5)':b.fillStyle='rgba(0,0,0,0.2)',b.fillRect(a[0],a[1],a[2]-a[0],a[3]-a[1]);}});
d.B0=d.tH.extend({rad:0,cos:1,sin:0,x:0,y:0,IZ:null,Jk:null,bx:0,ou:0,p9:0,J7:0,aZ:35,oN:0,Xm:100,ak:0,MI:0,d4:0,Qk:!1,ke:0,scale:1,Ye:0,W3:0,nw:0,Q$:null,mv:0,init:function(){this.mP(),this.kx(this.scale),this.Y$&&(this.L4(),this.$U()),this.dC();},Xk:function(e){var b=e.axes[this.sK]*this.Xm,c=e.axes[this.Oy]*this.Xm;if(!(b||c))return this.J7=0,!1;var d=this.J7=Math.sqrt(b*b+c*c);if(d<this.oN){this.bx=this.ou=this.p9=0;return;}var a=Math.atan2(c,b);a<0&&(a+=Math.PI*2),this.GN&&(a=Math.floor(a/this.GN+0.5)*this.GN),this.rad=a,this.cos=Math.cos(a),this.sin=Math.sin(a),d>this.Xm&&(d=this.Xm,b=d*this.cos,c=d*this.sin),this.bx=b,this.ou=c,this.p9=d,this.Qk?this.ke=(this.p9-this.oN)/(this.Xm-this.oN):this.ke=1;},k_:function(){this.ak&&(this.GN=Math.PI*2/this.ak),this.MI&&(this.d4=Math.max(this.Xm,this.d4));},kx:function(a){a=this.scale=a||1,this.aZ*=a,this.oN*=a,this.Xm*=a,this.MI*=a,this.d4*=a,this.k_();},start:function(c,d,e){if(this.disabled)return;for(var b=0;b<c.length;b++){var a=c[b];if(this.D8===null&&this.ML(a.pageX,a.pageY)){this.D8=a.id,this.cE=!0,this.pageX=a.pageX,this.pageY=a.pageY,this.oh?(this.x=a.KA,this.y=a.sd):this.q7();break;}}},move:function(c,d,e){if(this.disabled||this.D8===null)return;for(var a=0;a<c.length;a++){var b=c[a];if(this.D8===b.id){this.pageX=b.pageX,this.pageY=b.pageY,this.q7();break;}}},q7:function(){var b=this.dx=this.pageX-this.x,c=this.dy=this.pageY-this.y;if(!(b||c))return this.J7=0,!1;var d=this.J7=Math.sqrt(b*b+c*c);if(d<this.oN){this.bx=this.ou=this.p9=0;return;}var a=Math.atan2(c,b);return a<0&&(a+=Math.PI*2),this.GN&&(a=Math.floor(a/this.GN+0.5)*this.GN),this.rad=a,this.cos=Math.cos(a),this.sin=Math.sin(a),d>this.Xm&&(d=this.Xm,b=d*this.cos,c=d*this.sin),this.bx=b,this.ou=c,this.p9=d,!0;},end:function(b,d,e){if(this.disabled)return;for(var a=0;a<b.length;a++){var c=b[a];if(this.D8===c.id){this.reset();break;}}},reset:function(){this.D8=null,this.cE=!1,this.IZ!==null&&(this.x=this.IZ),this.Jk!==null&&(this.y=this.Jk),this.pageX=0,this.pageY=0,this.bx=0,this.ou=0,this.p9=0,this.J7=0,this.rad=0,this.cos=1,this.sin=0;},YD:function(c){if(this.disabled||!this.cE||!this.MI||this.J7<=this.d4)return;var a=this.MI*c;if(!a)return;var b=this.J7-this.d4;b<a&&(a=b),this.J7-=a,this.x+=this.cos*a,this.y+=this.sin*a;},update:function(a,b){if(this.disabled)return;if(this.BU&&this.Ai(),this.p9<this.oN){this.ke=0;return;}this.YD(a),this.Qk?this.ke=(this.p9-this.oN)/(this.Xm-this.oN):this.ke=1;},Xo:function(a,d,e){this.cE;var b=this.x,c=this.y;a.strokeStyle='rgba(0,0,0,0.5)',a.beginPath(),a.arc(b,c,this.Xm,0,Math.PI*2),a.closePath(),a.stroke(),this.oN>0&&(a.fillStyle='rgba(255,100,100,0.4)',a.beginPath(),a.arc(b,c,this.oN,0,Math.PI*2),a.closePath(),a.fill()),a.fillStyle='rgba(0,0,0,0.2)',a.beginPath(),a.arc(b+this.bx,c+this.ou,this.aZ,0,Math.PI*2),a.closePath(),a.fill();}});var T=T||{};!function(b,a){a={},a.create=function(b,c,e){typeof b=='object'&&arguments.length<3&&(e=c,c=b,b=function(b){for(var a in b)this[a]=b[a];this.Bi&&this.init();});var f=b.prototype;for(var d in c)f[d]=c[d];return a.extend(b,e),b;},a.extend=function(f,a){var b=f,c=b.prototype;a=b.QE=a||b.QE||c.QE;var d;typeof a=='function'?d=a.prototype:d=a;for(var e in d)e in c||(c[e]=d[e]);return b.DF=d,b.QE=a,c.DF=d,c.QE=a,c.constructor=b,f;},b.Class=a,typeof module!='undefined'&&(module.exports=a);}(T);var T=T||{};!function(b,a){T.Py=T.Py||{},T.pj=T.pj||{},a={PG:function(c,b){var a=new Image();return a.onload=function(c){b(a,c);},a.onerror=function(a){b(null,a);},a.src=c,a;},dX:function(a){return{img:a,sx:0,sy:0,sw:a.width,sh:a.height};},z1:function(b,e,h){if(typeof b=='string'){if(b=b.trim(),b==='auto')return h===undefined?0:h;var f,g,i;if((f=b.lastIndexOf('+'))>0){var c=b.substring(0,f),d=b.substring(f+1);return c=a.z1(c,e),d=a.z1(d,e),c+d;}else if((g=b.lastIndexOf('-'))>0){var c=b.substring(0,g),d=b.substring(g+1);return c=a.z1(c,e),d=a.z1(d,e),c-d;}else return(i=b.lastIndexOf('%'))>0?(b=parseFloat(b)/100*(e||0),b):parseFloat(b)||0;}return typeof b=='number'||b===!0||b===!1||b===null||b===undefined?b:parseFloat(b)||0;},U1:function(b,c){var a=document.createElement('canvas');return a.IJ=!1,a.width=b,a.height=c,a;},IH:function(e,d,o,f,g,h,i,j,k,l,m,n){var b=a.U1(e,d),c=b.getContext('2d');return a.iH(c,0,0,e,d,o,f,g,h,i,j,k,l,m,n),b;},iH:function(e,j,i,p,o,b,c,d,a,s,h,g,f,l,m){g=g||0,f=f||0,l=l||h.width,m=m||h.height;var q=l-a-c,r=m-b-d,k=p-a-c,n=o-b-d;n!=0&&(s===!0?e.drawImage(h,g+a,f+b,q,r,j+a,i+b,k,n):s&&(e.fillStyle=s,e.fillRect(j+a,i+b,k,n)),e.drawImage(h,g,f+b,a,r,j,i+b,a,n),e.drawImage(h,g+l-c,f+b,c,r,j+p-c,i+b,c,n)),b!=0&&(a!=0&&e.drawImage(h,g,f,a,b,j,i,a,b),k!=0&&e.drawImage(h,g+a,f,q,b,j+a,i,k,b),c!=0&&e.drawImage(h,g+l-c,f,c,b,j+p-c,i,c,b)),d!=0&&(a!=0&&e.drawImage(h,g,f+m-d,a,d,j,i+o-d,a,d),k!=0&&e.drawImage(h,g+a,f+m-d,q,d,j+a,i+o-d,k,d),c!=0&&e.drawImage(h,g+l-c,f+m-d,c,d,j+p-c,i+o-d,c,d));},vm:function(b,a,c){c=c||'red';var d=b.strokeStyle;b.strokeStyle=c,b.strokeRect(a[0],a[1],a[2]-a[0],a[3]-a[1]),b.strokeStyle=d;},Kk:function(b,a,c){c=c||'red';var d=b.fillStyle;b.fillStyle=c,b.fillRect(a[0],a[1],a[2]-a[0],a[3]-a[1]),b.fillStyle=d;},Oo:function(f){var a,c=f;if(typeof c!='string')if(c.tagName)a=c;else return null;else a=T.Py[c];if(a)return{img:a,sx:0,sy:0,sw:a.width,sh:a.height,ox:0,oy:0,w:a.width,h:a.height};var b=T.pj[c];if(b){var e=b.img,a=T.Py[e],d={sx:b.x,sy:b.y,sw:b.w,sh:b.h,ox:b.ox,oy:b.oy,w:b.sw,h:b.sh};return d.img=a,d;}return console.log('Utils.getUIImgInfo err : ',c),null;}},b.Utils=a,typeof module!='undefined'&&(module.exports=a);}(T);var T=T||{};!function(b,c,a){c=b.Class,a=c.create({addChild:function(b){b.id=b.id||b.id===0?b.id:a.qc(),this.LG[b.id]=b,this.children.push(b),b.parent=this;},bz:function(a){return this.LG[a];},qS:function(a){return this.children[a];},removeChild:function(a){var b=this.indexOf(a);return b>=0?(delete this.LG[a.id],this.children.splice(b,1),a.parent=null,a):!1;},JP:function(b){var a=this.LG[b];return a?this.removeChild(a):!1;},cz:function(b){var a=this.children[b];return a?(delete this.LG[a.id],this.children.splice(b,1),a.parent=null,a):!1;},indexOf:function(c){for(var a=0,b=this.children.length;a<b;a++)if(this.children[a]===c)return a;return-1;},Gs:function(a){return!!this.children[a.id];},Ic:function(b){a.vL(this.children,b);}}),a.fw=0,a.qc=function(){a.fw++;var b='comp_'+a.fw;return b;},a.vL=function(b,e){var d,f,g=b.length;for(var c=1;c<g;c++){d=b[c];var h=d[e];for(var a=c;a>0&&(f=b[a-1])[e]>h;a--)b[a]=f;b[a]=d;}},a.apply=function(b,d){var e=a.prototype;for(var c in e){var f=e[c];typeof f=='function'&&(d||!b[c])&&(b[c]=f);}return(d||!b.children)&&(b.children=[]),(d||!b.childrenMap)&&(b.LG={}),b;},b.VH=a,typeof module!='undefined'&&(module.exports=a);}(T);var T=T||{};!function(b,c,a){c=b.Class,a=c.create({constructor:a,oi:null,kf:function(){for(var a in this.oi)this.oi[a]=null;this.oi={};},addEventListener:function(b,c){var a=this.oi;a[b]===undefined&&(a[b]=[]),a[b].indexOf(c)===-1&&a[b].push(c);},hasEventListener:function(b,c){var a=this.oi;return a[b]!==undefined&&a[b].indexOf(c)!==-1?!0:!1;},removeEventListener:function(d,c){var a=this.oi[d];if(a!==undefined){var b=a.indexOf(c);if(b!==-1)return a.splice(b,1),c;}return null;},dispatch:function(f,d){var a=this.oi[f],c=!1;if(a){d=Array.prototype.slice.call(arguments,1);for(var b=0,e=a.length;b<e;b++)a[b].apply(this,d),c=!0;}return c;},Yu:function(a){return a?this.oi[a]:this.oi;},MW:function(b){if(!b){var a=this.oi;return this.oi={},a;}var a=this.oi[b]||null;return a&&(this.oi[b]=[]),a;}}),a.apply=function(b,f){var d=a.prototype;for(var c in d){var e=d[c];typeof e=='function'&&(f||!b[c])&&(b[c]=e);}return(f||!b._listeners)&&(b.oi={}),b;},b.Ix=a,typeof module!='undefined'&&(module.exports=a);}(T);var T=T||{};!function(b,c,a){c=b.Class,a=c.create({constructor:a,hb:-1048576,sV:function(b,f){if(this.disabled||!this.visible||this.alpha<=0)return!1;var c=Array.prototype.slice.call(arguments,1),d=c[0],e=c[1];if(!this.uR(d,e)){if(this.wN||this.mask)return b=='tap'&&this.P0.apply(this,c),this.hb;if(b=='tap'||b=='touchStart')return!1;}if(this.PA){var a=this.e9(b,arguments);if(a!==!1)return a;}var a=this.Qs(b,c);return a===!1&&(this.wN||this.mask)?this.hb:a;},Qs:function(a,c){if(this[a]){var b=this[a].apply(this,c);if(b!==!1)return this;}return!1;},e9:function(g,f){var c=this.children,e=c.length-1,d=!1;for(var b=e;b>=0;b--){var a=c[b];if(a.disabled||!a.visible||a.alpha<=0)continue;if(d=a.sV.apply(a,f),d!==!1)return a;}return!1;},touchStart:function(a,b,c){return this.v0(a,b,c);},touchEnd:function(a,b,c){return this.QT(a,b,c);},touchMove:function(a,b,c){return this.zk(a,b,c);},tap:function(a,b,c){return this.xy(a,b,c);},pan:function(a,b,c,d,e,f,g){return this.Zp(a,b,c,d,e,f,g);},swipe:function(a,b,c,d,e,f,g){return this.Eh(a,b,c,d,e,f,g);},r4:function(a,b,c){return this.P0(a,b,c);},v0:function(a,b,c){return!1;},zk:function(a,b,c){return!1;},QT:function(a,b,c){return!1;},xy:function(a,b,c){return!1;},Zp:function(a,b,c,d,e,f,g){return!1;},Eh:function(a,b,c,d,e,f,g){return!1;},P0:function(a,b,c){return!1;}}),a.apply=function(c,f){var d=a.prototype;for(var b in d){var e=d[b];typeof e=='function'&&(f||!c[b])&&(c[b]=e);}return c;},b.JX=a,typeof module!='undefined'&&(module.exports=a);}(T);var T=T||{};!function(b,c,a){c=b.Class,a=c.create({qI:0,jn:0,cf:0,Ua:0,rB:0.003,dx:0,dy:0,fD:null,init:function(a){this.fD=a||this.fD;},reset:function(){this._$=!1,this.Ip=!1;var a=this.fD;this.dx=this.dy=this.qI=this.jn=this.cf=this.Ua=0;},start:function(a,b,c){if(this.Ip||c){var d=this.fD;this.qI=a||0,this.jn=b||0,this.Ip=!1,this._$=!0;}else this._$=!1;},stop:function(){this.reset();},kr:function(b){var a=1-b*this.rB;a<0&&(a=0),a>1&&(a=1),this.qI*=a,this.jn*=a;},update:function(a){if(!this._$)return!1;var d=this.fD,e=this.qI,f=this.jn;if(this.kr(a),Math.abs(this.qI)>0.033||Math.abs(this.jn)>0.033){var b=this.qI*a,c=this.jn*a;return this.dx=b,this.dy=c,!0;}else return this.stop(),!1;}}),b.QK=a,typeof module!='undefined'&&(module.exports=a);}(T);var T=T||{};!function(c,a,b){a={},b={z8:function(b,d){var c=a[d?b+' '+d:b];return c&&(b=c),b;},jm:function(c,d,a){return c=c||12,a=='normal'&&(a=null),window.App?(d=b.z8(d,a),c+'px '+d):(a=a?a+' ':'',a+c+'px '+d);}},c.Font=b,c.Ql=a,typeof module!='undefined'&&(module.exports=b,module.exports=a);}(T);var T=T||{};!function(a,c,d,e,b){c=a.Class,d=a.Utils,e=a.Font,b=c.create({Ba:Math.PI/180,RL:180/Math.PI,sR:Math.PI/2,fu:Math.PI*2,x:0,y:0,width:null,height:null,RS:0,PF:0,alpha:1,offsetX:0,offsetY:0,_5:0,fK:'center',hc:'middle',visible:!0,parent:null,d7:!0,init:function(){this.bh(this.parent);},bh:function(a){this.parent=a,this.d7=!0;},E_:function(a,b){this.RS=a,this.PF=b;},qH:function(a,b){this.offsetX=a,this.offsetY=b;},kc:function(){},ts:function(){var a=this.parent;this.fK=='center'?this.x=a.x+(a.w-this.Dn.width>>1):this.fK=='right'?this.x=a.x+a.w-a.Dn.paddingRight-this.Dn.width:this.x=a.x+a.Dn.paddingLeft,this.hc=='middle'||this.hc=='center'?this.y=a.y+(a.h-this.Dn.height>>1):this.hc=='bottom'?this.y=a.y+a.h-a.Dn.paddingBottom-this.Dn.height:this.y=a.y+a.Dn.paddingTop;},Xo:function(a,b,c){return this.visible?void 0:!1;}}),a.ch=b,typeof module!='undefined'&&(module.exports=b);}(T);var T=T||{};!function(a,d,f,e,b,c){d=a.Class,f=a.Utils,e=a.ch,b=a.Font,c=d.create({text:null,color:'black',textAlign:'left',verticalAlign:'middle',cB:null,strokeWidth:1,fontStyle:null,fontWeight:null,fontSize:14,Bx:'Arial',lineHeight:null,SO:null,TY:1,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,GI:null,measure:null,init:function(){this.Dn={width:this.width,height:this.height},this.mN(this),this.bh(this.parent);},mN:function(a){this.fK=this.textAlign,this.hc=this.verticalAlign,this.U8(a.text),this.Bx=b.z8(a.Bx||this.Bx),this.fontSize=a.fontSize||this.fontSize,this.color=a.color||this.color,this.fontWeight=a.fontWeight,this.GI=b.jm(this.fontSize,this.Bx,this.fontWeight);},U8:function(a){this.text=a===null||a===undefined?'':String(a),Array.isArray(this.text)?this.SO=this.text:this.text&&this.text.indexOf('\n')!=-1?this.SO=this.text.split('\n'):this.SO=[this.text],this.TY=this.SO.length,this.d7=!0;},bq:function(b){b.font=this.GI;var a=b.measureText(this.SO[0]);a.height=this.lineHeight=this.lineHeight||this.fontSize*3/2,this.measure=a,this.width=a.width,this.height=a.height*this.TY,this.Dn.width=this.width,this.Dn.height=this.height,this.ts(),this.d7=!1;},ts:function(){var a=this.parent;this.fK=='center'?this.x=a.x+(a.w>>1):this.fK=='right'?this.x=a.x+a.w-a.Dn.paddingRight:this.x=a.x+a.Dn.paddingLeft,this.hc=='middle'||this.hc=='center'?this.y=a.y+(a.h-this.height>>1):this.hc=='bottom'?this.y=a.y+a.h-a.Dn.paddingBottom-this.height:this.y=a.y+a.Dn.paddingTop;},Xo:function(a,e,f){if(!this.visible)return!1;this.d7&&this.bq(a);var b=this.x-this.RS+this.offsetX,c=this.y-this.PF+this.offsetY+this.fontSize;a.font=this.GI;var d=a.textAlign;a.textAlign=this.textAlign,this.shadowColor&&(a.fillStyle=this.shadowColor,this.zC(a,b+this.shadowOffsetX,c+this.shadowOffsetY,!0)),this.color&&(a.fillStyle=this.color),this.cB&&(a.lineCap='round',a.lineWidth=this.strokeWidth,a.strokeStyle=this.cB),this.zC(a,b,c),a.textAlign=d;},zC:function(b,c,a,d){if(this.TY>1){var e=this,f=this.lineHeight;this.SO.forEach(function(g){e.uw(b,g,c,a,d),a+=f;});}else this.uw(b,this.SO[0],c,a,d);},uw:function(a,b,c,d,e){this.cB&&!e&&a.strokeText(b,c,d),a.fillText(b,c,d);}},e),a.DS=c,typeof module!='undefined'&&(module.exports=c);}(T);var T=T||{};!function(b,d,a,e,c){d=b.Class,a=b.Utils,e=b.ch,c=d.create({Ba:Math.PI/180,RL:180/Math.PI,sR:Math.PI/2,fu:Math.PI*2,src:null,img:null,sx:null,sy:null,sw:null,sh:null,ox:null,oy:null,w:null,h:null,scale:1,iW:1,mD:1,ud:!1,Op:!1,b3:0,offsetX:0,offsetY:0,Zc:0,xm:0,width:'auto',height:'auto',init:function(){this.Dn={},this.src?this.eG(this.src):this.tr(this),this.bh(this.parent);},eG:function(e,c){this.src=e;var d=this;this.sx=0,this.sy=0,this.sw=0,this.sh=0,this.ox=0,this.oy=0,this.w=0,this.h=0;var b=new Image();return b.onload=function(f){var e=a.Oo(b);d.tr(e),c&&c(b);},b.onerror=function(a){d.img=null,c&&c(null);},b.src=e,b;},tr:function(a){this.info={},this.img=this.info.img=a.img;var d=this.info.sx=a.sx,e=this.info.sy=a.sy,b=this.info.sw=a.sw,c=this.info.sh=a.sh,f=this.info.w=a.w,g=this.info.h=a.h,h=this.info.ox=a.ox,i=this.info.oy=a.oy;(d===null||d===undefined)&&(d=0),(e===null||e===undefined)&&(e=0),(h===null||h===undefined)&&(h=0),(i===null||i===undefined)&&(i=0),this.img?((b===null||b===undefined)&&(b=this.img.width),(c===null||c===undefined)&&(c=this.img.height)):b=c=0,(f===null||f===undefined)&&(f=b),(g===null||g===undefined)&&(g=c),this.sx=d,this.sy=e,this.sw=b,this.sh=c,this.w=f,this.h=g,this.ox=h,this.oy=i;},kc:function(){this.parent?this.Dn.width=a.z1(this.width,this.parent.Dn.width,this.w)||0:this.Dn.width=a.z1(this.width,this.w,this.w)||0,this.Dn.width=this.Dn.width*this.iW,this.Dn.sw=this.sw*this.Dn.width/this.w,this.Dn.ox=this.ox*this.Dn.width/this.w,this.parent?this.Dn.height=a.z1(this.height,this.parent.Dn.height,this.h)||0:this.Dn.height=a.z1(this.height,this.h,this.h)||0,this.Dn.height=this.Dn.height*this.mD,this.Dn.sh=this.sh*this.Dn.height/this.h,this.Dn.oy=this.oy*this.Dn.height/this.h;},kx:function(a){this.scale=a,this.iW=a,this.mD=a;},Me:function(e,f,g){if(!(this.visible&&this.img))return!1;var a=this.x-this.RS+this.offsetX+this.ox,b=this.y-this.PF+this.offsetY+this.oy,c=this.Dn.sw+this.Zc,d=this.Dn.sh+this.xm;e.drawImage(this.img,this.sx,this.sy,this.sw,this.sh,a,b,c,d);},Xo:function(a,j,i){if(!(this.visible&&this.img))return!1;var e=-this.RS,f=-this.PF,g=this.Dn.sw,h=this.Dn.sh,d=this.ud?-1:1,c=this.Op?-1:1,b=this.b3%this.fu;d!=1||c!=1||b!=0?(a.save(),a.translate(this.x+this.offsetX+this.Dn.ox,this.y+this.offsetY+this.Dn.oy),b&&a.rotate(b),a.scale(d,c)):(e+=this.x+this.offsetX+this.Dn.ox,f+=this.y+this.offsetY+this.Dn.oy),a.drawImage(this.img,this.sx,this.sy,this.sw,this.sh,e,f,g+this.Zc,h+this.xm),(d!=1||c!=1||b!=0)&&a.restore();}},e),b.mk=c,typeof module!='undefined'&&(module.exports=c);}(T);var T=T||{};!function(a,c,d,b){c=a.Class,d=a.Utils,b=c.create({ln:function(d){var c=d.children;for(var b=0,e=c.length;b<e;b++){var a=c[b];a.TW=='parent'?this.hA(a,a.parent):a.TW=='root'?this.hA(a,a.root):this.hA(a,d),a.HU(!0);}},hA:function(a,b){a.KG(b);},mu:function(a,c,d,e){var b=!1;a.width=='auto'&&!a.w&&(a.Dn.width=c,a.w=c,b=!0),a.height=='auto'&&!a.h&&(a.Dn.height=d,a.h=d,b=!0),b&&(a.EZ(),a.jP||a._W(a.parent),a.y_||a.wh(a.parent),a.hs(),a.g8(),a.d7=!0,e&&a.HU());}}),a.FL=b,typeof module!='undefined'&&(module.exports=b);}(T);var T=T||{};!function(a,c,d,e,b){c=a.Class,d=a.Utils,e=a.FL,b=c.create({align:'top',size:null,kB:!1,ln:function(b){var k=b.children,i=k.length,m=0,f=b.Dn.paddingTop,l=-Infinity,j=0,g=this.kB?b.Dn.innerHeight/ i:this.size,h;for(var c=0;c<i;c++){var a=k[c];a.y_=!1,a.TW=='parent'?this.hA(a,a.parent):a.TW=='root'?this.hA(a,a.root):(a.c$(b),a.HX(b),a.qo(),a.i$(),a.HC||(h=f,g?(h+=a.Dn.marginTop,f+=g):(h+=Math.max(l,a.Dn.marginTop),f=h+a.Dn.height)),a.Dn.top=d.z1(a.top,a.Dn.kE),a.Dn.Nd=h+a.Dn.top,a.y=a.Dn.Nd+b.y,a.y_=!0,a._W(b),a.hs(),a.g8(),l=a.Dn.marginBottom,j=Math.max(j,a.Dn.marginLeft+a.Dn.width+a.Dn.marginRight),m++),a.HU(!0);}var n=g?b.Dn.height:f+l;if(this.mu(b,j,n,!0),!g&&this.align=='bottom'){var e=b.Dn.height-n;if(e>0)for(var c=0;c<i;c++){var a=k[c];a.TW!=='parent'&&a.TW!='root'&&(a.Dn.top+=e,a.Dn.Nd+=e,a.y+=e,a.g8(),a.HU(!0));}}return m;}},e),a.ZF=b,typeof module!='undefined'&&(module.exports=b);}(T);var T=T||{};!function(a,c,d,e,b){c=a.Class,d=a.Utils,e=a.FL,b=c.create({align:'left',size:null,kB:!1,ln:function(b){var k=b.children,i=k.length,m=0,f=b.Dn.paddingLeft,l=-Infinity,j=0,g=this.size||(this.kB?b.Dn.innerWidth/ i:this.size),h;for(var c=0;c<i;c++){var a=k[c];a.jP=!1,a.TW=='parent'?this.hA(a,a.parent):a.TW=='root'?this.hA(a,a.root):(a.c$(b),a.HX(b),a.qo(),a.i$(),a.HC||(h=f,g?(h+=a.Dn.marginLeft,f+=g):(h+=Math.max(l,a.Dn.marginLeft),f=h+a.Dn.width)),a.Dn.left=d.z1(a.left,a.Dn.Co),a.Dn.Fl=h+a.Dn.left,a.x=a.Dn.Fl+b.x,a.jP=!0,a.wh(b),a.hs(),a.g8(),l=a.Dn.marginRight,j=Math.max(j,a.Dn.marginTop+a.Dn.height+a.Dn.marginBottom),m++),a.HU(!0);}var n=g?b.Dn.width:f+l;if(this.mu(b,n,j,!0),!g&&this.align=='right'){var e=b.Dn.width-n;if(e>0)for(var c=0;c<i;c++){var a=k[c];a.TW!=='parent'&&a.TW!='root'&&(a.Dn.left+=e,a.Dn.Fl+=e,a.x+=e,a.g8(),a.HU(!0));}}return m;}},e),a.yB=b,typeof module!='undefined'&&(module.exports=b);}(T);
var T=T||{};!function(b,d,a,e,c){d=b.Class,a=b.Utils,e=b.FL,c=d.create({TR:null,WI:null,HI:null,M4:null,cols:1,rows:1,ln:function(b){var e=b.children,c=0;this.UD(b);for(var d=0,f=e.length;d<f;d++){var a=e[d];a.TW=='parent'?this.hA(a,a.parent):a.TW=='root'?this.hA(a,a.root):(this.Z3(a,b,c),c++),a.HU(!0);}return this.mu(b,b.Dn.width,b.Dn.height),c;},UD:function(f){var b=this.Dn={},c=f.Dn;f.width=='auto'&&(c.width=(this.TR+this.fM)*this.cols+this.fM),f.height=='auto'&&(c.height=(this.WI+this.fM)*this.rows+this.fM),b.fM=a.z1(this.fM,c.width)||0,b.HI=a.z1(this.HI,c.width),b.M4=a.z1(this.M4,c.height),b.HI===null&&(b.HI=b.fM),b.M4===null&&(b.M4=b.fM);var d=c.width-c.paddingLeft-c.paddingRight,e=c.height-c.paddingTop-c.paddingBottom;d-=b.HI,e-=b.M4,this.TR?b.TR=a.z1(this.TR,d)||d:b.TR=d/(this.cols||1),this.cols||(this.cols=d/b.TR),this.WI?b.WI=a.z1(this.WI,e)||e:b.WI=e/(this.rows||1),this.rows||(this.rows=e/b.WI),this.R0={x:0,y:0,Dn:{width:0,height:0,paddingLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0}};},Z3:function(a,g,j){var e=a.col=a.col||0,d=a.row=a.row||0;a.colspan=a.colspan||1,a.rowspan=a.rowspan||1,a.width=a.width===null?'100%':a.width,a.height=a.height===null?'100%':a.height;var f=a.Dn,b=this.Dn.TR,c=this.Dn.WI,h=e*b,i=d*c;this.R0.x=g.x,this.R0.y=g.y,this.R0.Dn.width=a.colspan*(b+this.Dn.HI),this.R0.Dn.height=a.rowspan*(c+this.Dn.M4),a.c$(this.R0),this.R0.Dn.paddingLeft=this.Dn.HI+f.marginLeft,this.R0.Dn.paddingTop=this.Dn.M4+f.marginTop,a.HX(this.R0),a.Dn.W7+=e*(b+this.Dn.HI),a.Dn.qD+=d*(c+this.Dn.M4),a.qo(),a.i$(),a._W(this.R0),a.wh(this.R0),a.hs(),a.g8();}},e),b.pC=c,typeof module!='undefined'&&(module.exports=c);}(T);var T=T||{};!function(a,c,e,d,f,g,h,b){c=a.Class,e=a.Utils,d=a.FL,f=a.ZF,g=a.yB,h=a.pC,b=c.create({init:function(){}}),b.xt=new d(),a.JS=b,typeof module!='undefined'&&(module.exports=b);}(T);var T=T||{};!function(c,f,a,e,g,h,i,d,b){f=c.Class,a=c.Utils,e=c.VH,g=c.Ix,h=c.JX,i=c.JS,d=function(){},b=f.create({id:null,left:null,top:null,right:null,bottom:null,width:null,height:null,visible:!0,zIndex:0,index:0,alpha:1,scale:1,offsetX:0,offsetY:0,RS:'50%',PF:'50%',Xt:0,eK:0,HY:0,H0:0,dO:null,root:null,parent:null,wN:!1,tR:'rgba(0,0,0,0.35)',Xp:null,Mv:!1,TB:!1,padding:null,paddingTop:null,paddingRight:null,paddingBottom:null,paddingLeft:null,margin:null,marginTop:null,marginRight:null,marginBottom:null,marginLeft:null,TW:!1,backgroundColor:null,borderColor:'rgba(30,50,80,1)',borderWidth:0,XF:null,x:0,y:0,w:0,h:0,Da:null,Dn:null,PA:!0,children:null,LG:null,d7:!0,s7:!1,fg:!1,init:function(){this.Wa(),this.hv=!0,this.id=this.id||'cmp_'+b.WY++,this.root=this.root||this.parent&&this.parent.root,this.root&&(this.root.all[this.id]&&console.log('Duplicate id : '+this.id),this.root.all[this.id]=this),this.Da=[],this.Dn={Fl:0,Nd:0},g.apply(this),h.apply(this),this.PA&&(e.apply(this),this.S0(this.dO),this.Re=0),this.Wy(this.margin||0),this.wo(this.padding||0),this.bh(this.parent,!0),this.Z$();},mP:null,Wa:function(){},Z$:function(){},Kn:null,S0:function(a){var b,c;if(typeof a=='string')b=a;else if(a&&a.constructor==Object){var b=a.name;c=a;}if(b)switch(b){case'vbox':a=new T.ZF(c);break;case'hbox':a=new T.yB(c);break;default:a=new T.FL(c);break;}a||(a=i.xt),this.dO=a;},bh:function(a,b){a&&(a!=this.parent||b)&&this.parent.addChild(this);},addChild:function(a){this.PA&&(e.prototype.addChild.call(this,a),a.root=this.root,a.index=this.Re++,this.width=='auto'&&(this.Dn.w=0),this.height=='auto'&&(this.Dn.h=0),this.d7=!0,this.w4());},removeChild:function(b){if(this.PA){var a=e.prototype.removeChild.call(this,b);a&&(this.width=='auto'&&(this.Dn.w=0),this.height=='auto'&&(this.Dn.h=0),this.d7=!0);}},w4:function(){this.children.sort(function(a,b){return a.zIndex-b.zIndex||a.index-b.index;});},Fi:function(b){this.zIndex=b;var a=this.parent||this.root;a.w4();},Wy:function(a){this.margin=a,this.marginLeft=this.marginLeft===null?this.margin:this.marginLeft,this.marginTop=this.marginTop===null?this.margin:this.marginTop,this.marginRight=this.marginRight===null?this.margin:this.marginRight,this.marginBottom=this.marginBottom===null?this.margin:this.marginBottom;},wo:function(a){this.padding=a,this.paddingLeft=this.paddingLeft===null?this.padding:this.paddingLeft,this.paddingTop=this.paddingTop===null?this.padding:this.paddingTop,this.paddingRight=this.paddingRight===null?this.padding:this.paddingRight,this.paddingBottom=this.paddingBottom===null?this.padding:this.paddingBottom;},O_:function(b,c){if(!b)return this.d7=!1,!1;if(b=='root'){var d=this.root||this.parent;d&&(d.d7=!0,c&&d.HU());}else if(b=='parent'){var e=this.parent||this.root;e&&(e.d7=!0,c&&e.HU());}else if(b===!0){var f=!1,a=this,g;while(a){if(g=a,a.d7=!0,f||a.TW=='root')break;a.TW=='parent'&&(f=!0),a=a.parent;}c&&g.HU();}else this.d7=!0,c&&this.HU();return!0;},setPosition:function(a,b){this.left!=a&&(this.left=a,this._W()),this.top!=b&&(this.top=b,this.wh()),this.O_('parent');},qL:function(a,b,c){(c||this.width!=a)&&(this.width=a,this.qo()),(c||this.height!=b)&&(this.height=b,this.i$());},E_:function(a,b){this.RS=a,this.PF=b;},EZ:function(){this.Dn.RS=a.z1(this.RS,this.w)||0,this.Dn.PF=a.z1(this.PF,this.h)||0;},AL:function(){var a=this.parent||this.root;this.x=this.Dn.Fl+a.x,this.y=this.Dn.Nd+a.y,this.g8(),this.PA&&this.children.forEach(function(a){a.AL();});},g8:function(){this.Da[0]=this.x-this.Xt,this.Da[1]=this.y-this.HY,this.Da[2]=this.x+this.w+this.eK,this.Da[3]=this.y+this.h+this.H0;},Lq:function(a){this.Dn.Fl=a,this.AL();},z7:function(a){this.Dn.Nd=a,this.AL();},moveTo:function(a,b){this.Dn.Fl=a,this.Dn.Nd=b,this.AL();},moveBy:function(a,b){this.Dn.Fl+=a,this.Dn.Nd+=b,this.AL();},show:function(){this.visible=!0,this.G7();},G7:d,hide:function(){this.visible=!1,this.jW();},jW:d,$F:function(a){this.left!==a&&(this.left=a,this.O_('parent'));},dJ:function(a){this.right!==a&&(this.right=a,this.O_('parent'));},XP:function(a){this.top!==a&&(this.top=a,this.O_('parent'));},LU:function(a){this.bottom!==a&&(this.bottom=a,this.O_('parent'));},KG:function(a){this.c$(a),this.HX(a),this.qo(),this.i$(),this._W(a),this.wh(a),this.hs(),this.g8();},HU:function(a){this.PA&&(this.d7||a)&&(this.d7=!1,this.dO.ln(this));},pU:function(){return this.PA?this.children.length:0;},uR:function(b,c){var a=this.Da;return a[0]<b&&b<a[2]&&a[1]<c&&c<a[3];},sM:function(b){var a=this.Da;return b[0]<a[2]&&b[2]>a[0]&&b[1]<a[3]&&b[3]>a[1];},FT:function(a,b){},zX:function(a,b){this.children.forEach(function(c){c.update(a,b);});},update:function(a,b){this.HU(),this.FT(a,b),this.PA&&this.zX(a,b),this.M(a,b);},M:d,Ry:function(){if(!this.cv){var a=document.createElement('canvas');a.width=this.w+4,a.height=this.h+4,this.cv=a;}var b=this.cv.getContext('2d'),c=this.s7,d=this.visible;this.s7=!1,this.visible=!0,b.translate(-this.x+2,-this.y+2),this.Xo(b,0,Date.now()),b.translate(this.x-2,this.y-2),this.s7=c,this.visible=d,this.fg=!0;},iH:function(b){var a=this.XF;this.m2?(this.borderImage||(this.borderImage=T.Utils.IH(this.w,this.h,a.T,a.R,a.B,a.L,a.fill,a.img,a.sx,a.sy,a.sw,a.sh)),b.drawImage(this.borderImage,this.x,this.y)):T.Utils.iH(b,this.x,this.y,this.w,this.h,a.T,a.R,a.B,a.L,a.fill,a.img,a.sx,a.sy,a.sw,a.sh);},gb:function(a,b,c){this.backgroundColor&&(a.fillStyle=this.backgroundColor,a.fillRect(this.x,this.y,this.w,this.h)),this.XF&&this.iH(a),this.borderWidth&&this.borderColor&&(a.lineWidth=this.borderWidth,a.strokeStyle=this.borderColor,a.strokeRect(this.x,this.y,this.w,this.h));},Ui:function(a,b,c){this.children.forEach(function(d){d.Xo(a,b,c);});},Xo:function(a,c,d){if(!this.visible||this.alpha<=0)return;var f=a.globalAlpha;if(this.alpha!=1&&(a.globalAlpha=this.alpha),this.s7){this.fg||this.Ry(),a.drawImage(this.cv,this.x-2,this.y-2),a.globalAlpha=f;return;}if(this.Bq&&this.Bq(a,c,d),this.wN&&this.tR){a.fillStyle=this.tR;var b=this.root,g=b.x,h=b.y,i=b.w,j=b.h,e=b.Pr;e&&(g+=e.x||0,h+=e.y||0,i+=e.w||0,j+=e.h||0),a.fillRect(g,h,i,j);}this.sr(a,c,d),this.gb(a,c,d),this.PA&&this.Ui(a,c,d),this.kv(a,c,d),this.RT&&this.RT(a,c,d),a.globalAlpha=f;},Bq:null,RT:null,sr:function(a,d,e){if(this.scale!=1){a.save();var b=this.x+this.Dn.RS,c=this.y+this.Dn.PF;a.translate(b,c),a.scale(this.scale,this.scale),a.translate(-b+this.offsetX,-c+this.offsetY);}else(this.offsetX||this.offsetY)&&(a.save(),a.translate(this.offsetX,this.offsetY));},kv:function(a,b,c){(this.scale!=1||this.offsetX||this.offsetY)&&a.restore();},c$:function(d){d=d||this.parent;var b=d.Dn,c=this.Dn;this.marginLeft=this.marginLeft===null?this.margin:this.marginLeft,this.marginTop=this.marginTop===null?this.margin:this.marginTop,this.marginRight=this.marginRight===null?this.margin:this.marginRight,this.marginBottom=this.marginBottom===null?this.margin:this.marginBottom,c.marginLeft=a.z1(this.marginLeft,b.width)||0,c.marginRight=a.z1(this.marginRight,b.width)||0,c.marginTop=a.z1(this.marginTop,b.height)||0,c.marginBottom=a.z1(this.marginBottom,b.height)||0;},HX:function(c){c=c||this.parent;var b=c.Dn,a=this.Dn;a.W7=Math.max(b.paddingLeft,a.marginLeft)||0,a.qD=Math.max(b.paddingTop,a.marginTop)||0,a.pZ=Math.max(b.paddingRight,a.marginRight)||0,a.Qe=Math.max(b.paddingBottom,a.marginBottom)||0,a.Co=b.width-a.W7-a.pZ,a.kE=b.height-a.qD-a.Qe;},qo:function(){var b=this.Dn,c=b.Co;b.width=a.z1(this.width,c),b.RS=a.z1(this.RS,b.width)||0,b.innerWidth=b.width-b.paddingLeft-b.paddingRight,this.w=b.width;},i$:function(){var b=this.Dn,c=b.kE;b.height=a.z1(this.height,c),b.PF=a.z1(this.PF,b.height)||0,b.innerHeight=b.height-b.paddingTop-b.paddingBottom,this.h=b.height;},hs:function(){var b=this.Dn;this.paddingLeft=this.paddingLeft===null?this.padding:this.paddingLeft,this.paddingTop=this.paddingTop===null?this.padding:this.paddingTop,this.paddingRight=this.paddingRight===null?this.padding:this.paddingRight,this.paddingBottom=this.paddingBottom===null?this.padding:this.paddingBottom,b.paddingLeft=a.z1(this.paddingLeft,b.width)||0,b.paddingRight=a.z1(this.paddingRight,b.width)||0,b.paddingTop=a.z1(this.paddingTop,b.height)||0,b.paddingBottom=a.z1(this.paddingBottom,b.height)||0;},_W:function(e){e=e||this.parent;var b=this.Dn,c=b.Co;b.left=a.z1(this.left,c),b.right=a.z1(this.right,c);var d=0;this.Mv===!0?d=(c-b.width)/2+(b.left||0):b.left===null&&b.right!==null?d=c-b.width-b.right:d=b.left||0,b.Fl=d+b.W7,this.x=b.Fl+e.x;},wh:function(e){e=e||this.parent;var b=this.Dn,c=b.kE;b.top=a.z1(this.top,c),b.bottom=a.z1(this.bottom,c);var d=0;this.TB===!0?d=(c-b.height)/2+(b.top||0):b.top===null&&b.bottom!==null?d=c-b.height-b.bottom:d=b.top||0,b.Nd=d+b.qD,this.y=b.Nd+e.y;},SA:function(){this.root&&(delete this.root.all[this.id],this.root=null),this.parent=null,this.dO=null,this.PA&&(this.children.forEach(function(a){a.bh(a.root);}),this.children=null,this.LG=null);}}),b.WY=0,b.all={},b.R2=function(a){return a?(b.all[a.id]=a,a.id):!1;},b.KM=function(a){return b.all[a];},c.A$=b,c.Ax=d;}(T);var T=T||{};!function(a,d,f,g,e,b,c){d=a.Class,f=a.Utils,g=a.VH,e=a.A$,b=a.Ax,c=d.create({id:'cmp_root',width:null,height:null,FT:b,gb:b,Qs:b,init:function(){this.all={},this.mP&&this.mP(),this.left=0,this.top=0,this.TW='root',c.DF.init.call(this),this.x=0,this.y=0,this.Dn={paddingLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0},this.Da=[0,0],this.qL(this.width,this.height,!0),this.root=this,this.Kn&&this.Kn();},qL:function(a,b,c){(c||this.width!=a)&&(this.ux=a,this.width=a,this.w=a,this.Dn.width=a,this.Da[2]=a,this.d7=!0),(c||this.height!=b)&&(this.nc=b,this.height=b,this.h=b,this.Dn.height=b,this.Da[3]=b,this.d7=!0);},sV:function(b,c){if(this.disabled||!this.visible||this.alpha<=0)return!1;var a=this.e9(b,arguments);return a!==!1?a:void 0;}},e),a.iL=c;}(T);var T=T||{};!function(a,c,e,d,b){c=a.Class,e=a.Utils,d=a.A$,b=c.create({PA:!1,disabled:!1,HU:function(a){this.d7=!1;},Xo:function(a,b,c){}},d),b.create=function(b,c,d){var a=new T._B({parent:d,width:b,height:c});return a.init(),a;},a._B=b,typeof module!='undefined'&&(module.exports=b);}(T);var T=T||{};!function(a,e,b,f,c,g,d){e=a.Class,b=a.Utils,f=a.A$,c=a.mk,g=a.DS,d=e.create({PA:!1,disabled:!1,width:null,height:null,iW:null,mD:null,init:function(){d.DF.init.call(this),this.bE=new c({parent:this,width:'100%',height:'100%'}),this.bE.init(),this.src?this.eG(this.src):this.vH||(this.vH={img:this.img,sx:this.sx,sy:this.sy,sw:this.sw,sh:this.sh,width:this.width,height:this.height}),this.D$&&!this.vv&&(this.vv={img:this.D$}),this.vv&&this.NQ(this.vv),this.img&&!this.vH&&(this.vH={img:this.img}),this.vH&&this.tr(this.vH),this.iW!==null&&(this.width=this.bE.w*this.iW),this.mD!==null&&(this.height=this.bE.h*this.mD);},eG:function(a){this.src=a;var b=this;this.bE.eG(a,function(a){a&&b.O_(!0);});},tr:function(a){this.bE?this.bE.tr(a):(this.bE=new c(a),this.bE.bh(this),this.bE.init()),this.d7=!0;},NQ:function(a){this.Yz?this.Yz.tr(a):(this.Yz=new c(a),this.Yz.bh(this),this.Yz.init()),this.d7=!0;},qo:function(){var a=this.Dn;this.width===null||this.width==='auto'?a.width=this.bE.w:a.width=b.z1(this.width,a.Co),a.RS=b.z1(this.RS,a.width)||0,this.w=a.width,this.bE.Dn.width=this.w;},i$:function(){var a=this.Dn;this.height===null||this.height==='auto'?a.height=this.bE.h:a.height=b.z1(this.height,a.kE),a.PF=b.z1(this.PF,a.height)||0,this.h=a.height,this.bE.Dn.height=this.h;},HU:function(a){(this.d7||a)&&(this.bE.kc(),this.bE.x=this.x,this.bE.y=this.y,this.d7=!1);},AL:function(){this.x=this.Dn.Fl+this.parent.x,this.y=this.Dn.Nd+this.parent.y,this.g8(),this.bE.x=this.x,this.bE.y=this.y;},gb:function(a,b,c){this.backgroundColor&&(a.fillStyle=this.backgroundColor,a.fillRect(this.x,this.y,this.w,this.h)),this.Yz&&this.Yz.Xo(a),this.bE&&this.bE.Xo(a),this.borderColor&&this.borderWidth&&(a.lineWidth=this.borderWidth,a.strokeStyle=this.borderColor,a.strokeRect(this.x,this.y,this.w,this.h));}},f),a.ol=d,typeof module!='undefined'&&(module.exports=d);}(T);var T=T||{};!function(a,e,b,f,c,g,d){e=a.Class,b=a.Utils,f=a.A$,c=a.mk,g=a.DS,d=e.create({PA:!1,disabled:!1,width:null,height:null,Vz:!1,backgroundColor:null,borderWidth:0,ij:!1,c2:0.0001,init:function(){this.mP&&this.mP(),d.DF.init.call(this),this.D$&&!this.vv&&(this.vv={img:this.D$}),this.vv&&this.NQ(this.vv),this.xh&&this.Ts(this.xh),this.MZ&&this.vI(this.MZ),this.EF(),this.mN(this.TK),this.Kn&&this.Kn(),this.d7=!0;},rh:function(a,b){this[a]?this[a].tr(b):(this[a]=new c(b),this[a].bh(this),this[a].init()),this.d7=!0;},NQ:function(a){this.Yz?this.Yz.tr(a):(this.Yz=new c(a),this.Yz.bh(this),this.Yz.init()),this.d7=!0;},Ts:function(a){this.WM?this.WM.tr(a):(this.WM=new c(a),this.WM.bh(this),this.WM.init()),this.d7=!0;},vI:function(a){this.Gi?this.Gi.tr(a):(this.Gi=new c(a),this.Gi.bh(this),this.Gi.init()),this.d7=!0;},mN:function(a){this.ck?this.ck.mN(a):(this.ck=new g(a),this.ck.bh(this),this.ck.init()),this.d7=!0;},EF:function(){var a=this;a.TK=a.TK||{};var b=['text','color','textAlign','verticalAlign','strokeWidth','fontSize','fontWeight','fontStyle','fontName','lineHeight'];b.forEach(function(b){!(b in a.TK)&&b in a&&(a.TK[b]=a[b]);});},U8:function(a){this.ck.U8(a);},qo:function(){var a=this.Dn,c=this.width===null||this.width==='auto';c&&(this.ij||!this.Yz)?(a.width=a.width||0,this.RX=!0):c&&this.Yz?a.width=this.Yz.w:a.width=b.z1(this.width,a.Co),a.RS=b.z1(this.RS,a.width)||0,a.width=a.width||this.c2,this.w=a.width,this.Vz&&(this.Yz.Dn.width=this.w);},i$:function(){var a=this.Dn,c=this.height===null||this.height==='auto';c&&(this.ij||!this.Yz)?(a.height=a.height||0,this.RX=!0):c&&this.Yz?a.height=this.Yz.h:a.height=b.z1(this.height,a.kE),a.PF=b.z1(this.PF,a.height)||0,a.height=a.height||this.c2,this.h=a.height,this.Vz&&(this.Yz.Dn.height=this.h);},y4:function(){var a=this.ck.measure;if(!a)return;var b=!1;(this.width===null||this.width==='auto')&&(this.Dn.width=a.width,this.w=a.width,b=!0),(this.height===null||this.height==='auto')&&(this.Dn.height=a.height,this.h=a.height,b=!0),b&&this.O_('parent',!0);},HU:function(a){if(!(this.d7||a))return;this.ck&&this.ck.ts(),this.Yz&&(this.Yz.kc(),this.Yz.ts()),this.WM&&(this.WM.kc(),this.WM.ts()),this.Gi&&(this.Gi.kc(),this.Gi.ts()),this.EZ(),this.d7=!1;},AL:function(){this.x=this.Dn.Fl+this.parent.x,this.y=this.Dn.Nd+this.parent.y,this.g8(),this.Yz&&this.Yz.ts(),this.WM&&this.WM.ts(),this.ck&&this.ck.ts(),this.Gi&&this.Gi.ts();},gb:function(a,b,c){this.RX&&this.ck&&this.ck.d7&&(this.ck.bq(a),this.y4()),this.backgroundColor&&(a.fillStyle=this.backgroundColor,a.fillRect(this.x,this.y,this.w,this.h)),this.XF&&this.iH(a),this.Yz&&this.Yz.Xo(a),this.WM&&this.WM.Xo(a),this.ck&&this.ck.Xo(a),this.Gi&&this.Gi.Xo(a),this.borderColor&&this.borderWidth&&(a.lineWidth=this.borderWidth,a.strokeStyle=this.borderColor,a.strokeRect(this.x,this.y,this.w,this.h));}},f),a.lQ=d,typeof module!='undefined'&&(module.exports=d);}(T);var T=T||{};!function(a,c,e,d,b){c=a.Class,e=a.Utils,d=a.lQ,b=c.create({QE:d,borderWidth:0,ij:!1,textAlign:'center',doUp:function(){this.D8=null,this.pressed=!1,this.Fh();},$g:function(){this.pressed=!0,this.qM();},qM:function(){this.scale=0.92;},Fh:function(){this.scale=1;},touchStart:function(b,c,a){this.D8=a,this.$g();},pan:function(a,b,d,e,f,g,c){return this.D8===c&&!this.uR(a,b)&&(this.doUp(),this.ys(a,b,d,e,f,g,c)),!1;},ys:function(a,b,c,d,e,f,g){},touchEnd:function(a,b,c){return this.D8===c&&(this.doUp(),this.uR(a,b))?this.QT(a,b,c):!1;},swipe:function(b,c,a){return this.D8===a&&this.doUp(),!1;},tap:function(a,b,c){return this.xy(a,b,c);},Bq:function(a,b,c){this.disabled&&(this.wU=a.globalAlpha,a.globalAlpha=0.6);},RT:function(a,b,c){this.disabled&&(a.globalAlpha=this.wU);}}),a.U=b,typeof module!='undefined'&&(module.exports=b);}(T);var T=T||{};!function(a,c,e,d,b){c=a.Class,e=a.Utils,d=a.A$,b=c.create({QE:d,init:function(){this.mP&&this.mP(),b.DF.init.call(this),this.Kn&&this.Kn();}}),a.zV=b,typeof module!='undefined'&&(module.exports=b);}(T);var T=T||{};!function(a,c,g,d,e,f,b){c=a.Class,g=a.Utils,d=a.A$,e=a.lQ,f=a.U,b=c.create({QE:d,init:function(){this.mP&&this.mP(),b.DF.init.call(this),this.Qw&&('left'in this.Qw||(this.Qw.left=8),'top'in this.Qw||(this.Qw.top=8),this.Qw.fontSize=this.Qw.fontSize||20,this.wf=new e(this.Qw),this.wf.parent=this,this.wf.init()),this.QI&&(this.Wt=new f(this.QI),this.Wt.parent=this,this.Wt.init()),this.Kn&&this.Kn();}}),a.vP=b,typeof module!='undefined'&&(module.exports=b);}(T);var T=T||{};!function(a,e,g,f,c,d,h,b){e=a.Class,g=a.Utils,f=a.A$,c=a.lQ,d=a.mk,h=a.DS,b=e.create({PA:!1,disabled:!1,width:null,height:null,Vz:!1,FN:0,q3:!1,backgroundColor:'rgba(50,50,50,0.5)',borderColor:'rgba(50,50,50,1)',e4:'rgba(230,60,60,1)',init:function(){this.mP&&this.mP(),b.DF.init.call(this),this.D$&&!this.vv&&(this.vv={img:this.D$}),this.vv&&(this.Yz=new d(this.vv),this.Yz.bh(this),this.Yz.init()),this.lJ&&(this.Ze=new d(this.lJ),this.Ze.bh(this),this.Ze.init()),this.Kn&&this.Kn();},qo:c.prototype.qo,i$:c.prototype.i$,HU:function(a){if(!(this.d7||a))return;this.Yz&&(this.Yz.kc(),this.Yz.ts()),this.Ze&&(this.Ze.kc(),this.Ze.ts(),this.Ze.qC||(this.Ze.qC=this.Ze.sw,this.Ze.Jo=this.Ze.sh,this.Ze.Cg=this.Ze.Dn.width,this.Ze.kl=this.Ze.Dn.height)),this.EZ(),this.d7=!1;},AL:function(){this.x=this.Dn.Fl+this.parent.x,this.y=this.Dn.Nd+this.parent.y,this.g8(),this.Yz&&this.Yz.ts(),this.Ze&&this.Ze.ts();},gb:function(a,c,d){var b=Math.min(1,this.FN);this.Yz?this.Yz.Me(a):(a.fillStyle=this.backgroundColor,a.fillRect(this.x,this.y,this.w,this.h)),this.Ze?(this.Ze.sw=this.Ze.qC*(this.q3?1:b),this.Ze.Dn.width=this.Ze.Cg*b,this.Ze.Me(a)):(a.fillStyle=this.e4,a.fillRect(this.x,this.y,this.w*b,this.h),a.strokeStyle=this.borderColor,a.strokeRect(this.x,this.y,this.w,this.h));}},f),a.$0=b,typeof module!='undefined'&&(module.exports=b);}(T);
var T=T||{};!function(a,c,f,d,e,b){c=a.Class,f=a.Utils,d=a.A$,e=a.QK,b=c.create({bD:!1,f5:!0,scrollX:0,scrollY:0,B1:0,Fq:0,rB:null,cp:40,E$:10,kj:'rgba(255,255,255,0.6)',G9:'rgba(0,0,0,0.4)',init:function(){b.DF.init.call(this),this.gw=new e({}),this.rB&&(this.gw.rB=this.rB),this.rR=this.scrollWidth,this.C7=this.scrollHeight,this.R8();},R8:function(){this.gw.reset(),this.scrollX=this.B1=0,this.scrollY=this.Fq=0,this.bP=this.UG=0,this.RU=[];var b=this.children[0];if(b){var a=this.children[this.children.length-1],c=a.x+a.w-b.x;c+=this.paddingLeft+this.paddingRight;var d=a.y+a.h-b.y;d+=this.paddingTop+this.paddingBottom,this.scrollWidth=this.rR||c,this.scrollHeight=this.C7||d;}else this.scrollWidth=this.rR||0,this.scrollHeight=this.C7||0;this.AC=this.X3=0,this.dc=Math.max(0,this.scrollWidth-this.w),this.xL=Math.max(0,this.scrollHeight-this.h),this.u2=this.w/this.scrollWidth,this.Af=this.h/this.scrollHeight,this.SE=this.w*this.u2>>0,this.lX=this.h*this.Af>>0,this.NI=this.scrollX*this.u2>>0,this.cW=this.scrollY*this.Af>>0;},reset:function(){var a=this;this.children.forEach(function(b){b.moveBy(a.scrollX,a.scrollY);}),this.R8();},Wu:function(a,b){this.bD||(a=0),this.f5||(b=0),this.qk=!1,this.gw.Ip=!0,this.gw.start(a,b);},Mx:function(){this.gw.stop(),this.gG();},scrollBy:function(a,b){this.bD&&this.US(this.scrollX-a),this.f5&&this.ld(this.scrollY-b);},US:function(a){this.scrollX=Math.max(this.AC-this.cp,Math.min(this.dc+this.cp,a)),this.NI=this.scrollX*this.u2>>0;},ld:function(a){this.scrollY=Math.max(this.X3-this.cp,Math.min(this.xL+this.cp,a)),this.cW=this.scrollY*this.Af>>0;},Cn:function(){var a=this.bD;if((this.scrollX<=this.AC-this.cp/2||this.scrollX>=this.dc+this.cp/2)&&(a=!1),a)return!0;var b=this.f5;return(this.scrollY<=this.X3-this.cp/2||this.scrollY>=this.xL+this.cp/2)&&(b=!1),b;},xY:function(){if(this.scrollX<this.AC||this.scrollX>this.dc||this.scrollY<this.X3||this.scrollY>this.xL){var a=this;this.gG();var d=Math.min(this.dc,Math.max(this.AC,this.scrollX)),e=Math.min(this.xL,Math.max(this.X3,this.scrollY)),b=this.scrollX,c=this.scrollY,f=d-b,g=e-c;this.tween={duration:300,played:0,M:function(h){var d=a.scrollX-b-f*h,e=a.scrollY-c-g*h;(d||e)&&a.scrollBy(d,e);},F:function(){a.NI=a.scrollX*a.u2>>0,a.cW=a.scrollY*a.Af>>0,a.qk=!0,a.Mx();}};}},gG:function(){this.tween=null;},_t:function(c){var a=this.tween;if(!a)return!1;if(a.played+=c,a.played<0)return!1;var b=a.played/a.duration;return b>=1?(b=1,a.F(),this.gG()):a.M(b),!0;},v0:function(a,b,c){return this.uR(a,b)&&this.Mx(),!1;},QT:function(a,b,c){return this.xY(),!1;},Zp:function(e,f,a,b,c,d,g){if(this.uR(c,d)){this.scrollBy(a,b);return;}return!1;},Eh:function(e,f,a,b,c,d,g){if(this.uR(c,d)){this.Wu(a,b);return;}return!1;},HU:function(a){this.PA&&(this.d7||a)&&(this.d7=!1,this.dO.ln(this),this.reset());},FT:function(b,c){if(this._t(b),this.qk)return;var a=this.gw.update(b);a&&this.scrollBy(this.gw.dx,this.gw.dy),a&&this.Cn()||(this.qk=!0,this.xY());},yt:function(a,d,e){if(!this.E$)return;if(this.bD&&this.u2<1){var b=this.y+this.h-this.E$;a.fillStyle=this.G9,a.fillRect(this.x+0,b,this.w,this.E$),a.fillStyle=this.kj,a.fillRect(this.x+this.NI+1,b+1,this.SE-2,this.E$-2);}else if(this.f5&&this.Af<1){var c=this.x+this.w-this.E$;a.fillStyle=this.G9,a.fillRect(c,this.y+0,this.E$,this.h),a.fillStyle=this.kj,a.fillRect(c+1,this.y+this.cW+1,this.E$-2,this.lX-2);}},Ui:function(a,c,d){this.B1=this.scrollX-this.bP,this.Fq=this.scrollY-this.UG,a.save(),a.beginPath(),a.moveTo(this.x,this.y),a.lineTo(this.x+this.w,this.y),a.lineTo(this.x+this.w,this.y+this.h),a.lineTo(this.x,this.y+this.h),a.closePath(),a.clip();var b=this;this.RU.length=0;var e=this.RU,f=!!(this.B1||this.Fq);this.children.forEach(function(g){f&&g.moveBy(-b.B1,-b.Fq),b.sM(g.Da)&&(g.Xo(a,c,d),e.push(g));}),this.yt(a,c,d),a.restore(),this.B1=0,this.Fq=0,this.bP=this.scrollX,this.UG=this.scrollY;}},d),a._C=b,typeof module!='undefined'&&(module.exports=b);}(T);var A=A||{};!function(a,b,c,d){b=a.Py||{},c=a.pj||{},d=a.CM||{},a.Py=b,a.pj=c,a.CM=d,a.dD=function(a,h,b){b=b||{};for(var f in a)f in b||(b[f]=a[f]);'loop'in b||(b.loop=a.loop||!1),'ox'in b||(b.ox=a.ox||0),'oy'in b||(b.oy=a.oy||0);var g=b.frames=[];if(Array.isArray(a.frames))for(var c=0;c<a.frames.length;c++){var d=a.frames[c],e=Array.isArray(a.duration)?a.duration[c]:a.duration;g.push({uN:h+'-'+d,duration:e});}else for(var c=0;c<a.frames;c++){var d=c,e=Array.isArray(a.duration)?a.duration[c]:a.duration;g.push({uN:h+'-'+d,duration:e});}return b;};}(A);var A=A||{};!function(b,a,c,d){a=function(b){for(var a in b)this[a]=b[a];},c={constructor:a,P6:null,time:null,endTime:null,duration:null,_g:0,tU:!0,init:function(){this.gq=b.Py,this.zj=b.pj,this.duration=this.duration||this.endTime-this.time||0,this.P6?(this.ru(),this.Xo=this.o7):(this.Z0(this),this.Xo=this.gb),this.yA();},ru:function(){this._g=this.P6.length;for(var a=0;a<this._g;a++){var b=this.P6[a];b.zIndex=b.zIndex||0,this.Z0(b);}this.P6.sort(function(a,b){return a.zIndex-b.zIndex;});},Z0:function(a){a.uN=a.uN||a.ik,a.w=a.w||0,a.h=a.h||0,a.x=a.x||0,a.y=a.y||0,a.b3=a.b3||0,a.iW=a.iW||1,a.mD=a.mD||1,a.alpha=a.alpha||a.alpha===0?a.alpha:1;var b,f=0,g=0,c=a.img;if(this.zj&&(b=this.zj[a.uN]))a.img=this.gq[b.img],!a.img&&(!c||c.tagName!='IMG'&&c.tagName!='CANVAS')?(a.sf=b.img,a.uD=!0):a.img||(a.img=c),a.ix=b.x,a.iy=b.y,a.iw=b.w,a.ih=b.h,f=b.ox||0,g=b.oy||0;else{if(a.img=this.gq[a.uN],!a.img&&(!c||c.tagName!='IMG'&&c.tagName!='CANVAS')?(a.sf=a.uN,a.uD=!1):a.img||(a.img=c),a.img){var h=a.img.width,i=a.img.height;a.iw=a.iw||h,a.ih=a.ih||i,a.w=a.w||h,a.h=a.h||i;}a.ix=a.ix||0,a.iy=a.iy||0;}var d=a.ox;String(d).indexOf('%')>0?d=a.iw*parseFloat(d)/100:d=d||0;var e=a.oy;String(e).indexOf('%')>0?e=a.ih*parseFloat(e)/100:e=e||0,a.ox=d+f,a.oy=e+g;},yA:function(){var h,b=this._g;b?h=this.P6:(h=[this],b=1);var c=Infinity,d=Infinity,e=-Infinity,f=-Infinity;for(var g=0;g<b;g++){var i=h[g],a=this.mZ(i);a[0]<c&&(c=a[0]),a[1]<d&&(d=a[1]),a[2]>e&&(e=a[2]),a[3]>f&&(f=a[3]);}this.Da=[c,d,e,f];},mZ:function(a){var i=a.b3,l=Math.cos(i),k=Math.sin(i),h=a.ox,g=a.oy,m=h+a.iw,j=g+a.ih,f=function(b,c){return[(b*l-c*k)*a.iW+a.x,(b*k+c*l)*a.mD+a.y];},e=f(h,g),d=f(m,g),c=f(m,j),b=f(h,j),n=[Math.min(e[0],d[0],c[0],b[0]),Math.min(e[1],d[1],c[1],b[1]),Math.max(e[0],d[0],c[0],b[0]),Math.max(e[1],d[1],c[1],b[1])];return n;},o7:function(c,d,e){for(var a=0;a<this._g;a++){var b=this.P6[a];this.DE(c,b,d,e);}},DE:function(b,a,f,g){if(!a.img){var c=this.gq[a.sf];if(!c){console.log('Not Found: ',a.sf);return;}if(a.img=c,!a.uD){var d=a.img.width,e=a.img.height;a.iw=a.iw||d,a.ih=a.ih||e,a.w=a.w||d,a.h=a.h||e;}}if(this.tU){b.drawImage(a.img,a.ix,a.iy,a.iw,a.ih,a.x+f+a.ox,a.y+g+a.oy,a.iw,a.ih);return;}b.save(),b.globalAlpha=a.alpha,b.translate(a.x+f,a.y+g),b.rotate(a.b3),b.scale(a.iW,a.mD),b.drawImage(a.img,a.ix,a.iy,a.iw,a.ih,a.ox,a.oy,a.iw,a.ih),b.restore();},gb:function(a,b,c){this.DE(a,this,b,c);},jh:function(b,c,d){b.strokeStyle='#ff00ff';var a=this.Da;b.strokeRect(a[0]+c,a[1]+d,a[2]-a[0],a[3]-a[1]);},Ca:function(b,f,g){var e,c=this._g;c?e=this.P6:(e=[this],c=1);for(var d=0;d<c;d++){var a=e[d];b.save(),b.globalAlpha=a.alpha,b.translate(a.x+f,a.y+g),b.scale(a.iW,a.mD),b.rotate(a.b3),b.strokeStyle='#ff6600',b.strokeRect(a.ox,a.oy,a.iw,a.ih),b.strokeRect(0,0,2,2),b.restore();}}};for(d in c)a.prototype[d]=c[d];b.l9=a;}(A);var A=A||{};!function(e,b,a,c,d){b=e.l9,a=function(b){for(var a in b)this[a]=b[a];},c={constructor:a,x:0,y:0,ox:0,oy:0,parent:null,loop:!1,img:null,zj:null,duration:0,played:0,frames:null,uq:-1,DZ:0,EA:Infinity,La:null,he:-1,oA:-1,paused:!1,init:function(){if(this.frames=this.frames||this.ev(),this.duration=this.duration||0,this.uq=this.frames.length,this.EA=Math.min(this.EA,this.uq-1),this.uq>0){var a=new b(this.frames[0]);this.frames[0]=a;var c=0;for(var d=1;d<this.uq;d++){var e=new b(this.frames[d]);a.duration?(a.time=c,a.endTime=c+a.duration):a.endTime=e.time,a.init(),c+=a.duration,a=e,this.frames[d]=a;}a.duration&&(a.time=c,a.endTime=c+a.duration),!this.duration&&a.endTime?this.duration=a.endTime:a.endTime||(a.endTime=this.duration||c),a.init(),this.reset();}},ev:function(){return[];},reset:function(){this.ended=!1,this.played=0,this.xA(0);},start:function(){this.reset(),this.paused=!1;},xA:function(a){this.he=a,this.La=this.frames[a],this.La,this.oA=this.La.endTime;},setTime:function(b){b%=this.duration;var c=0;for(var a=this.EA;a>=0;a--){var d=this.frames[a];if(b>=d.time){c=a;break;}}this.played=b,this.xA(c);},update:function(a){if(this.paused||this.ended)return!1;var b=this.he;return this.played>=this.oA?this.he===this.EA?(this.YP&&this.YP(a),this.loop?(this.played-=this.oA,this.he=this.DZ):this.ended=!0):(this.he++,this.played+=a):this.played+=a,this.o_=b!==this.he,this.o_&&this.xA(this.he),this.o_;},YP:null,Xo:function(a){var b,c,d=this.La;this.X?(a.save(),a.translate(this.x,this.y),a.scale(-1,1),b=this.ox,c=this.oy):(b=this.x+this.ox,c=this.y+this.oy),d.Xo(a,b,c),this.debug&&(d.jh(a,b,c),d.Ca(a,b,c),a.strokeRect(b-2,c-2,4,4)),this.X&&a.restore();}};for(d in c)a.prototype[d]=c[d];e.XX=a;}(A);var w=function(b){for(var a in b)this[a]=b[a];};!function(a,b){a={constructor:w,x:0,y:0,width:120,height:70,alpha:1,bgColor:null,color:null,fontSize:14,Bx:'Arial',text:null,tx:0,ty:0,img:null,sx:null,sy:null,sw:null,sh:null,dx:null,dy:null,dw:null,dh:null,init:function(){this.img&&(this.sx=this.sx||0,this.sy=this.sy||0,this.sw=this.sw||this.img.width,this.sh=this.sh||this.img.height,this.dx===null&&(this.dx=0),this.dy===null&&(this.dy=0),this.dw===null&&(this.dw=this.sw),this.dh===null&&(this.dh=this.sh),this.width=this.width||this.sw,this.height=this.height||this.sh),this.text&&(this.lW=this.width/2,this.LD=(this.height-this.fontSize>>1)+this.fontSize);},uR:function(a,b){return this.x<a&&this.y<b&&a<this.x+this.width&&b<this.y+this.height;},v0:function(a,b,c){},QT:function(a,b,c){},xy:function(a,b,c){},update:function(a,b){},Xo:function(a,d,e){var b=a.globalAlpha,c=a.fillStyle;a.globalAlpha=this.alpha,this.bgColor&&(a.fillStyle=this.bgColor,a.fillRect(this.x,this.y,this.width,this.height)),this.img&&a.drawImage(this.img,this.sx,this.sy,this.sw,this.sh,this.x+this.dx,this.y+this.dy,this.dw,this.dh),this.text&&(a.font=this.fontSize+'px '+this.Bx,a.textAlign='center',a.fillStyle=this.color||'black',a.fillText(this.text,this.x+this.lW+this.tx,this.y+this.LD+this.ty)),a.fillStyle=c,a.globalAlpha=b;}};for(b in a)w.prototype[b]=a[b];typeof module!='undefined'&&(module.exports=w);}();var DefaultGame=x.Class.create({QE:x.Game,FPS:45,width:600,height:400,zT:'',g:!1,IN:null,ho:null,fP:!1,e3:!0,Dm:'#060606',Y_:!0,K7:!0,uc:!1,Jj:null,Tu:!1,dC:function(a){this.Go=new x.s9({width:this.width,height:this.height,hc:this.eT||'center',fK:this.f3||'center',Jj:this.Jj===null?x.s9.vq:this.Jj,Hn:this.u||0,CP:this.Z||Infinity}),this.tD(this.a,this.f),this.AK=new x.cU(),this.zT=a,this.BO(),this.initEvent(),this.as(),this.e3&&this.load();},log:function(a){console.log.apply(console,a);},load:function(){var a=new Qy(this.loadingOptions);a.init(this),this.re(a);},$l:function(){this.canvas=document.getElementById('canvas'),this.context=this.canvas.getContext('2d');},kt:function(){setTimeout(function(){window.scrollX=0,window.scrollY=0;},10);},tD:function(a,b){this.a=a||window.innerWidth,this.f=b||window.innerHeight,this.resize();},qL:function(a,b){this.width=a,this.height=b,this.resize();},resize:function(){this.YA=Math.max(this.width,this.height),this.hJ=Math.min(this.width,this.height),window.orientation==90||window.orientation==-90?this.xq=!0:this.xq=!1,this.Go.qL(this.width,this.height),this.Go.HN(this.a,this.f),this.Go.update();var a=!1;this.Go._w(this.canvas,a),this.G5=this.Go.G5,this.hL=this.Go.hL,this.canvas.parentNode&&this.canvas.parentNode.tagName=='DIV'&&(this.canvas.parentNode.style.width=this.a+'px',this.canvas.parentNode.style.height=this.f+'px'),this.h3=this.Go.h3,this.b1=this.Go.b1,this.offsetX=this.Go.offsetX,(this.Jj==x.s9.Ug||this.Jj==x.s9.Yw)&&(this.offsetX=Math.max(0,this.offsetX)),this.offsetY=this.Go.offsetY,(this.Jj==x.s9.gQ||this.Jj==x.s9.Yw)&&(this.offsetY=Math.max(0,this.offsetY)),this.ho=1/this.Go.scale,this.d8&&(this.d8.width=this.width,this.d8.height=this.height,this.d8.resize&&this.d8.resize()),this.onResize();},BO:function(){},initEvent:function(){var a=this;a.IN=a.IN||{},a.ax=0,a.ay=0,a.az=0,window.addEventListener('devicemotion',function(c){var b=c.accelerationIncludingGravity;b&&(a.ax=b.x,a.ay=b.y,a.az=b.z);}),window.addEventListener('keydown',function(b){a.IN[b.keyCode]=!0;},!0),window.addEventListener('keyup',function(b){a.IN[b.keyCode]=!1;},!0),window.addEventListener('pagehide',function(b){a.pageHidden=!0;},!0),window.addEventListener('pageshow',function(b){a.pageHidden=!1;},!0);var b,c;document.hidden!==void 0?(b='hidden',c='visibilitychange'):document.webkitHidden!==void 0&&(b='webkitHidden',c='webkitvisibilitychange'),document.addEventListener(c,function(c){document[b]?(a.pageHidden=!0,a.e8()):(a.pageHidden=!1,a.ZZ&&(a.ZZ.now=a.ZZ.last=Date.now()),a.fZ());},!1);},Ax:function(){},as:function(){},aL:function(){},Mp:function(){},G:function(){},onResize:function(){},$y:function(){},e8:function(){console.log('============ Page Hidden ============'),this.pause();},fZ:function(){console.log('============ Page Visible ============'),this.resume();},Dq:function(a){Z.reset();},U3:function(j,g){if(this.Tu)return!1;var f=Z.pq,i=Z.LX,b=Z.u0,d=Z.Q_,c=Z.X1;if(this.uc)return;if(this.Ux){if(f){var h=g-f.time;h<400&&(this.Ux.touchStart(f.x,f.y,f.id,g),Z.u0=null);}if(b){var h=g-b.time;h<400&&(this.Ux.tap(b.x,b.y,b.id,g),Z.u0=null);}return;}var a=this.d8;if(a){if(a.f_&&f){var e=a.ui&&a.ui.sV('touchStart',f.x,f.y,f.id);e||a.f_(f.x,f.y,f.id,g),Z.pq=null;}if(a.sa&&c){var e=a.ui&&a.ui.sV('swipe',c.x,c.y,c.vx,c.vy,c.sx,c.sy,c.id);e||a.sa(c.x,c.y,c.vx,c.vy,c.sx,c.sy,c.id,g),Z.X1=null;}if(a.dM&&d){var e=a.ui&&a.ui.sV('pan',d.x,d.y,d.dx,d.dy,d.sx,d.sy,d.id);e||a.dM(d.x,d.y,d.dx,d.dy,d.sx,d.sy,d.id,g),Z.Q_.dx=0,Z.Q_.dy=0,Z.Q_=null;}if(a.l_&&i){var h=g-i.time;if(h<400){var e=a.ui&&a.ui.sV('touchEnd',i.x,i.y,i.id);e||a.l_(i.x,i.y,i.id,g),Z.LX=null;}}if(a.rA&&b){var h=g-b.time;if(h<400){var e=a.ui&&a.ui.sV('tap',b.x,b.y,b.id);e?game.ta&&game.ta(e,b.x,b.y,b.id,g):a.rA(b.x,b.y,b.id,g),Z.u0=null;}}a.U3&&a.U3(j,g);}},update:function(a,b){if(this.pageHidden||this.Tu)return;a=Math.min(a,100),this.AK.update(a,b),TWEEN.update(),this.d8&&this.d8.update(a,b),this.I2(a,b);},I2:function(d,e){if(this.t1-=d,this.t1>0)return;this.t1=300;for(var a in V.j2){var b=Id.get(a);if(b){var c=V.j2[a];c.forEach(function(a){a.img=b;}),delete V.j2[a];}}},Xo:function(b,d){if(this.pageHidden)return;var a=this.context;if(this.Tu){a.fillStyle='#222222',a.fillRect(0,0,this.G5,this.hL),a.fillStyle='#f3f3f3',a.textAlign='center',a.font='70px Arial',a.fillText('\u8BF7\u5728\u7AD6\u5C4F\u6A21\u5F0F\u4E0B\u8FDB\u884C\u6E38\u620F',this.G5/2,this.hL/2-50);return;}b=Math.min(b,100);var c=!1;this.d8&&((this.offsetX||this.offsetY)&&(c=!0,a.translate(this.offsetX,this.offsetY)),this.d8.Xo(a,b,d),this.debug,c&&a.translate(-this.offsetX,-this.offsetY),(this.h3>0||this.b1>0)&&(this.Y_&&(this.offsetX>0||this.h3>0)&&(this.Dm?(a.fillStyle=this.Dm,a.fillRect(0,this.offsetY-1,this.offsetX,this.hL-this.offsetY*2+2),a.fillRect(this.offsetX+this.width,this.offsetY-1,this.h3-this.offsetX+2,this.hL-this.offsetY*2+2)):(a.clearRect(0,this.offsetY-1,this.offsetX,this.hL-this.offsetY*2+2),a.clearRect(this.offsetX+this.width,this.offsetY-1,this.h3-this.offsetX+2,this.hL-this.offsetY*2+2))),this.K7&&(this.offsetY>0||this.b1>0)&&(this.Dm?(a.fillStyle=this.Dm,a.fillRect(-1,-2,this.G5+2,this.offsetY+2),a.fillRect(-1,this.offsetY+this.height,this.G5+2,this.b1-this.offsetY+2)):(a.clearRect(-1,-2,this.G5+2,this.offsetY+2),a.clearRect(-1,this.offsetY+this.height,this.G5+2,this.b1-this.offsetY+2))))),this.RT(a,b,d);},RT:function(a,b,c){},je:function(a,b){try{x.s.muted||x.s.play(a,b);}catch(a){console.log(a);}},LY:function(a,b){try{x.s.muted||x.s.stop(a,b);}catch(a){console.log(a);}},bj:function(a,b){x.s.muted||x.s.bj(a,b);},I:function(a){a==0?this.muted||x.s.eX(!1):x.s.eX(a);},ta:function(a){},dataLogPV:function(a){},dataLogEvent:function(a,b){},dataLogPayment:function(a,b){},Pk:function(){return window.parent!=window;},hK:function(){return!!window.WeixinJSBridge;},ks:function(){return this.Pk()&&!!window.eg&&window.name=='endgame';},V3:function(){return this.browser.weixin||!!window.WeixinJSBridge;},o8:function(){return this.browser.weibo;},T8:function(){return this.browser.qq;}});var I,Z={Hw:2,reset:function(){this.cE=!1,this.start={},this.move={},this.end={},this.tap={},this.pan={},this.swipe={},this.pq=null,this.W0=null,this.LX=null,this.u0=null,this.Q_=null,this.X1=null,this.EE=null,this.EC=null,this.mR=null,this.PD=null;}};Z.reset();var J=function(){return I=new d.xZ({mP:function(){this.dom=document;},rc:!0,dv:0,ho:1}),I.init(),game&&(I.ho=game.ho||1,I.offsetX=-(game.offsetX||0),I.offsetY=-(game.offsetY||0)),I;},B=function(){var a=new d.Tap({ib:700,lx:25,uv:function(a,b,c,d){return!0;},start:function(c,g,h){Z.cE=!0,x.s.jR(),x.s.UB();var d=Math.min(c.length,this.Hw);for(var a=0;a<d;a++){var b=c[a],e=b.pageX,f=b.pageY;this.v0!=null&&this.v0(e,f,b,g,h);}},v0:function(b,c,a,e,f){if(game.ME){var d=game.ME.v0(e);if(d)return;}Z.start[a.id]={id:a.id,x:b,y:c,time:a.startTime},Z.pq===null&&(Z.pq=Z.start[a.id]),Z.EE===null&&(Z.EE=a.id,Z.EC=b,Z.mR=c);},end:function(e,f,g){Z.cE=!1;var h=0,i=Math.min(e.length,this.Hw);for(var b=0;b<i;b++){var a=e[b],c=a.tg,d=a.kP;this.QT!=null&&this.QT(c,d,a,f,g),this.AW(a)&&this.Ws(a)&&(a.index=h++,this.xy(c,d,a,f,g));}},QT:function(d,e,b,f,g){if(game.ME){var c=game.ME.QT(f);if(c)return!1;}var a=b.id;delete Z.start[a],delete Z.pan[a],Z.EE===a&&(Z.EE=null,Z.EC=null,Z.mR=null),Z.end[a]={id:a,x:d,y:e,time:b.endTime},Z.LX===null&&(Z.LX=Z.end[a]);},xy:function(e,f,a,b,g){if(game.ME){var c=game.ME.gn(b),d=game.ME.QT(b);if(c||d)return!1;}Z.tap[a.id]={id:a.id,x:e,y:f,time:a.endTime,duration:a.endTime-a.startTime},Z.u0===null&&(Z.u0=Z.tap[a.id]);}});return I.addListener(a),a;},a=function(){var a=new d.xP({Gp:function(b,a,c,d){return a.length>1?!1:!0;},uv:function(b,a,c,d){return a.target.tagName=='CANVAS';},Zp:function(e,f,c,d,a,g,h){var b=Z.pan[a.id]=Z.pan[a.id]||{id:a.id,dx:0,dy:0};b.time=a.G3,b.x=c,b.y=d,b.sx=a.KA,b.sy=a.sd,b.dx+=e,b.dy+=f,Z.Q_===null&&(Z.Q_=Z.pan[a.id]),Z.EE===a.id&&(Z.EC=c,Z.mR=d);}});return I.addListener(a),a;},e=function(){var a=new d.vU({Ho:4,Pa:810,Hw:2,Gp:function(b,a,c,d){return a.length>1?!1:!0;},uv:function(b,a,c,d){return a.target.tagName=='CANVAS';},Eh:function(b,c,a,d,e){Z.swipe[a.id]={id:a.id,x:a.pageX,y:a.pageY,sx:a.KA,sy:a.sd,vx:b,vy:c,time:a.endTime,duration:a.endTime-a.startTime},Z.X1===null&&(Z.X1=Z.swipe[a.id]);}});return I.addListener(a),a;},W=function(){var a=new d.t6({Ho:4,Pa:810,Hw:2,uv:function(b,a,c,d){return a.target.tagName=='CANVAS';},kb:function(b,c,d,a,e,g,h){var f=e[0];Z.PD={J7:b,Gz:c,TH:d,IU:a[0],Fs:a[1]};},OU:function(){Z.PD=null;}});return I.addListener(a),a;},g,y={oh:!1,Qk:!0,Xm:100,oN:20,MI:0,d4:60,Ye:0,left:60,bottom:60,mv:0},f=function(a){a=a||{};for(var b in y)b in a||(a[b]=y[b]);var h=game.Go.Yg+game.offsetX,c=game.Go.BX+game.offsetY;console.log('initJoystick 1 : ',game.Go.Yg,game.offsetX),console.log('initJoystick 2 : ',game.Go.BX,game.offsetY);var e=0+a.left+a.Xm,f=c-a.bottom-a.Xm;g=new d.B0({disabled:!1,u4:[0,150,h>>1,c],ak:null,x:e,y:f,IZ:e,Jk:f,oN:a.oN,Xm:a.Xm,Qk:a.Qk,oh:a.oh,MI:a.MI,d4:a.d4,Ye:a.Ye,mv:a.mv}),I.addListener(g);},O=[],j={width:100,height:100,right:50,bottom:50},k=function(a){a=a||{};for(var b in j)b in a||(a[b]=j[b]);var e=game.Go.Yg+game.offsetX,f=game.Go.BX+game.offsetY,g=e-a.width/2-a.right,h=f-a.height/2-a.bottom,c=new d.tH({disabled:!1,x:a.x||g,y:a.y||h,width:a.width,height:a.height,index:O.length,Q$:a.Q$});I.addListener(c),O.push(c);};
window.addEventListener('load',function(){}),window.document.addEventListener('touchend',function(a){a.target.tagName=='INPUT'?a.stopPropagation():a.preventDefault();},!1),window.document.addEventListener('touchmove',function(a){a.preventDefault();},!1),window.addEventListener('resize',function(){if(game.fP)return;if(Config.innerWidth=window.innerWidth,Config.innerHeight=window.innerHeight,game.Go){var a=Config.a||window.innerWidth,b=Config.f||window.innerHeight;game.tD(a,b);}}),function(a){window.addEventListener('orientationchange',function(b){a&&clearTimeout(a),a=setTimeout(function(){window.x0(b);},10);},!1),window.x0=function(a){window.orientation==90||window.orientation==-90,setTimeout(function(){window.scrollX=0,window.scrollY=0,game&&game.$y&&game.$y();},10);};}();var Y={},s={BH:13,sT:32,IR:37,ai:38,N2:39,_P:40,A:65,D:68,J:74,K:75,L:76,P:80,R:82,S:83,W:87};window.addEventListener('keydown',function(a){Y[a.keyCode]=!0;},!0),window.addEventListener('keyup',function(a){Y[a.keyCode]=!1;},!0);T.DS.prototype.Bx=DefaultFont,T.A$.prototype.tR='rgba(0,0,0,0.6)',T.vP.prototype.tR='rgba(0,0,0,0.6)';var u={create:function(){this.panelBgImage=new Bt({width:180,height:200,bgColor:'rgba(200,200,200,0.8)',radius:10,padding:10,headHeight:60,headRadius:[4,4,0,0],heightMarginBottom:0,headColor:'#524131',headBorderWidth:0,headBorderColor:'#524539',bodyRadius:[0,0,10,10],bodyColor:'#ffebde',bodyBorderWidth:0,bodyBorderColor:'#d3c497',bodyPadding:10,innerRadius:4,innerColor:'#decf9c',innerBorderWidth:0,innerBorderColor:'#d3c497'}).image,this.panelBorderImageInfo={img:this.panelBgImage,fill:!0,T:100,B:50,L:50,R:50},this.brownBtnBgImg=N.Mw(190,80,12,{color:'#a05522',Hj:'rgba(250,250,250,0.20)',borderWidth:2,borderColor:'#eeeeee',shadowColor:'#443322',shadowOffsetX:0,shadowOffsetY:8}),this.brownBtnBorderImageInfo={img:this.brownBtnBgImg,fill:!0,T:20,B:28,L:20,R:20},this.redBtnBgImg=N.Mw(80,80,12,{color:'#cc4400',borderWidth:2,borderColor:'#eeeeee',shadowColor:'#664422',shadowOffsetX:0,shadowOffsetY:8}),this.redBtnBorderImageInfo={img:this.redBtnBgImg,fill:!0,T:20,B:28,L:20,R:20},this.greenBtnBgImg=N.Mw(80,80,12,{color:'#60b000',Hj:'rgba(250,250,250,0.20)',borderWidth:2,borderColor:'#eeeeee',shadowColor:'#446622',shadowOffsetX:0,shadowOffsetY:8}),this.greenBtnBorderImageInfo={img:this.greenBtnBgImg,fill:!0,T:20,B:28,L:20,R:20},this.blueBtnBgImg=N.Mw(80,80,12,{color:'#0099dd',Hj:'rgba(250,250,250,0.20)',borderWidth:2,borderColor:'#eeeeee',shadowColor:'#224466',shadowOffsetX:0,shadowOffsetY:8}),this.blueBtnBorderImageInfo={img:this.blueBtnBgImg,fill:!0,T:20,B:28,L:20,R:20},this.yellowBtnBgImg=N.Mw(80,80,12,{color:'#ddaa00',Hj:'rgba(250,250,250,0.20)',borderWidth:2,borderColor:'#eeeeee',shadowColor:'#665500',shadowOffsetX:0,shadowOffsetY:8}),this.yellowBtnBorderImageInfo={img:this.yellowBtnBgImg,fill:!0,T:20,B:28,L:20,R:20},this.grayBtnBgImg=N.Mw(80,80,12,{color:'#939393',Hj:'rgba(250,250,250,0.20)',borderWidth:2,borderColor:'#e3e3e3',shadowColor:'#505050',shadowOffsetX:0,shadowOffsetY:8}),this.grayBtnBorderImageInfo={img:this.grayBtnBgImg,fill:!0,T:20,B:28,L:20,R:20},this.startMenuBtnBgImg=this.brownBtnBgImg,this.startMenuBtnBorderImageInfo=this.brownBtnBorderImageInfo,this.iconBtnBgImg=this.greenBtnBgImg,this.iconBtnBorderImageInfo=this.greenBtnBorderImageInfo;}};var R=T.Class.create({QE:T.U,Bi:!0,parent:null,width:80,height:80,noBg:!1,mP:function(){this.xB();},d5:function(b){var a=T.Utils.Oo(b);return a.fK='center',a.hc='center',a.offsetY=-4,a.iW=this.iconScale||0.7,a.mD=this.iconScale||0.7,a;},xB:function(){if(this.noBg)return;this.enabledBorderImageInfo=this.XF||u.iconBtnBorderImageInfo,this.disabledBorderImageInfo=u.grayBtnBorderImageInfo,this.XF=this.enabledBorderImageInfo;},Bq:function(a,b,c){this.disabled?(this.wU=a.globalAlpha,a.globalAlpha=0.8,this.XF=this.disabledBorderImageInfo):this.XF=this.enabledBorderImageInfo;}});var M=T.Class.create({QE:T.U,Bi:!0,parent:null,width:320,height:70,mP:function(){this.xB();},xB:function(){this.enabledBorderImageInfo=this.XF||u.brownBtnBorderImageInfo,this.disabledBorderImageInfo=u.grayBtnBorderImageInfo,this.XF=this.enabledBorderImageInfo;},Bq:function(a,b,c){this.disabled?(this.wU=a.globalAlpha,this.XF=this.disabledBorderImageInfo):this.XF=this.enabledBorderImageInfo;}});var z=T.Class.create({QE:R,TW:'parent',Bi:!0,parent:null,width:80,height:80,top:0,right:0,mP:function(){var a=T.Utils.Oo('icon_close');a.fK='right',a.offsetX=-8,this.xh=a;},xy:function(a,b,c){this.parent.hide();}});var t=T.Class.create({QE:R,name:'share',mP:function(){this.xB(),this.xh=this.d5('icon_help');},xy:function(a,b,c){game.gotoPlayGuide();}});var D=T.Class.create({QE:R,name:'share',boardId:null,mP:function(){this.xB(),game.d8.mode=='classic'?this.boardId=GameName+'.BestScoreClassic':game.d8.mode=='random'?this.boardId=GameName+'.BestScoreRandom':game.d8.mode=='challenge'?this.boardId=GameName+'.BestTime'+(game.d8.stageIndex+1):game.d8.mode=='rise'?this.boardId=GameName+'.BestScoreRise':game.d8.mode=='riseRandom'?this.boardId=GameName+'.BestScoreRiseRandom':this.boardId=null,this.big?(this.iconScale=1,this.xh=this.d5('icon_leader-big')):(this.iconScale=0.75,this.xh=this.d5('icon_leader'));},xy:function(a,b,c){this.boardId?X.showLeaderboard(this.boardId):X.showGameCenter();}});var Q=T.Class.create({QE:R,TW:'parent',parent:null,width:70,height:70,bottom:0,right:0,visible:!0,mP:function(){var a=T.Utils.Oo('icon_pause');a.fK='center',this.xh=a;},xy:function(a,b,c){this.root.pausePanel.show();}});var Jb=T.Class.create({QE:R,name:'quit',width:100,height:100,mP:function(){this.xB();var a=T.Utils.Oo('icon_quit');this.xh=a;},xy:function(a,b,c){game.d8.mode=='challenge'?game.gotoStart(!0):game.gotoStart(!1);}});var vz=T.Class.create({QE:R,name:'share',mP:function(){this.xB(),this.xh=this.d5('icon_rate');},xy:function(a,b,c){game.rateEarnCoin(this.earnCoin),this.earnCoin&&(this.disabled=!0);}});var j2=T.Class.create({QE:R,name:'restart',width:100,height:100,mP:function(){this.xB();var a=T.Utils.Oo('icon_restart');this.xh=a;},xy:function(c,d,e){if(game.d8.mode=='challenge'||game.d8.mode=='riseRandom'){var b=game.user,a=1;if(!v){if(b.coin<a)return game.showNotice(TEXT.NEED_MORE_COINS),!1;game.showNotice('Used '+a+' Coin(s).',0,1200),b.useCoins(a);}game.je('insert-coin');}game.restart();}});var MO=T.Class.create({QE:R,name:'resume',width:160,height:100,mP:function(){this.xB();var a=T.Utils.Oo('icon_play');a.iW=0.8,a.mD=0.8,this.xh=a;},xy:function(a,b,c){this.pausePanel&&this.pausePanel.hide(),game.d8.paused=!1,game.d8.countdown=0;}});var B$=T.Class.create({QE:R,name:'share',mP:function(){this.xB(),this.xh=this.d5('icon_share');},xy:function(b,c,d){var a=this.parent.shareMessage;game.shareEarnCoin(a,this.earnCoin),this.earnCoin&&(this.disabled=!0);}});var ZR=T.Class.create({QE:R,name:'share',mP:function(){this.xB(),this.iconScale=this.iconScale||0.9,this.xh=this.d5('icon_shop'),this.xh.offsetY=-3,this.MZ=T.Utils.Oo('icon_new'),this.MZ.offsetX=6,this.MZ.offsetY=-6,this.MZ.fK='right',this.MZ.hc='top',this.MZ.visible=!1;},zD:0,FT:function(a,b){this.zD<=0?(this.zD=3000,this.rH()):this.zD-=a;},rH:function(){game.canPlayVideoAd()?this.Gi.visible=!0:this.Gi.visible=!1;},xy:function(a,b,c){this.root.shopPanel.show();}});var _2=T.Class.create({QE:M,Bi:!0,parent:null,margin:10,Mv:!0,width:370,height:80,mP:function(){this.xB(),this.TK={textAlign:'left',offsetX:85,offsetY:2,color:'#ffffff',fontSize:24,shadowOffsetY:3,shadowColor:'#333333',text:this.label};},Kn:function(){},xy:function(){game.shop.buyProduct(this.productId);}});var Xe=T.Class.create({QE:R,parent:null,name:'sound',mP:function(){this.xB(),this.soundOnImgInfo=this.d5('icon_sound-on'),this.soundOffImgInfo=this.d5('icon_sound-off');},Kn:function(){x.s.muted?this.turnOff():this.turnOn();},turnOn:function(){this.c4=!0,this.Ts(this.soundOnImgInfo),x.s.eX(!1),game.muted=!1;},turnOff:function(){game.muted=!0,this.c4=!1,this.Ts(this.soundOffImgInfo),x.s.eX(!0),game.muted=!0;},xy:function(a,b,c){this.c4?this.turnOff():this.turnOn();}});var Ej=T.Class.create({QE:M,Bi:!0,parent:null,margin:0,marginBottom:30,Mv:!0,left:0,width:264,height:80,fontSize:null,xy:function(){},mP:function(){this.XF=this.XF||u.startMenuBtnBorderImageInfo,this.xB(),this.TK={text:this.label,color:'#ffffff',shadowColor:'#222222',shadowOffsetY:3,fontSize:this.fontSize||TEXT.FontSize.StartMenuButton,strokeWidth:this.strokeWidth,cB:this.cB};},Kn:function(){}});var yb=T.Class.create({QE:R,name:'share',top:70,mP:function(){this.xB(),this.xh=this.d5('icon_ad'),this.MZ=T.Utils.Oo('icon_new'),this.MZ.offsetX=6,this.MZ.offsetY=-6,this.MZ.fK='right',this.MZ.hc='top',this.MZ.visible=!1;},FT:function(b,a){if(this.Gi.visible=!this.disabled,this.disabled)return;this.scale=1+(Math.sin(a/120)+0.5)*0.04;},shakeCooldown:0,shake:function(a,b){this.shakeCooldown-=a,this.shakeCooldown<0?this.shakeCooldown=2500:this.shakeCooldown<900?(this.offsetX=V.TQ(-2,2)*2||2,this.offsetY=V.TQ(-1,1)*0):(this.offsetX=0,this.offsetY=0);},xy:function(a,b,c){game.watchAdEarnCoin(this.earnCoin);}});var SkillButton=T.Class.create({QE:T.vP,Bi:!0,parent:null,TW:'parent',margin:8,width:150,height:80,right:200,bottom:0,mP:function(){},Kn:function(){var a;this.skillIndex==0?a=T.Utils.Oo('icon_freeze'):a=T.Utils.Oo('icon_auto'),a.fK='left',a.hc='center',a.iW=0.75,a.mD=0.75,a.offsetX=8,a.offsetY=-4;var b=new T.U({parent:this,Bi:!0,XF:u.greenBtnBorderImageInfo,width:this.width,height:this.height,xh:a});this.button=b;var a=T.Utils.Oo('icon_coin');a.fK='right',a.iW=0.6,a.mD=0.6,a.offsetX=0,a.offsetY=-4;var b=new T.lQ({parent:this,Bi:!0,width:40,height:40,right:4,bottom:2,xh:a,TK:{textAlign:'right',offsetX:-28,offsetY:-1,text:this.coin,strokeWidth:5,cB:'#000000',color:'#ffffff',fontSize:20}});this.coinLabel=b,this.coinK=this.coin;},cooldown:1000,coin:10,startCooldown:function(){this._cooldown=this.cooldown,this.disabled=!0;},Bq:function(b,c,d){this.disabled?this.alpha=0.6:this.alpha=1;var a=game.user;a.coin<this.coin?(this.coinLabel.ck.color='#cc0000',this.coinLabel.ck.cB='#ffffff'):(this.coinLabel.ck.color='#ffffff',this.coinLabel.ck.cB='#000000');},RT:function(b,d,e){if(this.disabled)if(this._cooldown-=d,this._cooldown<=0)this.disabled=!1;else{var a=this.h*(this._cooldown/this.cooldown),c=this.h-a;b.fillStyle='rgba(80,60,60,0.7)',b.fillRect(this.x,this.y+c,this.w,a);}},xy:function(){var a=game.user;if(a.coin<this.coin)return this.root.pauseMiniPanel.show(),this.root.shopPanel.show(),game.showNotice(TEXT.NEED_MORE_COINS),!1;a.useCoins(this.coin),this.root.subtractCoin(this.coin),this.root.D6(a.coin),game.je('insert-coin'),this.coin+=game.d8.groundIndex+1,this.coinLabel.U8(this.coin),this.fireSkill(),this.startCooldown();},fireSkill:function(){}});var Bt=T.Class.create({id:'PanelBackground',Bi:!0,padding:0,width:null,height:null,bgColor:'#666666',radius:6,borderWidth:0,borderColor:null,head:null,headWidth:0,headHeight:0,headRadius:8,heightMarginBottom:8,headColor:'#3c3c2d',headBorderWidth:1,headBorderColor:'#979778',foot:null,footWidth:0,footHeight:0,footRadius:4,footColor:'#3c3c2d',footBorderWidth:1,footBorderColor:'#979778',body:null,bodyRadius:4,bodyColor:'#f1e2d3',bodyBorderWidth:1,bodyBorderColor:'#d3c497',bodyWidth:null,bodyPadding:0,inner:null,innerRadius:4,innerColor:'#f1e2d3',innerBorderWidth:1,innerBorderColor:'#d3c497',init:function(){var b,o,d,r=this,h=this.width,k=this.height,c=this.padding||0,f=this.bodyWidth||h-c*2,m=this.headWidth||f,i=this.headHeight||0,p=this.heightMarginTop===0||this.heightMarginTop?this.heightMarginTop:c,q=this.heightMarginBottom||0,j=this.footWidth||f,e=this.footHeight||0,g=k-c;i?g-=p+i+q:g-=c,e&&(g-=e+c),o=0,d=0;var a={borderWidth:this.borderWidth,borderColor:this.borderColor,offsetX:o,offsetY:d};if(b=N.Mw(h,k,this.radius,this.bgColor,a,this.image),o+=c,d+=p,i){this.head={x:h-m>>1,y:d,width:m,height:i};var a={borderWidth:this.headBorderWidth,borderColor:this.headBorderColor,offsetX:this.head.x,offsetY:this.head.y};b=N.Mw(m,i,this.headRadius,this.headColor,a,b),d+=i+q;}this.body={x:h-f>>1,y:d,width:f,height:g};var a={borderWidth:this.bodyBorderWidth,borderColor:this.bodyBorderColor,offsetX:this.body.x,offsetY:this.body.y};b=N.Mw(f,g,this.bodyRadius,this.bodyColor,a,b);var l=f-this.bodyPadding*2,n=g-this.bodyPadding*2;d=this.body.y+this.bodyPadding,this.inner={x:h-l>>1,y:d,width:l,height:n};var a={borderWidth:this.innerBorderWidth,borderColor:this.innerBorderColor,offsetX:this.inner.x,offsetY:this.inner.y};if(b=N.Mw(l,n,this.innerRadius,this.innerColor,a,b),e){this.foot={x:h-j>>1,y:k-e-c,width:j,height:e};var a={borderWidth:this.footBorderWidth,borderColor:this.footBorderColor,offsetX:this.foot.x,offsetY:this.foot.y};b=N.Mw(j,e,this.footRadius,this.footColor,a,b);}this.dO=new x.wd({fM:this.fM,cols:this.cols,rows:this.rows,x:this.body.x,y:this.body.y,width:this.body.width,height:this.body.height}),this.cellMap={},this.cells&&(this.dO.init(),this.dO.VP(this.cells),this.cells.forEach(function(a,c){r.cellMap[a.name||c]=a,b=V.Mw(a.width,a.height,a.radius,a.bgColor,a.borderWidth,a.borderColor,a.x,a.y,b);})),this.image=b;}});var sj=T.Class.create({wN:!0,tR:'rgba(0,0,0,0.6)',width:'100%',height:'100%',top:0,left:0,visible:!1,mP:function(){this.game=game,this.parent=new T.iL({width:game.Go.G5,height:game.Go.hL}),this.parent.init();},Kn:function(){this.label=new T.lQ({parent:this,Mv:!0,TB:!0,width:'50%',height:100,TK:{textAlign:'center',color:'#ffffff',text:'Waiting...',fontSize:32}}),this.label.init();},U8:function(a){this.label.U8(a);},update:function(b,a){this.label.offsetY=Math.sin(a/150)*4;},G7:function(){game.Ux=this;},jW:function(){game.Ux=null;},gb:function(a,b,c){}},T.vP);var zN=T.Class.create({id:'NoticeBar',top:0,width:'100%',height:70,backgroundColor:'rgba(255,255,255,0.9)',borderColor:null,type:0,zIndex:9999,fontSize:26,messageText:null,visible:!0,displayTime:null,defaultDisplayTime:2200,mP:function(){this.parent=new T.iL({width:game.Go.Yg,height:game.Go.BX}),this.parent.init(),this.left=(game.Go.G5-game.Go.Yg)/2,this.top=-this.height;},Kn:function(){this.cool=!0,this.noticeQueue=[],this.originY=-this.height-4,this.recorderY=this.originY,this.messageText='(Empty)',this.message=new T.lQ({parent:this,TB:!0,width:this.width,height:this.height,left:0,top:0,TK:{offsetY:6,text:this.messageText,fontSize:this.fontSize,color:'#222222',textAlign:'center'}}),this.message.init(),this.kU(this.type);},gG:function(){this.tu&&this.tu.stop(),this.E4&&this.E4.stop();},EV:function(a){this.message.U8(a);},kU:function(a){a===-1?this.borderColor='rgba(220,30,0,1)':a===1?this.borderColor='rgba(70,230,110,1)':a===2?this.borderColor='rgba(30,120,220,1)':typeof a=='string'?this.borderColor=a:this.borderColor='#FCC607';},G7:function(){var a=this;this.visible=!0,this.timeoutId&&clearTimeout(this.timeoutId),this.timeoutId=setTimeout(function(){a.hide();},this.displayTime);},add:function(b,c,a){a||(a=this.defaultDisplayTime),!this.noticeQueue.length&&this.cool?this.show(b,c,a):this.noticeQueue.push([b,c,a]);},show:function(d,e,b){this.cool=!1,this.EV(d),this.kU(e),b||(b=this.defaultDisplayTime),this.displayTime=b;var a=this;this.E4&&this.E4.stop(),a.recorderY=a.originY,a.z7(a.recorderY);var c=new TWEEN.Tween(this).to({recorderY:0},300).easing(TWEEN.Easing.Quadratic.Out).G(function(){a.recorderY=a.originY,a.z7(a.recorderY),a.G7();}).M(function(){a.z7(a.recorderY);}).F(function(){});c.delay(100).start(),this.E4=c;},hide:function(){var a=this,b=new TWEEN.Tween(this).to({recorderY:a.originY},300).easing(TWEEN.Easing.Quadratic.Out).M(function(){a.z7(a.recorderY);}).F(function(){if(a.cool=!0,a.noticeQueue.length){a.visible=!1;var b=a.noticeQueue.shift();a.show(b[0],b[1],b[2]);}});b.start(),this.tu=b;},gb:function(a,b,c){a.fillStyle=this.backgroundColor,a.fillRect(this.x,this.y,this.w,this.h),a.fillStyle=this.borderColor,a.fillRect(this.x,this.y,this.w,4),a.fillRect(this.x,this.y+this.h-4,this.w,4);},RT:function(a,b,c){}},T.vP);var F4=T.Class.create({QE:T.lQ,Bi:!0,TW:'parent',parent:null,Mv:!0,margin:0,width:'100%+100',height:150,bottom:90,backgroundColor:'rgba(0,0,0,0.2)',visible:!1,mP:function(){this.TK={offsetX:0,offsetY:0,textAlign:'center',color:'#ffffff',text:'Tips Tips Tips Tips',fontSize:36};},update:function(b,a){this.alpha=0.8+Math.sin(a/200)*0.2;}});var Yk=T.Class.create({QE:T.vP,TW:'parent',Bi:!0,Mv:!0,top:108,width:408,height:248,backgroundColor:'#eee0bb',mP:function(){},Kn:function(){var a=new T.lQ({parent:this,TW:'parent',Mv:!0,TB:!0,width:'100%',height:'100%',TK:{textAlign:'center',offsetX:0,offsetY:14,text:this.defaultText,fontSize:this.defaultFontSize,color:'#FD8F29',strokeWidth:10,cB:'#ffffff'}});a.init();return;var c=this.Iv,b=PR.randomAd(DefaultLanguage),a=new T.U({visible:!c,parent:this,left:4,top:4,ad:b,D$:b.img,xy:function(){X.reportCount(GameName+'.AD.'+b.name),window.open(this.ad.url);}}),a=new T.lQ({visible:!c,parent:this,left:4,bottom:4,width:45,height:30,TK:{textAlign:'left',offsetX:4,offsetY:4,fontSize:22,text:'AD',color:'#ffffff',strokeWidth:4,cB:'black'}});},G7:function(){},Bq:function(a,b,c){}});var pj=T.Class.create({QE:T.lQ,Bi:!0,TW:'parent',id:'coinBar',parent:null,bottom:20,left:10,width:210,height:40,backgroundColor:'rgba(0,0,0,0.3)',mP:function(){var a=T.Utils.Oo('icon_coin');a.fK='left',a.offsetX=-15,a.offsetY=0,this.xh=a,this.MZ=T.Utils.Oo('icon_plus'),this.MZ.offsetX=4,this.MZ.offsetY=0,this.MZ.fK='right',this.MZ.hc='center',this.MZ.visible=!0,this.TK={textAlign:'center',offsetX:-5,offsetY:5,cB:'#000000',strokeWidth:8,color:'#ffffff',text:'99999',fontSize:26},this.flyCoins=[];},RT:function(b,e,f){var d=this.flyCoins.length;if(d>0){b.textAlign='center',b.strokeStyle='#000000',b.lineWidth=4;for(var c=0;c<d;c++){var a=this.flyCoins[c];b.fillStyle=a.color,b.globalAlpha=a.alpha,b.strokeText(a.coin,a.x,a.y),b.fillText(a.coin,a.x,a.y);}b.globalAlpha=1;}},k:function(b){var a={x:this.x+100,y:this.y,alpha:1,coin:'+'+b,color:'#ffffff'};this.fireFlyCoin(a);},subtractCoins:function(b){var a={x:this.x+100,y:this.y,alpha:1,coin:'-'+b,color:'#ff9900'};this.fireFlyCoin(a);},fireFlyCoin:function(a){this.flyCoins.push(a);var b=this,c=new TWEEN.Tween(a).to({y:this.y-70,alpha:0},800).easing(TWEEN.Easing.Linear.None).F(function(){b.flyCoins.shift();});c.start();}});
var E9=T.Class.create({QE:T.vP,Bi:!0,left:0,top:0,width:540,height:'100%-100',Mv:!0,TB:!0,visible:!1,wN:!0,dO:'vbox',mP:function(){this.XF=u.panelBorderImageInfo;},Kn:function(){var c=this,a=new fJ({parent:this,title:TEXT.SHOP}),f=new z({parent:this});T._B.create(0,20,this);var b=new T.vP({visible:!0,parent:this,margin:20,Mv:!0,width:450,height:180,paddingLeft:30,paddingRight:30,backgroundColor:'#eee0bb',dO:{name:'hbox',size:130}});b.init();var d=25,e=new T.lQ({parent:b,TW:'parent',margin:10,Mv:!0,width:'50%',height:60,TK:{color:'#774411',textAlign:'center',text:TEXT.GET_FREE_COINS,fontSize:TEXT.FontSize.PanelLabel}});e.init();var a=new yb({id:'watchAD',parent:b,marginLeft:d,top:70,earnCoin:!0}),a=new B$({id:'shareEarn',parent:b,marginLeft:d,top:70,earnCoin:!0}),a=new vz({id:'rateEarn',parent:b,marginLeft:d,top:70,earnCoin:!0});T._B.create(0,15,c),game.shop.productIds.forEach(function(d,f){var a=game.shop.products[d],b=T.Utils.Oo(a.icon);b.fK='left',b.offsetX=20,b.offsetY=-3;var e=new _2({parent:c,id:'btn'+a.key,btnIndex:f,productId:d,productOnce:a.once,productKey:a.key,margin:10,xh:b,FT:function(){this.productOnce&&(this.disabled=game.user.purchasedInfo[this.productKey],this.WM.alpha=this.disabled?0.45:1,this.ck.color=this.disabled?'#e6e6e6':'#ffffff');},label:a.label}),e=new T.lQ({parent:c,id:'price'+d,Bi:!0,width:10,height:80,TB:!0,right:110,HC:!0,TK:{Bx:m,fontWeight:'bold',color:'#FFF61E',textAlign:'right',text:'',fontSize:24}});});var a=new T.U({TW:'parent',parent:c,margin:20,Mv:!0,bottom:30,height:70,width:350,XF:u.blueBtnBorderImageInfo,TK:{offsetY:2,color:'#ffffff',text:TEXT.RESTORE_PURCHASED,fontSize:TEXT.FontSize.U,shadowColor:'#333333',shadowOffsetY:3},xy:function(){game.shop.restoreTransactions(function(a,b){});}});a.init();},G7:function(){var a=this.root;game.canPlayVideoAd()?(a.all.watchAD.disabled=!1,a.all.shareEarn.disabled=!0,a.all.rateEarn.disabled=!0):(a.all.watchAD.disabled=!0,a.all.shareEarn.disabled=Math.random()<0.2,a.all.rateEarn.disabled=game.user.rateCount>0),game.shop.productIds.forEach(function(c,f){var b=game.shop.products[c],d=b.price===0?'Free':b.price||'???',e='price'+c;a.all[e].U8(d);});}});var LV=T.Class.create({QE:T.iL,visible:!1,mP:function(){},Kn:function(){var e=this,b=new T.lQ({parent:e,Bi:!0,Mv:!0,TB:!0,top:-250,backgroundColor:'rgba(255,255,255,0.3)',TK:{textAlign:'center',text:'Fat Faces',fontSize:60}}),a=new T.vP({visible:!0,parent:this,margin:0,top:-20,TB:!0,Mv:!0,TW:'parent',width:400,height:'auto',dO:{name:'vbox'}});a.init();var b=new Ej({parent:a,label:TEXT.PLAY,height:80,xy:function(a,b,c){game.gotoPlay();}});T._B.create(10,10,a);var b=new Ej({parent:a,label:TEXT.GALLERY,XF:u.yellowBtnBorderImageInfo,cB:'#885500',strokeWidth:4,height:80,xy:function(a,b,c){e.galleryPanel.show();}}),a=new T.vP({visible:!0,TW:'parent',parent:this,margin:0,bottom:v?80:90,Mv:!0,width:600,height:'auto',dO:{name:'hbox',size:120}});a.init();var d=20,c=new t({parent:a,marginLeft:d}),c=new D({parent:a,marginLeft:d-5}),c=new ZR({parent:a,marginLeft:d-10,offsetY:-5,width:100,height:90,iconScale:1}),b=new vz({parent:a,marginLeft:d+5}),c=new Xe({parent:a,marginLeft:d});this.galleryPanel=new GalleryPanel({parent:this});var f=new E9({parent:this});this.shopPanel=f;},G7:function(){}});var ar=x.Class.create({QE:T.vP,left:0,top:0,width:'100%',height:70,backgroundColor:'#aa7733',borderWidth:1,mP:function(){},Kn:function(){var a=new T.lQ({id:'levelLabel',parent:this,top:20,left:15,width:150,height:40,backgroundColor:null,TK:{text:'Lv 1',fontSize:24,cB:'#000000',strokeWidth:6,color:'#ffffff'}});a.init();var b=T.Utils.Oo('icon_score');b.fK='left',b.offsetX=0,b.offsetY=2;var a=new T.lQ({id:'scoreLabel',parent:this,Mv:!0,margin:12,width:150,height:40,sr:function(a,d,e){if(this.scale!=1){a.save();var b=this.x+this.Dn.RS,c=this.y+this.Dn.PF;a.translate(b,c),a.scale(1,this.scale),a.translate(-b+this.offsetX,-c+this.offsetY);}},kv:function(a,b,c){this.scale!=1&&a.restore();},xh:b,TK:{offsetX:60,offsetY:8,textAlign:'left',cB:'#000000',strokeWidth:8,color:'#ffffff',text:'0',fontSize:32}});a.init();var c=new Xe({parent:this,visible:!0,TW:'parent',noBg:!0,top:0,right:70,width:60,height:80,borderColor:'red',borderWidth:0}),c=new Q({parent:this,visible:!0,TW:'parent',noBg:!0,top:0,right:0,width:60,height:80,borderColor:'red',borderWidth:0});},update:function(){var a=game.d8.player;}});var QB=x.Class.create({QE:T.vP,id:'footer',left:0,bottom:0,width:'100%',height:100,mP:function(){},Kn:function(){var b=new pj({visible:!0,parent:this,bottom:24,left:15,xy:function(a,b,c){this.root.pauseMiniPanel.show(),this.root.shopPanel.show();}}),a=new SkillButton({parent:this,right:180,bottom:0,coin:2,skillIndex:0,cooldown:5000,fireSkill:function(){game.d8.freezing=5000;}}),a=new SkillButton({id:'skill2',parent:this,right:8,bottom:0,coin:4,skillIndex:1,cooldown:900,fireSkill:function(){game.d8.ground.autoRemove();}});},FT:function(){}});var K9=T.Class.create({QE:T.vP,id:'gameOver',TW:'parent',Mv:!0,TB:!0,top:0,width:500,height:730,visible:!1,wN:!0,dO:'vbox',mP:function(){this.height-=250,this.XF=u.panelBorderImageInfo;},G7:function(){game.d8.ui.oG(game.d8.score,game.d8.newRecord),game.je('complete');},Kn:function(){var a=new fJ({parent:this,title:'Game Over'}),a=new il({id:'overScoreLabel',parent:this}),a=new X_({TW:'parent',parent:this,width:'100%-100',bottom:165});this.panelMenuBar=a;var b=new D({TW:'parent',parent:this,Mv:!0,left:-150,bottom:45,width:100,height:100,big:!0}),b=new j2({TW:'parent',parent:this,Mv:!0,bottom:45,width:160,height:100}),b=new Jb({TW:'parent',parent:this,Mv:!0,left:150,bottom:45});},Bq:function(a,b,c){}});var X1=T.Class.create({QE:T.vP,left:0,top:-30,Mv:!0,TB:!0,width:500,height:630,visible:!1,wN:!0,dO:'vbox',mP:function(){this.XF=u.panelBorderImageInfo;},G7:function(){game.d8.topPanel&&game.d8.topPanel!==this&&game.d8.topPanel.hide(),game.d8.topPanel=this,game.d8.paused=!0;},Kn:function(){var c=this,b=new fJ({parent:this,title:'Game Paused'}),a=new z({parent:this,xy:function(a,b,d){c.hide(),game.d8.paused=!1,game.d8.countdown=0;}}),b=new Yk({parent:this,defaultText:'PAUSE',defaultFontSize:56,Iv:!0}),b=new X_({TW:'parent',parent:this,width:'100%-100',bottom:165}),a=new j2({TW:'parent',parent:this,Mv:!0,left:-150,bottom:45}),a=new MO({TW:'parent',parent:this,Mv:!0,bottom:45,pausePanel:c}),a=new Jb({TW:'parent',parent:this,Mv:!0,left:150,bottom:45});}});var GamePauseMiniPanel=T.Class.create({QE:T.vP,left:0,top:-30,Mv:!0,TB:!0,width:500,height:550,visible:!1,wN:!0,dO:'vbox',mP:function(){this.XF=u.panelBorderImageInfo;},G7:function(){game.d8.topPanel&&game.d8.topPanel!==this&&game.d8.topPanel.hide(),game.d8.topPanel=this,game.d8.paused=!0;},Kn:function(){var a=this,b=new fJ({parent:this,title:'Game Paused'}),c=new z({parent:this,xy:function(b,c,d){a.hide(),game.d8.paused=!1,game.d8.countdown=0;}}),b=new Yk({parent:this,defaultText:'PAUSE',defaultFontSize:56,Iv:!0}),c=new MO({TW:'parent',parent:this,Mv:!0,bottom:45,pausePanel:a});}});var il=T.Class.create({QE:T.lQ,Bi:!0,parent:null,TW:'parent',Mv:!0,margin:0,width:300,height:60,bottom:290,backgroundColor:null,borderWidth:0,mP:function(){this.baseOffsetY=50;var a=T.Utils.Oo('icon_newrecord');a.fK='center',a.visible=!1,this.xh=a,a.offsetY=2,this.TK={offsetX:0,offsetY:2,textAlign:'center',color:'#dd6622',text:'0',fontSize:42,strokeWidth:6,cB:'#fff6e6'};},showNew:function(a){this.WM.visible=a;},update:function(b,a){this.WM.offsetY=this.baseOffsetY+Math.sin(a/100)*2;}});var fJ=T.Class.create({QE:T.lQ,Bi:!0,parent:null,Mv:!0,width:'100%',height:60,top:10,title:'Title',textColor:'#ffffff',textAlign:'left',textOffsetX:30,textOffsetY:6,fontSize:null,mP:function(){this.TK={offsetX:this.textOffsetX,offsetY:this.textOffsetY,fontSize:this.fontSize||TEXT.FontSize.PanelTitle,color:this.textColor,textAlign:this.textAlign,text:this.title};},update:function(b,a){this.flash&&(this.alpha=0.75+Math.sin(a/150)*0.25);}});var X_=T.Class.create({QE:T.vP,Bi:!0,Mv:!0,height:80,shareMessage:null,mP:function(){},Kn:function(){var a=new vz({TW:'parent',parent:this,left:0}),b=new B$({TW:'parent',parent:this,message:this.shareMessage,right:0});}});var Tg=T.Class.create({QE:T.iL,visible:!1,mP:function(){},Kn:function(){var d=new ar({parent:this});d.init();var e=new QB({parent:this});e.init();var a=new X1({parent:this});a.init(),this.pausePanel=a;var b=new GamePauseMiniPanel({parent:this});b.init(),this.pauseMiniPanel=b;var c=new K9({parent:this});c.init(),this.overPanel=c;var f=new E9({parent:this});this.shopPanel=f;},G7:function(){var a=game.user;this.D6(a.coin);},sY:function(b){var a=this.all.scoreLabel;if(a.U8(''+b),b==0)return;var c=new TWEEN.Tween(a).to({scale:1.25},100).easing(TWEEN.Easing.Quadratic.Out),d=new TWEEN.Tween(a).to({scale:1},200).easing(TWEEN.Easing.Quadratic.In);c.chain(d).start();},subtractCoin:function(a){this.all.coinBar&&this.all.coinBar.subtractCoins(a);},k:function(a){this.all.coinBar&&this.all.coinBar.k(a);},D6:function(a){this.all.coinBar&&this.all.coinBar.U8(''+a);},setLevel:function(a){this.all.levelLabel&&this.all.levelLabel.U8('Lv '+a);},oG:function(a,b){if(a===null){this.all.overScoreLabel.U8('Not Finish :('),this.all.overScoreLabel.showNew(!1);return;}this.all.overScoreLabel.U8('SCORE: '+a),this.all.overScoreLabel.showNew(b);}});var GalleryMenuItem=T.Class.create({QE:T.vP,Bi:!0,parent:null,Mv:!0,width:190,height:250,marginTop:10,marginBottom:50,backgroundColor:'#D9C080',selectColor:'#FF8318',selectBgColor:'#EED693',mP:function(){},FT:function(){},Kn:function(){var a=this.getGalleryIconInfo(this.heroIndex),b=new T.ol({visible:!0,parent:this,Mv:!0,left:0,top:20,vH:a,iW:0.8,mD:0.8});b.init();},getGalleryIconInfo:function(b){var a=T.Utils.Oo('face-'+b);return a.iW=1.25,a.mD=1.25,a;}});var GalleryPanel=T.Class.create({QE:T.vP,Bi:!0,left:0,top:0,width:540,height:780,Mv:!0,TB:!0,visible:!1,wN:!0,borderWidth:0,dO:'vbox',mP:function(){this.XF=u.panelBorderImageInfo;},Kn:function(){var e=this,d=new fJ({parent:this,title:TEXT.GALLERY,textAlign:'center',textOffsetX:0});T._B.create(0,40,this);var c=new T._C({parent:this,id:'scrollView2',left:0,top:0,Mv:!0,backgroundColor:'#eee0bb',width:460,height:'100% - 240',padding:20,dO:'vbox',E$:10,kj:'rgba(255,255,255, 0.6)',G9:'rgba(0,0,0,0)'});c.init(),this.scrollView=c;for(var a=0;a<Config.cardCount;a++){var b={parent:c,heroIndex:a};a%2==0?b.left=-110:(b.left=110,b.HC=!0);var d=new GalleryMenuItem(b);}var g=new T.vP({Bi:!0,TW:'parent',parent:e,bottom:120,height:40,width:'100%'}),f=new T.U({parent:this,TW:'parent',Mv:!0,bottom:40,width:150,height:70,XF:u.greenBtnBorderImageInfo,TK:{color:'#ffffff',text:TEXT.OK,fontSize:TEXT.FontSize.U,shadowColor:'#333333',shadowOffsetY:3},xy:function(a,b,c){game.gotoStart();}});f.init();},G7:function(){this.scrollView.reset();}});var Entity=x.Class.create({width:60,height:60,RS:0,PF:0,x:0,y:0,qI:0,jn:0,cf:0,Ua:0,maxVelY:Infinity,b3:0,sin:0,cos:1,velR:0,Da:null,color:'red',anim:0,img:0,alpha:1,init:function(a){this.d8=a,this.Da=[],this.g8();},computeVel:function(d,b){var a=2*d/b,c=-a/b;return[a,c];},uniformVel:function(b,c){var a=b/c;return a;},Ls:function(a,b){this.x=a,this.y=b,this.g8();},DW:function(a,b){this.lastX=this.x,this.lastY=this.y,this.lastVelX=this.qI,this.lastVelY=this.jn,this.qI=this.qI+this.cf*a,this.dx=(this.lastVelX+this.qI)/2*a,this.jn=Math.min(this.maxVelY,this.jn+this.Ua*a),this.dy=(this.lastVelY+this.jn)/2*a;},ni:1,vC:2,ma:4,Mq:8,clampPosition:function(){var a=0;return this.x<=this.Jb&&(a|=this.ni,this.x=this.Jb),this.y<=this.S8&&(a|=this.vC,this.y=this.S8),this.x>=this.io&&(a|=this.ma,this.x=this.io),this.y>=this.Ah&&(a|=this.Mq,this.y=this.Ah),a;},clampVelocity:function(){var a=0;return this.qI<=this.minVelX&&(a|=this.ni,this.qI=this.minVelX),this.jn<=this.minVelY&&(a|=this.vC,this.jn=this.minVelY),this.qI>=this.maxVelX&&(a|=this.ma,this.qI=this.maxVelX),this.jn>=this.maxVelY&&(a|=this.Mq,this.jn=this.maxVelY),a;},g8:function(){var a=this.x-this.RS,b=this.y-this.PF;this.Da[0]=a,this.Da[1]=b,this.Da[2]=a+this.width,this.Da[3]=b+this.height;},uR:function(b,c){var a=this.Da;return a[0]<b&&b<a[2]&&a[1]<c&&c<a[3];},sM:function(b){var a=this.Da;return b[0]<a[2]&&b[2]>a[0]&&b[1]<a[3]&&b[3]>a[1];},update:function(a,b){},Xo:function(a,b,c){},SA:function(b){for(var a in this)this[a]=undefined;this.d8=null,this.bZ=!0;}},null);Entity.fw=0,Entity.qc=function(){Entity.fw++;var a='do_'+Entity.fw;return a;},Entity.vL=function(c,f,i){var d,g,h=c.length;if(i)for(var b=1;b<h;b++){d=c[b];var e=d[f];for(var a=b;a>0&&(g=c[a-1])[f]<e;a--)c[a]=g;c[a]=d;}else for(var b=1;b<h;b++){d=c[b];var e=d[f];for(var a=b;a>0&&(g=c[a-1])[f]>e;a--)c[a]=g;c[a]=d;}};var CP=x.Class.create({QE:Entity,qI:0,jn:0,init:function(a){this.d8=a,this.RS=this.width>>1,this.PF=this.height>>1,this.Da=[],this.g8();},onCollided:function(a){},collide:function(a){return this.sM(a.Da)?(this.onCollided(a),!0):!1;},update:function(a,b){},Xo:function(a,b,c){V.vm(a,this.Da,this.color||'black');}},null);var bM=x.Class.create({QE:Entity,Bi:!0,color:'red',disabled:!1,pause:!0,text:null,hideTipTextWhenLeave:!0,skipWay:'tap',x:0,width:640,up:!1,init:function(){this.d8=game.d8,this.RS=0,this.PF=0,this.Da=[],this.g8(),this.originPause=this.pause;},skip:function(a){this.skipWay===a&&(this.pause=!1);},onEnter:function(a){this.d8.tipBlock=this,this.d8.ui.tipLabel.U8(this.text);},onLeave:function(a){this.disabled=!0,this.d8.tipBlock=null,this.d8.ui.tipLabel.visible=!1;},collide:function(a){if(a.disabled||this.disabled)return!1;var b=!1;if(this.d8.tipBlock==this)this.up?b=a.y<this.Da[1]:b=a.y>this.Da[3];else if(this.uR(a.x,a.y))return this.onEnter(a),!0;return b&&(this.disabled=!0,this.onLeave(a)),!1;},update:function(a,b){},Xo:function(a,b,c){V.vm(a,this.Da,this.color||'black');}},null);var Card=x.Class.create({x:0,y:0,col:0,row:0,width:0,height:0,name:null,uN:null,vH:null,category:0,no:0,selected:!1,blank:!1,padding:4,ground:null,init:function(b){if(this.width=this.cardWidth,this.height=0,this.ground=b,this.name=this.name||'f-'+this.no,this.Ls(this.col,this.row),!(this.blank||this.vH)){var a=V.Oo(this.uN);this.vH=a;}},Ls:function(a,b){this.col=a,this.row=b;var c=this.ground;this.x=this.col*this.cardWidth,this.y=this.row*this.cardHeight;},clone:function(){var a=new Card({blank:this.blank,cardWidth:this.cardWidth,cardHeight:this.cardHeight,width:this.width,height:0,vH:this.vH,category:this.category,no:this.no});return a;},update:function(a,b){},xy:function(){},equals:function(a){return a&&a.name==this.name;},destory:function(){this.dead=!0,this.selected=!1,this.disabled=!1,this.bZ=!0;},renderFace:function(b,c,d){var a=this.vH;b.drawImage(a.img,a.x,a.y,a.w,a.h,c+5,d+5+1,this.width-10,this.height-10);},renderName:function(a,b,c){a.font='30px Arial',a.fillStyle='#ffffff',a.fillRect(b,c,this.width,this.height),a.fillStyle='#000000',a.fillText(this.name,b+30,c+70);},Xo:function(a,e,f){if(this.blank)return;var c=this.ground.x,d=this.ground.y;a.save(),a.translate(c+this.x+this.cardWidth/2,d+this.y+this.cardHeight/2),this.X&&a.scale(-1,1);var b=this.rotate?Math.PI:0;(this.selected||this.disabled)&&(b+=0+Math.sin(f/80)*0.08),b&&a.rotate(b),this.disabled,this.renderName(a,-this.width/2,-this.height/2),this.renderFace(a,-this.width/2,-this.height/2),a.restore(),this.height<this.cardHeight&&(this.height+=e*0.6,this.height>this.cardHeight&&(this.height=this.cardHeight));}});Card.createCardImg=function(){var e=118,h=e*380/300>>0;Card.cardBgImg=N.Mw(e,h,0,{color:'#a05522',borderWidth:2,borderColor:'#443322',shadowColor:'#443322',shadowOffsetX:0,shadowOffsetY:10});var c=V.Oo('coin-bg'),i=V.Oo('coin'),b=100,d=(b*190/150>>0)+5,f=b-c.w>>1,g=(d-c.h>>1)-2;Card.centerCardBgImg=N.Mw(b,d,12,{color:'#bbb6aa',borderWidth:3,borderColor:'#ffffff',shadowColor:'#666666',shadowOffsetX:0,shadowOffsetY:8});var a=Card.centerCardBgImg.getContext('2d');a.globalAlpha=0.6,V.vJ(a,c,f,g),a.globalAlpha=1,Card.centerCardFgImg=N.Mw(b,d,12,{color:'#cc4400',borderWidth:2,borderColor:'#eeeeee',shadowColor:'#664422',shadowOffsetX:0,shadowOffsetY:8});var a=Card.centerCardFgImg.getContext('2d');V.vJ(a,i,f,g);};var TimeBar=T.Class.create({QE:Entity,init:function(a){this.d8=a,this.timebarValueInfo=V.Oo('timebar-value'),this.timebarBgInfo=V.Oo('timebar-bg'),this.timebarValueFreezeInfo=V.Oo('timebar-value-freeze'),this.timebarBgFreezeInfo=V.Oo('timebar-bg-freeze'),this.x=a.width-this.timebarBgInfo.w>>1,this.y=110;},freezing:!1,Xo:function(h,j,i){var b=this.d8,e=0,g=0;this.freezing?(this.vv=this.timebarBgFreezeInfo,this.lJ=this.timebarValueFreezeInfo):(this.vv=this.timebarBgInfo,this.lJ=this.timebarValueInfo,b.ground.timeCount<3500&&!this.d8.lose&&(e=V.TQ(-2,2),g=V.TQ(-2,2)));var f=this.x+e,d=this.y+g,c=Math.min(1,b.ground.timeCount/b.ground.timeCountMax);V.vJ(h,this.vv,f,d);var a=this.lJ;h.drawImage(a.img,a.x,a.y,a.w*c,a.h,36+f,d,a.w*c,a.h);}});var CenterTile=T.Class.create({QE:Entity,init:function(a){this.d8=a,this.ground=a.ground,this.D$=Card.centerCardBgImg,this.fgImg=Card.centerCardFgImg;},Xo:function(h,m,l){var k=this.d8,j=this.ground.x+this.x,g=this.ground.y+this.y,i=this.ground.currentScore/this.ground.maxScore,b=this.D$.width,c=this.D$.height,a=c*i,f=c-a,e=j+(this.width-b>>1),d=g+(this.height-c>>1);h.drawImage(this.D$,e,d),a>0&&h.drawImage(this.fgImg,0,f,b,a,e,d+f,b,a);}});var FinishEffect=x.Class.create({x:0,y:0,color:'#ffffff',particleCount:15,size:80,Zf:0.003,alpha:0.8,Fk:0.003,rB:0.004,vel:1.2,velCount:4,init:function(d){this.d8=d,this.particles=[];var a=this.vel/this.velCount;for(var b=0;b<this.particleCount;b++){var c=new x.Gm({id:b,offsetX:this.x,offsetY:this.y,IA:this.color,width:this.size+V.TQ(-2,2)*3,height:this.size+V.TQ(-2,2)*3,Zf:this.Zf,alpha:this.alpha+V.TQ(-2,2)*0.05,Fk:this.Fk,rB:this.rB,qI:V.TQ(-this.velCount,this.velCount)*a||(Math.random()<0.5?-a:a),jn:V.TQ(-this.velCount,this.velCount)*a||(Math.random()<0.5?-a:a)});c.init(),this.particles.push(c);}},YP:function(){},Xo:function(f,d,e){var b=0,c=this.particles.length;while(b<c){var a=this.particles[b];if(a.update(d,e),(a.alpha<=0.01||a.width<=0.01||a.height<=0.01||a.corcle&&a.radius<=0.01)&&(a.bZ=!0),a.bZ){c--,this.particles.splice(b,1);continue;}a.Xo(f,d,e),b++;}this.particles.length<1&&this.YP();}});var Hv=Hv||{};!function(e,f,c,d,g,b,a,h,i){e=50,f=56,c={idle:{frames:[0,1,2,3,1,2,3,1,2,3],duration:250,loop:!0}},d='player',g=Hv[d]={};for(b in c)a=c[b],a.ox=a.ox||a.ox===0?a.ox:-e,a.oy=a.oy||a.oy===0?a.oy:-f,h=a.uN||d+'_'+(a.name||b),i=A.dD(a,h),g[b]=i;}();
var Qy=x.Class.create({QE:x.II,name:'LoadingScene',x:0,y:0,process:0,showLoading:!1,showStart:!1,init:function(a){this.game=a,this.loadBgImg=this.loadBgImg||$id('load-bg'),this.loadValueImg=this.loadValueImg||$id('load-value'),this.sL(),this.resize();},resize:function(){this.width=this.game.Go.Yg,this.height=this.game.Go.BX;},sL:function(){var a=this,b={parent:a,Ez:'img',gj:!0,pv:!0,interval:50,delay:20,Lj:function(f,b){var c=b.Q9,d=b._u,e=b.WS;a.process=c/d;},L5:function(b){var e=b.Q9,f=b._u,c=b.WS;for(var d in c)Id.add(d,c[d]);setTimeout(function(){a.onLoad(e,f,c);},b.delay);}};this.Q2=new x.kL(b),this.Q2.items=r,this.Q2.init();},startLoad:function(){this.game.aL&&this.game.aL(),this.loaded=!1,this.SW=!0,this.Q2.start();},onLoad:function(b,c,d){this.loaded=!0,this.SW=!1,this.game.Mp&&this.game.Mp();var a=this;setTimeout(function(){a.onReady();},500);},onReady:function(){game.gotoStart();},gW:function(){game.dataLogEvent('Loading_start'),this.showLoading=!0,this.startLoad();},K_:function(){},update:function(a,b){this.showLoading&&this.process>=1&&(this.process=1);},Xo:function(a,j,i){a.clearRect(0,0,this.width,this.height);
var d=['Tap the Same 2 faces','to Remove them.','\u70B9\u51FB \u4E24\u5F20 \u76F8\u540C\u7684\u56FE\u7247','\u5C06\u5B83\u4EEC\u6D88\u9664'];
if(a.fillStyle='#ffffff',a.font='32px Arial',a.textAlign='center',a.fillText(d[0],this.width/2,this.height/2-20),a.fillText(d[1],this.width/2,this.height/2-20+80),this.showLoading){var c=Math.min(1,this.process);if(this.loadValueImg){var e=this.height-this.loadValueImg.height>>1;if(this.loadBgImg){var h=0,f=0;a.drawImage(this.loadBgImg,(this.width-this.loadBgImg.width>>1)+h,e+f);}var b=this.loadValueImg.width*c;b&&a.drawImage(this.loadValueImg,0,0,b,this.loadValueImg.height,this.width-this.loadValueImg.width>>1,e,b,this.loadValueImg.height);}else{var g=this.width;a.fillStyle='#ffffff',a.fillRect(0,this.height*2/3>>0,g*c,4);}}}});var mj=x.Class.create({QE:x.II,name:'StartScene',uq:0,x:0,y:0,first:!0,bgColor:'rgba(30,10,40,0.5)',init:function(a){this.game=a,this.width=this.game.width,this.height=this.game.height,this.q9(),this.BO(this.game),this.sceneFader=new x.tE({x:-a.offsetX,y:-a.offsetY,Au:0.0025,width:a.G5,height:a.hL}),this.sceneFader.init();},q9:function(){},BO:function(a){this.ui=new LV({width:a.Go.Yg,height:a.Go.BX,Pr:{x:-50,w:100}}),this.ui.init();},onResize:function(){this.ui.qL(game.Go.Yg,game.Go.BX);},gW:function(){game.LY('bgm-play'),game.je('bgm-home'),this.ui.show();},K_:function(){},update:function(a,b){this.uq++,this.ui.update(a,b),this.sceneFader.update(a,b);},Xo:function(a,b,c){this._J(a,b,c),this.ui.Xo(a,b,c),this.sceneFader.Xo(a,b,c);},_J:function(a,b,c){a.fillStyle='rgba(200,190,180,1)',a.fillRect(0,0,this.width,this.height);},f_:function(a,b,c,d){},l_:function(a,b,c,d){},rA:function(a,b,c,d){},dM:function(a,b,c,d,e,f,g,h){},sa:function(a,b,c,d,e,f,g,h){},U3:function(a,b){}});var Ground=x.Class.create({QE:x.II,x:0,y:0,index:0,init:function(f){this.d8=f,this.cardWidth=110,this.cardHeight=this.cardWidth*190/150>>0,this.rows=5,this.cols=5,this.width=this.cardWidth*this.cols,this.height=this.cardHeight*this.rows,this.x=game.Go.Yg-this.width>>1,this.y=game.Go.BX-this.height-120,Card.cardBgImg||Card.createCardImg(),this.stageConfig=StageConfig[this.index]||StageConfig[StageConfig.groundCount-1],console.log(JSON.stringify(this.stageConfig,null,4)),this.score=0,this.centerTile=new CenterTile({x:this.cardWidth*2,y:this.cardHeight*2,width:this.cardWidth,height:this.cardHeight}),this.centerTile.init(this.d8),this.currentScore=0,this.maxScore=this.stageConfig.finishRequire,this.IU=this.x+this.width/2,this.Fs=this.y+this.height/2,this.blankTiles={},this.cardTiles={},this.selectedCards=[],this.removedCards=[],this.cardList=[];var c=this.stageConfig;for(var a=c.cardStart;a<=c.cardEnd;a++){var b=this.d8.allFaces[a],e={cardWidth:this.cardWidth,cardHeight:this.cardHeight,uN:b.uN,index:b.index,no:b.index},d=new Card(e);d.init(this),this.cardList.push(d);}this.updateFaces(),this.timeCountMax=this.stageConfig.timeCount,this.timeCount=this.timeCountMax;},K_:function(){},updateFaces:function(){var c=this.stageConfig;V.CA(this.cardList);var b=[];for(var a=0;a<c.threeCount;a++)b.push(this.cardList[a]),b.push(this.cardList[a]),b.push(this.cardList[a]);for(var a=c.threeCount;a<c.threeCount+c.doubleCount;a++)b.push(this.cardList[a]),b.push(this.cardList[a]);c.singleCount=c.cardCount-c.threeCount*3-c.doubleCount*2;var e=this.cardList.length-1;for(var a=0;a<c.singleCount;a++)e-=a,e<0&&(e=this.cardList.length+e),b.push(this.cardList[e]);if(b.length<StageConfig.groundSize){var j=StageConfig.groundSize-b.length;for(var a=0;a<j;a++){var h=new Card({blank:!0});h.init(this),b.push(h);}}V.CA(b);var i=0;for(var f=0;f<this.rows;f++)for(var g=0;g<this.cols;g++){if(g==2&&f==2)continue;var d=b[i];if(!d)break;d=d.clone(),d.rotate=Math.random()<this.stageConfig.rotate,Math.random()<this.stageConfig.X&&(d.X=!0),d.init(this),d.Ls(g,f),this.addCard(d),i++;}},addCard:function(c){var a=c.col,b=c.row;c.blank?(this.blankTiles[a+','+b]=!0,delete this.cardTiles[a+','+b]):(this.cardTiles[a+','+b]=c,delete this.blankTiles[a+','+b]);},createCardRandom:function(){var a=Object.keys(this.blankTiles),b=a[Math.random()*a.length>>0];delete this.blankTiles[b];var c=b.split(',');return this.createCard(c[0],c[1]);},createCard:function(e,f){var a,c=this.getPairCards(),b=this.stageConfig;if(c)a=this.cardList[V.TQ(0,this.cardList.length-1)];else for(var d in this.cardTiles){a=this.cardTiles[d];break;}return a=a.clone(),a.rotate=Math.random()<b.rotate,Math.random()<b.X&&(a.X=!0),a.init(this),a.Ls(e,f),this.addCard(a),a;},getPairCards:function(){var a={},d=null;for(var e in this.cardTiles){var c=this.cardTiles[e];if(!c)continue;var b=c.name;if(a[b]||(a[b]=[]),a[b].push(c),a[b].length==2){d=a[b];break;}}return d;},selectCard:function(a){var b=this.selectedCards.length;if(b>0){var c=this.selectedCards[0];if((c==a||!a.equals(c))&&(this.unselectCards(),b=0,c==a))return;}b++,a.selected=!0,this.selectedCards.push(a),b>=this.stageConfig.removeRequire&&this.removeSelectedCards();},unselectCards:function(){this.selectedCards.forEach(function(a){a.selected=!1;}),this.selectedCards.length=0;},autoRemove:function(){if(this.autoRemoving||this.finish)return;this.unselectCards();var a=this;a.autoRemoving=!0;var b=this.getPairCards();b?(this.selectCard(b[0]),this.selectCard(b[1]),game.AK.Ta(function(){a.autoRemoving=!1;},500)):a.autoRemoving=!1;},removeSelectedCards:function(){var a=this;this.selectedCards.forEach(function(b){a.removeCard(b);}),this.selectedCards.length=0,a.score++,a.score>=a.stageConfig.finishRequire&&(a.finish=!0),game.AK.Ta(function(){a.currentScore++,a.d8.score++,a.d8.ui.sY(a.d8.score);},500);},removeCard:function(a){var b=this;this.blankTiles[a.col+','+a.row]=!0,delete this.cardTiles[a.col+','+a.row],this.removedCards.push(a),a.disabled=!0;var c=new TWEEN.Tween(a).to({x:this.centerTile.x,y:this.centerTile.y},300).easing(TWEEN.Easing.Linear.None).M(function(){}).F(function(){a.destory();});c.delay(300).start(),game.AK.Ta(function(){b.finish||b.createCardRandom();},500);},update:function(a,b){},Xo:function(a,d,e){a.fillStyle='black',a.strokeStyle='black';for(var b=0;b<this.rows;b++)for(var c=0;c<this.cols;c++){if(c==2&&b==2)continue;var g=c+','+b,f=this.cardTiles[c+','+b];f&&f!==-1&&f.Xo(a,d,e);}this.selectedCards.forEach(function(b){b.Xo(a,d,e);}),V.CF(this.removedCards,a,d,e),this.centerTile.Xo(a,d,e);},rA:function(b,c,g){if(b-=this.x,c-=this.y,b<0||c<0)return;var d=b/this.cardWidth>>0,e=c/this.cardHeight>>0,f=d+','+e,a=this.cardTiles[f];a&&!a.disabled&&!a.blank?this.selectCard(a):d==2&&e==2&&this.unselectCards();}});var L0=x.Class.create({QE:x.II,x:0,y:0,name:'PlayScene',first:!0,bgColor:'rgba(30,10,40,0.5)',stageInfo:null,init:function(a){this.game=a,this.width=this.game.width,this.height=this.game.height,this.q9(),this.BO(this.game);},q9:function(){},BO:function(a){this.ui=new Tg({width:a.width,height:a.height}),this.ui.init(),this.coinInfo=V.Oo('coin');},gW:function(){this.ui.show(),this.score=0,this.groundIndex=-1,this.allFaces=[];var b='face-',e=b.length;for(var a=0;a<Config.cardCount;a++){var c=b+a,d={uN:c,index:a,no:a};this.allFaces.push(d);}this.allFaces.sort(function(a,b){return a.index-b.index;}),this.nextGround(),this.timebar=new TimeBar({}),this.timebar.init(this),game.showNotice(TEXT.GAMEPLAY_TIP,2,3300);},nextGround:function(){this.waitingNext=!1,this.freezing=0,this.groundIndex++,this.ground=new Ground({index:this.groundIndex}),this.ground.init(this),console.log('groundIndex',this.groundIndex),this.ui.setLevel(this.groundIndex+1);},K_:function(){},resume:function(){},freezing:0,beforeNextGround:function(b){var a=this,e=b.index+1,c=b.IU,d=b.Fs;game.AK.Ta(function(){a.fireFinishEffect(c,d);},350),game.AK.Ta(function(){a.fireCoinEffect(c,d);},450),game.AK.Ta(function(){a.giveCoin(e),a.nextGround();},1000);},update:function(a,b){if(this.ui.update(a,b),this.paused)return;if(this.lose){this.ui.overPanel.show();return;}this.ground.finish?this.waitingNext||(this.waitingNext=!0,this.beforeNextGround(this.ground)):this.freezing<=0?(this.timebar.freezing=!1,this.ground.timeCount-=a,this.ground.timeCount<0&&(this.lose=!0)):(this.freezing-=a,this.timebar.freezing=!0),this.timebar.update(a,b);},giveCoin:function(a){game.user.k(a),this.ui.k(a),this.ui.D6(game.user.coin);},fireCoinEffect:function(c,d){this.coinEffect={x:c,y:d,alpha:1,scale:1};var a=this,b=new TWEEN.Tween(this.coinEffect).to({x:90,y:this.height,alpha:0.2,scale:0.4},700).easing(TWEEN.Easing.Quadratic.In).F(function(){a.coinEffect=null;});b.start();},fireFinishEffect:function(b,c){var a=this;this.finishEffect=new FinishEffect({x:b,y:c,YP:function(){a.finishEffect=null;}}),this.finishEffect.init(this);},Xo:function(a,d,e){if(this._J(a,d,e),a.fillStyle='black',a.strokeStyle='black',this.ground.Xo(a,d,e),this.timebar.Xo(a,d,e),this.ui.Xo(a,d,e),this.coinEffect){a.save();var c=this.coinEffect;a.globalAlpha=c.alpha,a.translate(c.x,c.y),a.scale(c.scale,c.scale);var b=this.coinInfo;a.drawImage(b.img,b.x,b.y,b.w,b.h,-b.w/2,-b.h/2,b.w,b.h),a.restore();}this.finishEffect&&this.finishEffect.Xo(a,d,e);},_J:function(a,b,c){a.fillStyle='rgba(200,200,200,1)',a.fillRect(0,0,this.width,this.height);},f_:function(a,b,d){var c=this.ui.sV('touchStart',a,b,1);},l_:function(a,b,d){var c=this.ui.sV('touchEnd',a,b,1);},rA:function(a,b,d){var c=this.ui.sV('tap',a,b,1);c||this.win||this.ground.rA(a,b,d);},dM:function(a,b,c,d,e,f,g){},U3:function(a,b,c){}});var sl=x.Class.create({storeId:null,storeWithId:!0,valueListeners:null,appName:null,appVerNum:0,appVersion:0,runCount:0,IAPCount:0,userInfo:null,purchasedInfo:null,coin:10,init:function(){this.storeId=this.storeId||this.appName,this.valueListeners=this.valueListeners||{},this.store=new x.hE({id:this.storeId,FK:this.storeWithId,valueListeners:this.valueListeners}),this.store.init(),this.loadAll(),this.Mp();},loadAll:function(){this.load('appVersion',0),this.load('runCount',0),this.load('IAPCount',0),this.load('userInfo',{}),this.load('purchasedInfo',{}),this.load('coin',this.coin);},saveAll:function(){this.save('appVersion'),this.save('runCount'),this.save('IAPCount'),this.save('userInfo'),this.save('purchasedInfo'),this.save('coin');},Mp:function(){this.setItem('appVersion',game.appVersion),this.runCount++,this.setItem('runCount',this.runCount),this.appVerNum=this.getAppVerNum(this.appVersion),this.runCount==1&&this.onFirstRun();},onFirstRun:function(){},update:function(a,b){},loadUserInfo:function(){this.load('userInfo',{});},saveUserInfo:function(){this.save('userInfo');},loadUserInfoRemote:function(){X.loginGameCenter(function(){},!0);},getAppVerNum:function(a){a=a||'0.0.1';var b=a.split('.'),c=0,d=b.length;return b.forEach(function(b){d--;var a=Math.pow(100,d);c+=b*a;}),c;},clear:function(){this.store.clear(),this.loadAll();},Rr:function(a){var b=this[a]+1;this.setItem(a,b);},setItem:function(a,b){this[a]=b,this.store.save(a,b);},getItem:function(b,c){var a=this.store.load(b,c);return this[b]=a,a;},save:function(a){this.store.save(a,this[a]);},load:function(b,c){var a=this.store.load(b);return(a===undefined||a===null)&&arguments.length==2&&(a=c),this[b]=a,a;},useCoins:function(a){a=a||1,this.setItem('coin',Math.max(0,this.coin-a));},k:function(a,b){a>0&&(this.setItem('coin',this.coin+a),b&&game.showNotice('You got '+a+' coins.'));},buyProduct:function(a){this.purchasedInfo[a]=(this.purchasedInfo[a]||0)+1,this.save('purchasedInfo');}});var Ee=x.Class.create({storeId:null,storeWithId:!0,appName:null,iapConfig:null,products:null,productIds:null,productsConfig:null,purchasedInfo:null,init:function(){this.U9(),this.storeId=this.storeId||this.appName,this.store=new x.hE({id:this.storeId,FK:this.storeWithId}),this.store.init(),this.loadProducts();},U9:function(){var c=this.iapConfig;this.productIds=[];for(var b in c){var a=c[b];this.productIds.push(a.id);}this.productsConfig={};for(var b in c){var d=c[b],e=d.id,a=this.productsConfig[e]={};a.key=b,a.icon=d.icon,a.label=d.label,a.id=null,a.title=null,a.description=null,a.price=null;}console.log(this.productsConfig);},update:function(a,b){},restoreTransactions:function(a){var b=this;X.restoreTransactions(function(h,d){if(!h&&d){var k=d.length;for(var e=0;e<k;e++){var j=d[e].productId,f=b.iapConfig[j],g=f.productName,i=f.value,l=f.add,c=game.user;l?c.setItem(g,c[g]+i):c.setItem(g,i),c.buyProduct(j);}game.showNotice('The deal is Done.',1),a&&a(h,d);}else game.showNotice('The deal Failed.',-1),a&&a(h,null);});},buyProduct:function(a,b){var c=this;return X.buyProduct(a,function(g,h){if(!g&&h&&h.productId==a){var e=c.iapConfig[a],f=e.productName,i=e.value,j=e.add,d=game.user;j?d.setItem(f,d[f]+i):d.setItem(f,i),d.buyProduct(a),d.Rr('buyCount'),game.showNotice('The deal is Done.',1),b&&b(g,h);}else game.showNotice('The deal Failed.',-1),b&&b(g,null);});},loadProducts:function(){var a=this.store.load('products');a?this.products=a:this.products=JSON.parse(JSON.stringify(this.productsConfig));},saveProducts:function(){this.store.save('products',this.products);},loadProductsRemote:function(){var a=this;X.loadProducts(this.productIds,function(f,c){if(f||!c||c.length===0){console.log('loadProductsRemote',f);return;}console.log('loadProductsRemote',c.length);for(var e=0;e<c.length;e++){var b=c[e],g=b.id,d=a.products[g];d.id=b.id,d.title=b.title,d.description=b.description,d.price=b.price;}a.saveProducts();});}});var Id=new x.Tw(),game=new DefaultGame({appVersion:AppVersion,appVerNum:AppVerNum,loadingOptions:Config.loadingOptions,FPS:Config.FPS,g:Config.g,width:Config.width,height:Config.height,e3:!1,incomingCommandDataQueue:[],dataEyeKey:null,uc:!1,waitingRotation:0,onlineCount:0,accountType:null,accountId:null,Jj:x.s9.vq,eT:'center',u:Config.u,Z:Config.Z,Y_:!1,K7:!0,BO:function(){this.notice=new zN({fontSize:TEXT.FontSize.NoticeBar}),this.notice.init(this),this.notice.root.update(),this.topMask=new sj({}),this.topMask.init(this),this.topMask.root.update();},as:function(){J(),B(),a(),e(),I&&(I.ho=this.ho||1,I.offsetX=-this.offsetX||0,I.offsetY=-this.offsetY||0);},$y:function(){var a=Config.a||window.innerWidth,b=Config.f||window.innerHeight;this.tD(a,b);},onResize:function(){I&&(I.ho=this.ho||1,I.offsetX=-this.offsetX||0,I.offsetY=-this.offsetY||0),this.d8&&this.d8.onResize&&this.d8.onResize();},reload:function(){},Mp:function(){var b='',a=b+''+b+'';a+='pa'+b+'ck'+b+'-';var c=N.Cv(Id.get(a+1));Id.set(a+1,c);var c=N.Cv(Id.get(a+2));Id.set(a+2,c),T.Py=Id.getAll(),T.pj=o||{},A.Py=Id.getAll(),A.pj=o,this.user=new sl({storeId:'FatFaces'}),this.user.init(),this.shop=new Ee({storeId:'FatFaces',iapConfig:IAPConfig}),this.shop.init();},gotoStart:function(b){var a=new mj();a.init(this),this.re(a),this.gotoPlay();},gotoPlay:function(){var a=new L0({});a.init(this),this.re(a);},resetAll:function(){window.localStorage.clear(),window.location.reload();},restart:function(){this.gotoPlay();},RT:function(c,a,b){this.topMask.visible&&(this.topMask.update(a,b),this.topMask.Xo(c,a,b)),this.notice.visible&&(this.notice.update(a,b),this.notice.Xo(c,a,b));},e8:function(){console.log('============ Page Hidden ============'),this.pause();},fZ:function(){console.log('============ Page Visible ============'),this.resume();},W1:function(){this.d8;},CH:function(a,b,c){this.notice.add(a,b,c);},showNotice:function(a,b,c){this.notice.show(a,b,c);},hideNotice:function(){this.notice.hide();},showTopMask:function(a,b){if(a&&this.topMask.U8(a),this.topMask.show(),b){var c=this;setTimeout(function(){c.hideTopMask();},b);}},hideTopMask:function(){this.topMask.hide();},canPlayVideoAd:function(){return Math.random()<0.3;},shareEarnCoin:function(a,b){},rateEarnCoin:function(a){},ta:function(a){a&&a.xy&&game.je('click');}}),startGame=function(){window.scrollX=0,window.scrollY=0;var a=Config.a||window.innerWidth,b=Config.f||window.innerHeight;console.log('game size: ',game.width,game.height),console.log('view size: ',a,b),game.a=a,game.f=b,game.init(),game.load(),game.start();},containerDom,infoDom,o;window.addEventListener('load',function(){containerDom=$id('container'),infoDom=$id('info'),game.browser=V.getBrowserInfo();var a=V.getUrlParams();game.debug=a.debug,startGame();});